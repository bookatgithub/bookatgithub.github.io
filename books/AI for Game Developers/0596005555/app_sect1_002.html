<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Magnitude</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body >
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="app_sect1_001.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="app_sect1_010.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="app_sect1_002"></A>
<H3 class="docSection1Title">Magnitude</H3>
<P class="docText">The <span class="docEmphasis">Magnitude</span> method simply calculates the scalar magnitude of the vector according to the formula</P>
<IMG BORDER="0" ALIGN="center" SRC="images/0596005555/figs/app_ueq01.jpg" ALT="figs/app_ueq01.jpg">
<P class="docText">This is for a zero-based vector in which the components are specified relative to the origin. The magnitude of a vector is equal to its length, as illustrated in <A class="docLink" HREF="#app_fig01">Figure A-1</A>.</P>
<A NAME="app_fig01"></A><p><CENTER>
<H5 class="docFigureTitle">Figure A-1. Vector Length (Magnitude)</H5>
<IMG BORDER="0" SRC="images/0596005555/figs/app_fig01.jpg" ALT="figs/app_fig01.jpg">
</CENTER></p><br>
<P class="docText">Here's the code that calculates the vector magnitude for our Vector class:</P>
<PRE>
        inline        float Vector::Magnitude(void)
        {
	              return (float) sqrt(x*x + y*y + z*z);
        }
</PRE><BR>

<P class="docText">Note that you can calculate the components of a vector if you know its length and direction angles. <span class="docEmphasis">Direction angles</span> are the angles between each coordinate axis and the vector, as shown in <A class="docLink" HREF="#app_fig02">Figure A-2</A>.</P>
<A NAME="app_fig02"></A><p><CENTER>
<H5 class="docFigureTitle">Figure A-2. Direction Angles</H5>
<IMG BORDER="0" SRC="images/0596005555/figs/app_fig02.jpg" ALT="figs/app_fig02.jpg">
</CENTER></p><br>
<P class="docText">The components of the vector shown in this figure are as follows:</P>
<IMG BORDER="0" ALIGN="center" SRC="images/0596005555/figs/app_ueq02.jpg" ALT="figs/app_ueq02.jpg">
<P class="docText">The cosines of the direction angles seen in these equations are known as <span class="docEmphasis">direction cosines.</span> The sum of the squares of the direction cosines is always equal to 1:</P>
<IMG BORDER="0" ALIGN="center" SRC="images/0596005555/figs/app_ueq03.jpg" ALT="figs/app_ueq03.jpg">
<A NAME="app_sect1_003"></A>
<H4 class="docSection2Title">Normalize</H4>
<P class="docText">The <span class="docEmphasis">Normalize</span> method normalizes the vector, or converts it to a unit vector satisfying the following equation:</P>
<IMG BORDER="0" ALIGN="center" SRC="images/0596005555/figs/app_ueq04.jpg" ALT="figs/app_ueq04.jpg">
<P class="docText">In other words, the length of the normalized vector is 1 unit. If <span class="docEmphBold">v</span> is a nonunit vector with components <span class="docEmphasis">x</span>, <span class="docEmphasis">y</span>, and <span class="docEmphasis">z</span>, then the unit vector <span class="docEmphBold">u</span> can be calculated from <span class="docEmphBold">v</span> as follows:</P>
<IMG BORDER="0" ALIGN="center" SRC="images/0596005555/figs/app_ueq05.jpg" ALT="figs/app_ueq05.jpg">
<P class="docText">Here, |<span class="docEmphBold">v</span>| is simply the magnitude, or length, of vector <span class="docEmphBold">v</span> as described earlier.</P>
<P class="docText">Here's the code that converts our <span class="docEmphasis">Vector</span> class vector to a unit vector:</P>
<PRE>
        inline         void    Vector::Normalize(void)
        {
            	  float m = (float) sqrt(x*x + y*y + z*z);
            	  if(m &lt;= tol) m = 1;
	              x /= m;
	              y /= m;
	              z /= m;
	              if (fabs(x) &lt; tol) x = 0.Of;
	              if (fabs(y) &lt; tol) y = 0.Of;
	              if (fabs(z) &lt; tol) z = 0.Of;
        }
</PRE><BR>

<P class="docText">In this function <span class="docEmphasis">tol</span> is a float type tolerance, for example,</P>
<PRE>
        float        const tol = O.OOOlf;
</PRE><BR>


<A NAME="app_sect1_004"></A>
<H4 class="docSection2Title">Reverse</H4>
<P class="docText">The <span class="docEmphasis">Reverse</span> method reverses the direction of the vector, which is accomplished by simply taking the negative of each component. After calling <span class="docEmphasis">Reverse</span>, the vector will point in a direction opposite to the direction in which it was pointing before <span class="docEmphasis">Reverse</span> was called.</P>
<PRE>
         inline         void Vector::Reverse(void)
         {
	              x = -x;
	              y = -y;
	              z = -z;
         }
</PRE><BR>

<P class="docText">This operation is illustrated in <A class="docLink" HREF="#app_fig03">Figure A-3</A>.</P>
<A NAME="app_fig03"></A><p><CENTER>
<H5 class="docFigureTitle">Figure A-3. Vector Reversal</H5>
<IMG BORDER="0" SRC="images/0596005555/figs/app_fig03.jpg" ALT="figs/app_fig03.jpg">
</CENTER></p><br>

<A NAME="app_sect1_005"></A>
<H4 class="docSection2Title">Vector Addition: The += Operator</H4>
<P class="docText">This summation operator is used for vector addition, whereby the passed vector is added to the current vector component by component. Graphically, vectors are added in tip-to-tail fashion as illustrated in <A class="docLink" HREF="#app_fig04">Figure A-4</A>.</P>
<A NAME="app_fig04"></A><p><CENTER>
<H5 class="docFigureTitle">Figure A-4. Vector Addition</H5>
<IMG BORDER="0" SRC="images/0596005555/figs/app_fig04.jpg" ALT="figs/app_fig04.jpg">
</CENTER></p><br>
<P class="docText">Here's the code that adds the vector <span class="docEmphBold">u</span> to our <span class="docEmphasis">Vector</span> class vector:</P>
<PRE>
    inline Vector&amp; Vector::operator+= (Vector u)
          {
	              x += u.x;
	              Y += u.y;
	              z += u.z;
	              return *this;
          }
</PRE><BR>


<A NAME="app_sect1_006"></A>
<H4 class="docSection2Title">Vector Subtraction: The -= Operator</H4>
<P class="docText">This subtraction operator is used to subtract the passed vector from the current one, which is performed on a component-by-component basis. Vector subtraction is very similar to vector addition except that you take the reverse of the second vector and add it to the first as illustrated in <A class="docLink" HREF="#app_fig05">Figure A-5</A>.</P>
<A NAME="app_fig05"></A><p><CENTER>
<H5 class="docFigureTitle">Figure A-5. Vector Subtraction</H5>
<IMG BORDER="0" SRC="images/0596005555/figs/app_fig05.jpg" ALT="figs/app_fig05.jpg">
</CENTER></p><br>
<P class="docText">Here's the code that subtracts vector <span class="docEmphBold">u</span> from our <span class="docEmphasis">Vector</span> class vector:</P>
<PRE>
         inline   Vector&amp; Vector::operator-=(Vector u)
         {
	              x -= u.x;
	              y -= u.y;
	              z -= u.z;
	              return *this;
         }
</PRE><BR>


<A NAME="app_sect1_007"></A>
<H4 class="docSection2Title">Scalar Multiplication: The *= Operator</H4>
<P class="docText">This is the scalar multiplication operator that's used to multiply a vector by a scalar, effectively scaling the vector's length. When you multiply a vector by a scalar, you simply multiply each vector component by the scalar quantity to obtain the new vector. The new vector points in the same direction as the unsealed one, but its length will be different (unless the scale factor is 1). This is illustrated in <A class="docLink" HREF="#app_fig06">Figure A-6</A>.</P>
<A NAME="app_fig06"></A><p><CENTER>
<H5 class="docFigureTitle">Figure A-6. Scalar Multiplication</H5>
<IMG BORDER="0" SRC="images/0596005555/figs/app_fig06.jpg" ALT="figs/app_fig06.jpg">
</CENTER></p><br>
<P class="docText">Here's the code that scales our <span class="docEmphasis">Vector</span> class vector:</P>
<PRE>
           inline        Vector&amp; Vector::operator*=(float s)
           {
	                 x *=s;
	                 y *=s;
	                 z *=s;
	                 return *this;
           }
</PRE><BR>


<A NAME="app_sect1_008"></A>
<H4 class="docSection2Title">Scalar Division: The /= Operator</H4>
<P class="docText">This scalar division operator is similar to the scalar multiplication operator except that each vector component is divided by the passed scalar quantity.</P>
<PRE>
              inline        Vector&amp; Vector::operator/=(float s)
              {
	                    x /=s;
	                    y /=s;
	                    z /=s;
	                    return *this;
              }
</PRE><BR>


<A NAME="app_sect1_009"></A>
<H4 class="docSection2Title">Conjugate: The - Operator</H4>
<P class="docText">The conjugate operator simply takes the negative of each vector component and can be used when subtracting one vector from another or for reversing the direction of the vector. Applying the conjugate operator is the same as reversing a vector, as discussed earlier.</P>
<PRE>
          inline        Vector Vector::operator-(void)
          {
					return Vector(-x, -y, -z);
          }
</PRE><BR>



<ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="app_sect1_001.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="app_sect1_010.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
</body>
</html>
