<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Vector Functions and Operators</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body >
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="app_sect1_002.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="colophon.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="app_sect1_010"></A>
<H3 class="docSection1Title">Vector Functions and Operators</H3>
<P class="docText">The functions and overloaded operators that follow are useful in performing operations with two vectors, or with a vector and a scalar, where the vector is based on the <span class="docEmphasis">Vector</span> class.</P>
<A NAME="app_sect1_011"></A>
<H4 class="docSection2Title">Vector Addition: The + Operator</H4>
<P class="docText">This addition operator adds vector <span class="docEmphBold">v</span> to vector <span class="docEmphBold">u</span> according to the formula</P>
<IMG BORDER="0" ALIGN="center" SRC="images/0596005555/figs/app_ueq06.jpg" ALT="figs/app_ueq06.jpg">
<P class="docText">Here's the code:</P>
<PRE>
        inline   Vector operator+ (Vector u, Vector v)
        {
	            return Vector(u.x + v.x, u.y + v.y, u.z + v.z);
        }
</PRE><BR>


<A NAME="app_sect1_012"></A>
<H4 class="docSection2Title">Vector Subtraction: The - Operator</H4>
<P class="docText">This subtraction operator subtracts vector <span class="docEmphBold">v</span> from vector <span class="docEmphBold">u</span> according to the formula</P>
<IMG BORDER="0" ALIGN="center" SRC="images/0596005555/figs/app_ueq07.jpg" ALT="figs/app_ueq07.jpg">
<P class="docText">Here's the code:</P>
<PRE>
        inline   Vector operator-(Vector u, Vector v)
        {
            	 return Vector(u.x - v.x, u.y - v.y, u.z - v.z);
        }
</PRE><BR>


<A NAME="app_sect1_013"></A>
<H4 class="docSection2Title">Vector Cross Product: The <img src=images/ent/U2041.GIF border=0>Operator</H4>
<P class="docText">This cross product operator takes the vector cross product between vectors <span class="docEmphBold">u</span> and <span class="docEmphBold">v</span>, <span class="docEmphBold">u</span> x <span class="docEmphBold">v</span>, and returns a vector perpendicular to both <span class="docEmphBold">u</span> and <span class="docEmphBold">v</span> according to the formula</P>
<IMG BORDER="0" ALIGN="center" SRC="images/0596005555/figs/app_ueq08.jpg" ALT="figs/app_ueq08.jpg">
<P class="docText">The resulting vector is perpendicular to the plane that contains vectors <span class="docEmphBold">u</span> and <span class="docEmphBold">v.</span> The direction in which this resulting vector points can be determined by the righthand rule. If you place the two vectors, <span class="docEmphBold">u</span> and <span class="docEmphBold">v</span>, tail to tail as shown in <A class="docLink" HREF="#app_fig07">Figure A-7</A> and curl your fingers (of your right hand) in the direction from <span class="docEmphBold">u</span> to <span class="docEmphBold">v</span>, your thumb will point in the direction of the resulting vector.</P>
<A NAME="app_fig07"></A><p><CENTER>
<H5 class="docFigureTitle">Figure A-7. Vector Cross Product</H5>
<IMG BORDER="0" SRC="images/0596005555/figs/app_fig07.jpg" ALT="figs/app_fig07.jpg">
</CENTER></p><br>
<P class="docText">In this case the resulting vector points out of the page along the <span class="docEmphasis">z</span>-axis, since the vectors <span class="docEmphBold">u</span> and <span class="docEmphBold">v</span> lie in the plane formed by the <span class="docEmphasis">x</span>- and <span class="docEmphasis">y</span>-axes.</P>
<P class="docText">If two vectors are parallel, then their cross product will be zero. This is useful when you need to determine whether or not two vector are indeed parallel.</P>
<P class="docText">The cross product operation is distributive; however, it is not commutative:</P>
<IMG BORDER="0" ALIGN="center" SRC="images/0596005555/figs/app_ueq09.jpg" ALT="figs/app_ueq09.jpg">
<P class="docText">Here's the code that takes the cross product of vectors <span class="docEmphBold">u</span> and <span class="docEmphBold">v</span>:</P>
<PRE>
       inline        Vector operator^ (Vector u, Vector v)
       {
              return Vector(         u.y*v.z - u.z*v.y,
                                       -u.x*v.z + u.z*v.x,
                                       u.x*v.y - u.y*v.x );
       }
</PRE><BR>

<P class="docText">Vector cross products are handy when you need to find normal (perpendicular) vectors. For example, when performing collision detection, you often need to find the vector normal to the face of a polygon. You can construct two vectors in the plane of the polygon using the polygon's vertices and then take the cross product of these two vectors to get normal vector.</P>

<A NAME="app_sect1_014"></A>
<H4 class="docSection2Title">Vector Dot Product: The * Operator</H4>
<P class="docText">This operator takes the vector dot product between the vectors <span class="docEmphBold">u</span> and <span class="docEmphBold">v</span>, according to the formula</P>
<IMG BORDER="0" ALIGN="center" SRC="images/0596005555/figs/app_ueq10.jpg" ALT="figs/app_ueq10.jpg">
<P class="docText">The dot product represents the projection of the vector <span class="docEmphBold">u</span> onto the vector <span class="docEmphBold">v</span> as illustrated in <A class="docLink" HREF="#app_fig08">Figure A-8</A>.</P>
<A NAME="app_fig08"></A><p><CENTER>
<H5 class="docFigureTitle">Figure A-8. Vector Dot Product</H5>
<IMG BORDER="0" SRC="images/0596005555/figs/app_fig08.jpg" ALT="figs/app_fig08.jpg">
</CENTER></p><br>
<P class="docText">In this figure, <span class="docEmphasis">P</span> is the result of the dot product, and it is a scalar. You can also calculate the dot product if you the know the angle between the vectors:</P>
<IMG BORDER="0" ALIGN="center" SRC="images/0596005555/figs/app_ueq11.jpg" ALT="figs/app_ueq11.jpg">
<P class="docText">Here's the code that takes the dot product of <span class="docEmphBold">u</span> and <span class="docEmphBold">v</span>:</P>
<PRE>
       // Vector dot product
       inline         float operator*(Vector u, Vector v)
       {
	             return (u.x*v.x + u.y*v.y + u.z*v.z);
       }
</PRE><BR>

<P class="docText">Vector dot products are handy when you need to find the magnitude of a vector projected onto another one. Going back to collision detection as an example, you often have to determine the closest distance from a point, which may be a polygon vertex on one body (body 1), to a polygon face on another body (body 2). If you construct a vector from the face under consideration on body 2, using any of its vertices, to the point under consideration from body 1, then you can find the closest distance of that point from the plane of body 2's face by taking the dot product of that point with the normal vector to the plane. (If the normal vector is not of unit length, you'll have to divide the result by the magnitude of the normal vector.)</P>

<A NAME="app_sect1_015"></A>
<H4 class="docSection2Title">Scalar Multiplication: The * Operator</H4>
<P class="docText">This operator multiplies the vector <span class="docEmphBold">u</span> by the scalar <span class="docEmphasis">s</span> on a component-by-component basis. There are two versions of this overloaded operator depending on the order in which the vector and scalar are encountered:</P>
<PRE>
      inline         Vector operator*(float s, Vector u)
      {
	           return Vector(u.x*s, u.y*s, u.z*s);
      }
      inline   Vector operator*(Vector u, float s)
      {
	           return Vector(u.x*s, u.y*s, u.z*s);
      }
</PRE><BR>


<A NAME="app_sect1_016"></A>
<H4 class="docSection2Title">Scalar Division: The / Operator</H4>
<P class="docText">This operator divides the vector <span class="docEmphBold">u</span> by the scalar <span class="docEmphasis">s</span> on a component-by-component basis:</P>
<PRE>
        inline         Vector operator/(Vector u, float s)
        {
	              return Vector(u.x/s, u.y/s, u.z/s);
        }
</PRE><BR>


<A NAME="app_sect1_017"></A>
<H4 class="docSection2Title">Triple Scalar Product</H4>
<P class="docText">This function takes the triple scalar product of the vectors <span class="docEmphBold">u</span>, <span class="docEmphBold">v</span>, and <span class="docEmphBold">w</span> according to the formula</P>
<IMG BORDER="0" ALIGN="center" SRC="images/0596005555/figs/app_ueq12.jpg" ALT="figs/app_ueq12.jpg">
<P class="docText">Here, the result, <span class="docEmphasis">s</span>, is a scalar. The code is as follows:</P>
<PRE>
        inline         float TripleScalarProduct(Vector u, Vector v, Vector w)
        {
	              return float(        (u.x * (v.y*w.z - v.z*w.y)) +
	                                         (u.y * (-v.x*w.z + v.z*w.x)) +
	                                         (u.z * (v.x*w.y - v.y*w.x)) );
        }
</PRE><BR>



<ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="app_sect1_002.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="colophon.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
</body>
</html>
