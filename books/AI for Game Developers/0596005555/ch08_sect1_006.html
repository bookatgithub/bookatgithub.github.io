<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>8.6 Scripting Events</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body >
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="ch08_sect1_005.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="ch08_sect1_007.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="ch08_sect1_006"></A>
<H3 class="docSection1Title">8.6 Scripting Events</H3>
<P class="docText">Now let's examine some of the other ways scripting can make gameplay more immersive. The previous sections showed how scripts alter the behavior of AI characters. Scripting behavior goes a long way toward making games and AI characters seem more real. However, you can use scripting to make games more entertaining and realistic in other ways as well. In this section we examine how scripts trigger in-game events that might not be related directly to AI characters. For example, perhaps stepping on a particular location will trigger a trap. <A class="docLink" HREF="#ch08exm16">Example 8-16</A> shows how this might look in a text-based scripting language.</P>
<A NAME="ch08exm16"></A>
<H5 class="docExampleTitle">Example 8-16. Trap event script</H5>
<PRE>
If (PlayerLocation(120,76))
   Trigger(kExposionTrap);
If (PlayerLocation(56,16))
   Trigger(kPoisonTrap);
</PRE><BR>


<P class="docText">As <A class="docLink" HREF="#ch08exm16">Example 8-16</A> shows, the scripting system can compare the player position to some predetermined value and then trigger a trap if they are equal. Of course, you can make this much more sophisticated by making the triggering mechanism more complex. Perhaps the trap is triggered only if the player is holding a certain item or wearing a particular piece of armor.</P>
<P class="docText">Scripting also can be an effective way to add a sense of ambience to gameplay. For example, you can link certain situations or objects to particular sound effects. If the player walks on a dock, a seagull sound effect might be triggered. You could use an entire scripting file solely for linking sound effects to different situations.</P>
<P class="docText"><A class="docLink" HREF="#ch08_fig04">Figure 8-4</A> shows the player standing in a doorway. This would be an excellent situation to link to a creaking-door sound effect.</P>
<A NAME="ch08_fig04"></A><p><CENTER>
<H5 class="docFigureTitle">Figure 8-4. Door Sound script</H5>
<IMG BORDER="0" SRC="images/0596005555/figs/ch08_fig04.jpg" ALT="figs/ch08_fig04.jpg">
</CENTER></p><br>
<P class="docText"><A class="docLink" HREF="#ch08exm17">Example 8-17</A> shows how the player location or game situation, such as the game time, can trigger relevant sound effects.</P>
<A NAME="ch08exm17"></A>
<H5 class="docExampleTitle">Example 8-17. Triggered sound script</H5>
<PRE>
If (PlayerLocation(kDoorway))
  PlaySound(kCreakingDoorSnd);
If (PlayerLocation(kDock))
  PlaySound (kSeagullSnd);
If (PlayerLocation(kBoat))
  PlaySound (kWavesSnd);
If (GameTime==kNight)
  PlaySound (kCricketsSnd);
If (GameTime==kDay)
  PlaySound (kBirdsSnd);
</PRE><BR>


<P class="docText">Although this chapter differentiated between the types of AI scripting, in a real game it can be beneficial to use them together. For example, instead of a player action triggering an effect such as a sound effect, perhaps it triggers a specific creature AI patrolling pattern. We also showed examples of how AI creatures can respond to text entered by the player; however, this also can be a very useful way to trigger in-game events. For example, the player could recite a spell that triggers some event.</P>

<ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="ch08_sect1_005.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="ch08_sect1_007.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
</body>
</html>
