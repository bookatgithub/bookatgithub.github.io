<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Hack 1 Get the Most Out of the Default Shell</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body >
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="bsdhks-CHP-1-SECT-1.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="bsdhks-CHP-1-SECT-3.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="bsdhks-CHP-1-SECT-2"></A>

<H3 class="docSection1Title">Hack 1 Get the Most Out of the Default Shell</H3>
<P class="docText"><IMG BORDER="0" ALIGN="absmiddle" width="14" height="36" SRC="images/0596006799/figs/beginner.gif" ALT="figs/beginner.gif"> <IMG BORDER="0" ALIGN="absmiddle" width="36" height="36" SRC="images/0596006799/figs/hack1.gif" ALT="figs/hack1.gif"></P>

<P class="docText"><span class="docEmphBold">Become a speed daemon at the command line.</span></P>

<P class="docText">For better or for worse, you spend a lot of time at the command line.
If you're used to administering a Linux system, you
may be dismayed to learn that <TT>bash</TT> is not the
default shell on a BSD system, for either the superuser or regular
user accounts.</P>

<P class="docText">Take heart; the FreeBSD superuser's default
<TT>tcsh</TT><A NAME="bsdhks-CHP-1-ITERM-1677"></A>
 <A NAME="bsdhks-CHP-1-ITERM-1678"></A>

<A NAME="bsdhks-CHP-1-ITERM-1679"></A>
 shell is also brimming with shortcuts and
little tricks designed to let you breeze through even the most
tedious of tasks. Spend a few moments learning these tricks and
you'll feel right at home. If
you're new to the command line or consider yourself
a terrible typist, read on. Unix might be a whole lot easier than you
think.</P>

<P><table border="0" bgcolor="black" cellspacing="0" cellpadding="1" width="90%" align="center"><tr><td><table bgcolor="white" width="100%" border="0" cellspacing="0" cellpadding="6"><tr><td width="60" valign="top"><img src="images/pushpin.gif" width="52" height="51"></td><td valign="top">
<P class="docText"><A NAME="bsdhks-CHP-1-ITERM-1680"></A>

<A NAME="bsdhks-CHP-1-ITERM-1681"></A>
NetBSD and OpenBSD also ship with the C
shell as their default shell. However, it is not always the same
<TT>tcsh</TT>, but often its simpler variant,
<TT>csh</TT>, which doesn't support all of
the tricks provided in this hack.</P>

<P class="docText">However, both NetBSD and OpenBSD provide a <TT>tcsh</TT>
package in their respective package collections.</P>
</td></tr></table></td></tr></table></P><br>

<A NAME="bsdhks-CHP-1-SECT-2.1"></A>

<H4 class="docSection2Title">1.2.1 History and Auto-Completion</H4>

<P class="docText">I <A NAME="bsdhks-CHP-1-ITERM-1682"></A>

<A NAME="bsdhks-CHP-1-ITERM-1683"></A>

<A NAME="bsdhks-CHP-1-ITERM-1684"></A>

<A NAME="bsdhks-CHP-1-ITERM-1685"></A>
 <A NAME="bsdhks-CHP-1-ITERM-1686"></A>
hate
to live without three keys: up arrow, down arrow, and Tab. In fact,
you can recognize me in a crowd, as I'm the one
muttering loudly to myself if I'm on a system that
doesn't treat these keys the way I expect to use
them.</P>

<P class="docText"><TT>tcsh</TT> uses the up and down arrow keys to scroll
through your command history. If there is a golden rule to computing,
it should be: "You should never have to type a
command more than once." When you need to repeat a
command, simply press your up arrow until you find the desired
command. Then, press Enter and think of all the keystrokes you just
saved yourself. If your fingers fly faster than your eyes can read
and you whiz past the right command, simply use the down arrow to go
in the other direction.</P>

<P class="docText">The Tab key was specifically designed for both the lazy typist and
the terrible speller. It can be painful watching some people type out
a long command only to have it fail because of a typo.
It's even worse if they haven't
heard about history, as they think their only choice is to try typing
out the whole thing all over again. No wonder some people hate the
command line!</P>

<P class="docText">Tab activates auto-completion. This means that if you type enough
letters of a recognizable command or file, <TT>tcsh</TT>
will fill in the rest of the word for you. However, if you instead
hear a beep when you press the Tab key, it means that your shell
isn't sure what you want. For example, if I want to
run <TT>sockstat</TT> and type:</P>

<PRE>% <B>so</B></PRE><BR>


<P class="docText">then press my Tab key, the system will beep because multiple commands
start with <TT>so</TT>. However, if I add one more letter:</P>

<PRE>% <B>soc</B></PRE><BR>


<P class="docText">and try again, the system will fill in the command for me:</P>

<PRE>% <B>soc</B>kstat</PRE><BR>



<A NAME="bsdhks-CHP-1-SECT-2.2"></A>

<H4 class="docSection2Title">1.2.2 Editing and Navigating the Command Line</H4>

<P class="docText">There are many more <A NAME="bsdhks-CHP-1-ITERM-1687"></A>

<A NAME="bsdhks-CHP-1-ITERM-1688"></A>
 <A NAME="bsdhks-CHP-1-ITERM-1689"></A>
 <A NAME="bsdhks-CHP-1-ITERM-1690"></A>

<A NAME="bsdhks-CHP-1-ITERM-1691"></A>
shortcuts
that can save you keystrokes. Suppose I've just
finished editing a document. If I press my up arrow, my last command
will be displayed at the prompt:</P>

<PRE>% <B>vi mydocs/today/verylongfilename</B></PRE><BR>


<P class="docText">I'd now like to double-check how many words and
lines are in that file by running this command:</P>

<PRE>% <B>wc mydocs/today/verylongfilename</B></PRE><BR>


<P class="docText">I could pound on the backspace key until I get to the
<TT>vi</TT> portion of the command, but it would be much
easier to hold down the Ctrl key and press <TT>a</TT>. That
would bring me to the very beginning of that command so I could
replace the <TT>vi</TT> with <TT>wc</TT>. For a
mnemonic device, remember that just as <TT>a</TT> is the
first letter of the alphabet, it also represents the first letter of
the command at a <TT>tcsh</TT> prompt.</P>

<P class="docText">I don't have to use my right arrow to go to the end
of the command in order to press Enter and execute the command. Once
your command looks like it should, you can press Enter. It
doesn't matter where your cursor happens to be.</P>

<P class="docText">Sometimes you would like your cursor to go to the end of the command.
Let's say I want to run the word count command on
two files, and right now my cursor is at the first
<TT>c</TT> in this command:</P>

<PRE>% <B>wc mydocs/today/verylongfilename</B></PRE><BR>


<P class="docText">If I hold down Ctrl and press <TT>e</TT>, the cursor will
jump to the end of the command, so I can type in the rest of the
desired command. Remember that <TT>e</TT> is for end.</P>

<P class="docText">Finally, what if you're in the middle of a long
command and decide you'd like to start from scratch,
erase what you've typed, and just get your prompt
back? Simply hold down Ctrl and press <TT>u</TT> for undo.</P>

<P><table border="0" bgcolor="black" cellspacing="0" cellpadding="1" width="90%" align="center"><tr><td><table bgcolor="white" width="100%" border="0" cellspacing="0" cellpadding="6"><tr><td width="60" valign="top"><img src="images/pushpin.gif" width="52" height="51"></td><td valign="top">
<P class="docText">If you work in the Cisco or PIX IOS systems, all of the previous
tricks work at the IOS command line.</P>
</td></tr></table></td></tr></table></P><br>

<P class="docText">Did you know that the <A NAME="bsdhks-CHP-1-ITERM-1692"></A>
<TT>cd</TT> command also
includes some built-in shortcuts? You may have heard of this one: to
return to your home directory quickly, simply type:</P>

<PRE>% <B>cd</B></PRE><BR>


<P class="docText">That's very convenient, but what if you want to
change to a different previous directory? Let's say
that you start out in the
<I>/usr/share/doc/en_US.ISO8859-1/books/handbook</I>
directory, then use <TT>cd</TT> to change to the
<I>/usr/X11R6/etc/X11</I> directory. Now you want to go
back to that first directory. If you're anything
like me, you really don't want to type out that long
directory path again. Sure, you could pick it out of your history,
but chances are you originally navigated into that deep directory
structure one directory at a time. If that's the
case, it would probably take you longer to pick each piece out of the
history than it would be to just type the command manually.</P>

<P class="docText">Fortunately, there is a very quick solution. Simply type:</P>

<PRE>% <B>cd -</B></PRE><BR>


<P class="docText">Repeat that command and watch as your prompt changes between the
first and the second directory. What, your prompt
isn't changing to indicate your current working
directory? Don't worry,  <A class="docLink" HREF="bsdhks-CHP-1-SECT-3.html#bsdhks-CHP-1-SECT-3"><span class="docEmphBold">[Hack #2]</span></A>  will take care of that.</P>


<A NAME="bsdhks-CHP-1-SECT-2.3"></A>

<H4 class="docSection2Title">1.2.3 Learning from Your Command History</H4>

<P class="docText">Now that you can move around fairly quickly, let's
fine-tune some of these hacks. How many times have you found yourself
repeating commands just to alter them slightly? The following
scenario is one example.</P>

<P class="docText">Remember that document I created? Instead of using the history to
bring up my previous command so I could edit it, I might have found
it quicker to type this:</P>

<PRE>% <B>wc !$</B>
  wc mydocs/today/verylongfilename
        19        97        620 mydocs/today/verylongfilename</PRE><BR>


<P class="docText">The <TT>!$</TT> tells the shell to take the last parameter
from the previous command. Since that command was:</P>

<PRE>% <B>vi mydocs/today/verylongfilename</B></PRE><BR>


<P class="docText">it replaced the <TT>!$</TT> in my new command with the very
long filename from my previous command.</P>

<P class="docText">The <TT>!</TT><A NAME="bsdhks-CHP-1-ITERM-1693"></A>

<A NAME="bsdhks-CHP-1-ITERM-1694"></A>

<A NAME="bsdhks-CHP-1-ITERM-1695"></A>
 (or bang!)
character has several other useful applications for dealing with
previously issued commands. Suppose you've been
extremely busy and have issued several dozen commands in the last
hour or so. You now want to repeat something you did half an hour
ago. You could keep tapping your up arrow until you come across the
command. But why search yourself when <TT>!</TT> can search
for you?</P>

<P class="docText">For example, if I'd like to repeat the command
<TT>mailstats</TT>, I could give <TT>!</TT>
enough letters to figure out which command to pick out from my
history:</P>

<PRE>$ <B>!ma</B></PRE><BR>


<P class="docText"><TT>!</TT> will pick out the most recently issued command
that begins with <TT>ma</TT>. If I had issued a
<TT>man</TT> command sometime after
<TT>mailstats</TT> command, <TT>tcsh</TT> would
find that instead. This would fix it though:</P>

<PRE>% <B>!mai</B></PRE><BR>


<P class="docText">If you're not into trial and error, you can view
your history by simply typing:</P>

<PRE>% <B>history</B></PRE><BR>


<P class="docText">If you're really lazy, this command will do the same
thing:</P>

<PRE>% <B>h</B></PRE><BR>


<P class="docText">Each command in this history will have a number. You can specify a
command by giving <TT>!</TT> the associated number. In this
example, I'll ask <TT>tcsh</TT> to reissue
the <TT>mailstats</TT> command:</P>

<PRE>% <B>h</B>
  165  16:51  mailstats
  166  16:51  sockstat
  167  16:52  telnet localhost 25
  168  16:54  man sendmail

% <B>!165</B></PRE><BR>



<A NAME="bsdhks-CHP-1-SECT-2.4"></A>

<H4 class="docSection2Title">1.2.4 Silencing Auto-Complete</H4>

<P class="docText">The <A NAME="bsdhks-CHP-1-ITERM-1696"></A>
 <A NAME="bsdhks-CHP-1-ITERM-1697"></A>
last tip I'll mention
is for those of you who find the system bell irritating. Or perhaps
you just find it frustrating typing one letter, tabbing, typing
another letter, tabbing, and so on until auto-complete works. If I
type:</P>

<PRE>% <B>ls -l b</B></PRE><BR>


<P class="docText">then hold down the Ctrl key while I press <TT>d</TT>:</P>

<PRE>backups/  bin/   book/  boring.jpg
ls -l b</PRE><BR>


<P class="docText">I'll be shown all of the <TT>b</TT>
possibilities in my current directory, and then my prompt will return
my cursor to what I've already typed. In this
example, if I want to view the size and permissions of
<I>boring.jpg</I>, I'll need to type
up to here:</P>

<PRE>% <B>ls -l bor</B></PRE><BR>


<P class="docText">before I press the Tab key. I'll leave it up to your
own imagination to decide what the <TT>d</TT> stands for.</P>


<A NAME="bsdhks-CHP-1-SECT-2.5"></A>

<H4 class="docSection2Title">1.2.5 See Also</H4>
<UL><LI><P class="docList"><TT>man tcsh</TT></P></LI></UL>



<ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="bsdhks-CHP-1-SECT-1.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="bsdhks-CHP-1-SECT-3.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
</body>
</html>
