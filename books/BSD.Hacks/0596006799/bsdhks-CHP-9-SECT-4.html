<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Hack 91 Get the Most Out of Manpages</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body >
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="bsdhks-CHP-9-SECT-3.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="bsdhks-CHP-9-SECT-5.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="bsdhks-CHP-9-SECT-4"></A>
<H3 class="docSection1Title">Hack 91 Get the Most Out of Manpages</H3><P class="docText"><IMG BORDER="0" id="134053078072" ALIGN="absmiddle" width="14" height="36" SRC="images/0596006799/figs/beginner.gif" ALT="figs/beginner.gif"> <IMG BORDER="0" id="134053078072" ALIGN="absmiddle" width="36" height="36" SRC="images/0596006799/figs/hack91.gif" ALT="figs/hack91.gif"></P>

<P class="docText"><span class="docEmphBold">Now that you know how to create your own
manpages, you'll want to know how to get the most
out of your manpage viewing</span>.</P>

<P class="docText">Since <A NAME="bsdhks-CHP-9-ITERM-3158"></A>
most documentation on Unix systems
lives within manpages, it pays to know how to get the most out of
your manpage-reading experience. How do you make sure
you're aware of all of the manpages installed on a
system? How do you zero in on the information you need, without
having to read an entire manpage? Yes, it's a great
experience to read all of <TT>man tcsh</TT> at least once
in your life, but you don't want to do that when
you're only interested in a certain shell variable.</P>

<A NAME="bsdhks-CHP-9-SECT-4.1"></A>

<H4 class="docSection2Title">9.4.1 Finding Installed Manpages</H4>

<P class="docText">You <A NAME="bsdhks-CHP-9-ITERM-3159"></A>
may have noticed that, by default, whatis
 <A class="docLink" HREF="bsdhks-CHP-2-SECT-2.html#bsdhks-CHP-2-SECT-2"><span class="docEmphBold">[Hack #13]</span></A> 
doesn't find custom manpages or those installed by
third-party applications. Not only is this inconvenient, but it can
also prevent your users from getting the most out of the applications
installed on a system.</P>

<P class="docText">Remember <I>/etc/manpath.config</I> from  <A class="docLink" HREF="bsdhks-CHP-9-SECT-3.html#bsdhks-CHP-9-SECT-3"><span class="docEmphBold">[Hack #90]</span></A> ?</P>

<PRE>% <B>grep MAP /etc/manpath.config</B>
# MANPATH_MAP    path_element        manpath_element
MANPATH_MAP      /bin                /usr/share/man
MANPATH_MAP      /usr/bin            /usr/share/man
MANPATH_MAP      /usr/local/bin      /usr/local/man
MANPATH_MAP      /usr/X11R6/bin      /usr/X11R6/man</PRE><BR>


<P class="docText">The <TT>makewhatis</TT> <A NAME="bsdhks-CHP-9-ITERM-3160"></A>
command actually creates the
<TT>whatis</TT> <A NAME="bsdhks-CHP-9-ITERM-3161"></A>
database and, by default,
<TT>makewhatis</TT> reads only
<I>/usr/share/man</I>. It'll skip any
manpages in <I>/usr/local/man</I> and
<I>/usr/X11R6/man</I>, because it
doesn't know they exist!</P>

<P class="docText">To gather in those missing manpages, pass these extra directories to
<TT>makewhatis</TT>:</P>

<PRE># <B>makewhatis /usr/local/man /usr/X11R6/man</B>
#</PRE><BR>


<P><table border="0" bgcolor="black" cellspacing="0" cellpadding="1" width="90%" align="center"><tr><td><table bgcolor="white" width="100%" border="0" cellspacing="0" cellpadding="6"><tr><td width="60" valign="top"><img src="images/pushpin.gif" width="52" height="51"></td><td valign="top">
<P class="docText">The superuser can run this command at any time, say, after installing
new software. If you're a forgetful or appropriately
lazy superuser, consider adding this as a regular
<TT>cron</TT> job.</P>
</td></tr></table></td></tr></table></P><br>

<P class="docText">Now users will be aware of all of the manpages on the system.</P>


<A NAME="bsdhks-CHP-9-SECT-4.2"></A>

<H4 class="docSection2Title">9.4.2 Navigational Tricks</H4>

<P class="docText">There's
<A NAME="bsdhks-CHP-9-ITERM-3162"></A>

<A NAME="bsdhks-CHP-9-ITERM-3163"></A>
nothing worse than wading through
dozens of pages of information that are irrelevant to your question.
Why wade when you can zero in on the information you want? When you
read a manpage, <TT>man</TT> sends the text to your default
pager—a program designed for speedy navigation.</P>

<P class="docText">FreeBSD 4.1 replaced the <TT>more</TT>
<A NAME="bsdhks-CHP-9-ITERM-3164"></A>

<A NAME="bsdhks-CHP-9-ITERM-3165"></A>
pager with <TT>less</TT>.
<TT>less</TT> is chock-full of useful and configurable
navigation tricks, so this is a case where less really is more.</P>

<P><table border="0" bgcolor="black" cellspacing="0" cellpadding="1" width="90%" align="center"><tr><td><table bgcolor="white" width="100%" border="0" cellspacing="0" cellpadding="6"><tr><td width="60" valign="top"><img src="images/pushpin.gif" width="52" height="51"></td><td valign="top">
<P class="docText">Even though your <I>.cshrc</I> file and <TT>man
man</TT> show <TT>more</TT> as your default pager,
remember <TT>more</TT> is now really
<TT>less</TT>.</P>
</td></tr></table></td></tr></table></P><br>

<P class="docText"><TT>less</TT> even comes with its own help system
containing an itemized list of all of its neat tricks. Whenever
you're in a manpage—or, for that matter, in
any file you've sent to a pager—simply type
<TT>h</TT> to see the help screen.</P>

<P class="docText">I won't repeat that help here, but <A class="docLink" HREF="#bsdhks-CHP-9-TABLE-2">Table 9-2</A> shows some navigational keys to get you moving
around.</P>

<A NAME="bsdhks-CHP-9-TABLE-2"></A>
<P><TABLE CELLSPACING="0" BORDER="1" RULES="all" CELLPADDING="4" WIDTH="100%"><CAPTION><h5 class="docTableTitle">Table 9-2. less navigation keys</h5></CAPTION><COLGROUP><COL><COL></COLGROUP><THEAD><TR><TH class="docTableHeader">
<P class="docText">Key</P>
</TH><TH class="docTableHeader">
<P class="docText">Behavior</P>
</TH></TR></THEAD><TR><TD class="docTableCell">
<P class="docText"><TT>Enter</TT></P>
</TD><TD class="docTableCell">
<P class="docText">Scrolls down one line</P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText"><TT>y</TT></P>
</TD><TD class="docTableCell">
<P class="docText">Scrolls up one line (think "yikes, I missed
it!")</P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText"><TT>Spacebar</TT></P>
</TD><TD class="docTableCell">
<P class="docText">Scrolls down one page</P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText"><TT>b</TT></P>
</TD><TD class="docTableCell">
<P class="docText">Scrolls up (back) one page</P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText"><TT>g</TT></P>
</TD><TD class="docTableCell">
<P class="docText">Goes to the beginning of the manpage</P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText"><TT>q</TT></P>
</TD><TD class="docTableCell">
<P class="docText">Quits the pager (so you don't have to read the whole
manpage)</P>
</TD></TR></TABLE></P><br>


<A NAME="bsdhks-CHP-9-SECT-4.3"></A>

<H4 class="docSection2Title">9.4.3 Customizing less</H4>

<P class="docText">It's <A NAME="bsdhks-CHP-9-ITERM-3166"></A>
well
worth your time to experiment with how <TT>less</TT>
formats its output. For example, when you open a manpage, the prompt
at the bottom of your screen indicates how many bytes of that manpage
you've read. If you type <TT>-m</TT>,
you'll change to the short prompt, a single colon
(:). <TT>-M</TT> changes to the long
prompt, which displays the line range you're
currently viewing.</P>

<P class="docText">If you really want to know what line you're on, try
<TT>-N</TT>. Read up on <TT>-P</TT> to create
your own custom prompt string.</P>

<P class="docText">You can also configure how many lines you scroll, also known as the
window size. Here I'll change the window size to 10
lines:</P>

<PRE><B>-z</B>
Scroll window size: <B>10</B>
Scroll window size is 10 lines  (press RETURN)</PRE><BR>


<P class="docText">Now when I press my spacebar, I'll scroll down 10
lines instead of the entire screen.</P>

<P class="docText">If you experiment with the dozens of options listed in help,
you'll find that they only last for the contents of
the current manpage. If you find options you like, make them
permanent by adding them to your <I>~/.cshrc</I> file.
Here I'll permanently configure the
<TT>-M</TT>, or long, prompt and a window size of 10:</P>

<PRE>setenv LESS Mz10</PRE><BR>


<P class="docText">Note that I've simply created a string of desired
options, minus the switch indicator (<TT>-</TT>).
I'll also have to change the line <TT>setenv
PAGER more</TT> to <TT>setenv</TT> <TT>PAGER
less</TT>, so that applications that honor my pager choice will
use <TT>less</TT> instead of <TT>more</TT>. To
test your changes, force the shell to reread its configuration file,
then open up a manpage:</P>

<PRE>% <B>source ~/.cshrc</B>
% <B>man man</B></PRE><BR>


<P class="docText">That manpage should now have a customized prompt and window.</P>


<A NAME="bsdhks-CHP-9-SECT-4.4"></A>

<H4 class="docSection2Title">9.4.4 Searching Text</H4>

<P class="docText">Now <A NAME="bsdhks-CHP-9-ITERM-3167"></A>

<A NAME="bsdhks-CHP-9-ITERM-3168"></A>
that you can move around,
you'll want to search for the information you need.
After all, you're usually looking for something
specific when you read a manpage. Fortunately,
<TT>less</TT> provides an easy-to-use search feature. Press
<TT>/</TT>, the forward slash. Your prompt will change to
<TT>/</TT> while <TT>less</TT> waits for you to
type in a search string of one or more words.</P>

<P><table border="0" bgcolor="black" cellspacing="0" cellpadding="1" width="90%" align="center"><tr><td><table bgcolor="white" width="100%" border="0" cellspacing="0" cellpadding="6"><tr><td width="60" valign="top"><img src="images/pushpin.gif" width="52" height="51"></td><td valign="top">
<P class="docText">Consider adding <TT>I</TT> to the <TT>less</TT>
configuration in your <I>.cshrc</I> file to enable
case-insensitive searching. Without <TT>it</TT>, searching
for <TT>/long format</TT> in <TT>man ls</TT> will
skip the desired section, as it is entitled <TT>The Long
Format</TT>.</P>
</td></tr></table></td></tr></table></P><br>

<P class="docText">Press Enter once you've typed in a search string,
and <TT>less</TT> will take you to the first occurrence of
that string. Repeatedly pressing <TT>n</TT> will scroll you
through the next occurrences. Press <TT>N</TT> to scroll
back through your search results. If you change your mind and want to
search for something else, press <TT>/</TT>.</P>

<P class="docText">Suppose you're reading or searching along and find
an interesting bit you'll want to refer to again.
Mark your current position with:</P>

<PRE><B>m</B>
mark: <B>a</B></PRE><BR>


<P class="docText">Here I've marked my position with the letter
<TT>a</TT>. I'll then carry on with
reading the results of the rest of my search. To return to that
position, I simply type a single quote and the position marker
('<TT>a</TT>). You can mark as many as 26 positions (one
for each lowercase letter).</P>

<P class="docText">You can also use two single quotes ('') to toggle
back and forth between two positions. For example, I may be in
<TT>man systat</TT> and can't believe the
display includes a <TT>pigs</TT> option. So I do a search
for <TT>/pigs</TT> and read up on that type of display.
'' will bring me back to the original line that
piqued my curiosity. Another '' will put me back
at my search <A NAME="bsdhks-CHP-9-ITERM-3169"></A>
result.</P>


<A NAME="bsdhks-CHP-9-SECT-4.5"></A>

<H4 class="docSection2Title">9.4.5 See Also</H4>
<UL><LI><P class="docList"><TT>manpath</TT></P></LI><LI><P class="docList"><TT>man man</TT></P></LI><LI><P class="docList"><TT>man makewhatis</TT></P></LI><LI><P class="docList"><TT>man less</TT></P></LI></UL>


<ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="bsdhks-CHP-9-SECT-3.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="bsdhks-CHP-9-SECT-5.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
</body>
</html>
