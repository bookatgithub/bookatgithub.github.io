<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<link href="styles/globalstyle.css" type="text/css" rel="stylesheet"/>
<link title="medium" href="styles/two.css" type="text/css" rel="stylesheet"/>
<script src="scripts/main.js" type="text/javascript" language="javascript"></script>
<title>Section 5.1. The Role of XML Validation</title>
</head><body>
<DIV class=h3 style="MARGIN-TOP: 0px; PADDING-BOTTOM: 1em; WIDTH: 100%; PADDING-TOP: 0px"><SPAN>Correct, Beautiful, Fast (in That Order): Lessons from Designing XML Verifiers</SPAN><SPAN> &gt; The Role of XML Validation</SPAN></DIV>
<DIV></DIV>
<DIV>
<DIV><A name=correct_beautiful_fast_in_that_order_lessons_from_designing_></A>
<H2 class=docChapterTitle id=title-ID0EXVCK>5. Correct, Beautiful, Fast (in That Order): Lessons from Designing XML Verifiers</H2>
<P class=docText><SPAN class=docEmphasis><A name="Elliotte Rusty"></A>Elliotte Rusty Harold</SPAN> <A name=idx-CHP-5-0228></A><A name=idx-CHP-5-0229></A></P>
<P class=docText><SPAN class=docEmphSmaller><A name="story of"></A>This is the story of two routines that perform input verification for XML</SPAN><A name="and the"></A>, the first in JDOM, and the second in XOM. I was intimately involved in the development of both, and while the two code bases are completely separate and share no common code, the ideas from the first clearly trickled into the second. The code, in my opinion, gradually became more beautiful. It certainly became faster.<A name=idx-CHP-5-0230></A></P>
<P class=docText><A name="the driving"></A>Speed was the driving factor in each successive refinement, but in this case the improvements in speed were accompanied by improvements in beauty as well. I hope to dispel the myth that fast code must be illegible, ugly code. On the contrary, I believe that more often than not, improvements in beauty <SPAN class=docEmphasis>lead to</SPAN><A name="especially taking"></A> improvements in execution speed, especially taking into account the impact of modern optimizing compilers, just-in-time compilers, RISC (reduced instruction set computer) architectures, and multi-core CPUs.</P><A name=the_role_of_xml_validation></A>
<H3 class=docSection1Title id=-100000>5.1. The Role of XML Validation</H3>
<P class=docText><A name="may and"></A>XML achieves interoperability by rigorously enforcing certain rules about what may and may not appear in an XML document. With a few very small exceptions, a conforming processor can process any well-formed XML document and can identify (and not attempt to process) malformed documents. This ensures a high degree of interoperability between platforms, parsers, and programming languages. You don't have to worry that your parser won't read my document because yours was written in C and runs on Unix, while mine was written in Java and runs on Windows.<A name=idx-CHP-5-0231></A></P>
<P class=docText>Fully maintaining <A name=idx-CHP-5-0232></A><A name="normally involves"></A>XML correctness normally involves two redundant checks on the data:</P>
<DIV style="FONT-WEIGHT: bold">
<OL class=docList type=1>
<LI>
<DIV style="FONT-WEIGHT: normal">
<P class=docList><A name=idx-CHP-5-0233></A><A name="a parser"></A>Validation occurs on input. As a parser reads an XML document, it checks the document for <A name=idx-CHP-5-0234></A>well-formedness and, optionally, <A name=idx-CHP-5-0235></A>validity. <SPAN class=docEmphasis>Well-formedness</SPAN><A name="whether every"></A> checks purely syntactic constraints, such as whether every start tag has a matching end tag. This is required of all XML parsers. <SPAN class=docEmphasis>Validity</SPAN><A name="means that"></A> means that only elements and attributes specifically listed in a Document Type Definition (DTD) appear, and only in the proper positions.</P></DIV></LI>
<LI>
<DIV style="FONT-WEIGHT: normal">
<P class=docList><A name="When generating"></A>Verification happens on output. When generating an XML document through an XML API such as DOM, <A name=idx-CHP-5-0236></A><A name="checks all"></A>JDOM, or XOM, the parser checks all strings passing through the API to make sure they're legal in XML.</P></DIV></LI></OL></DIV>
<P class=docText><A name="validation is"></A>While input validation is more thoroughly defined by the XML specification, output verification can be equally important. In particular, it is critical for debugging and making sure that the code is correct.</P></DIV></DIV>
<p>&nbsp;</p><p>&nbsp;</p><!-- 仁·义 -->
</body></html>
