<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<link href="styles/globalstyle.css" type="text/css" rel="stylesheet"/>
<link title="medium" href="styles/two.css" type="text/css" rel="stylesheet"/>
<script src="scripts/main.js" type="text/javascript" language="javascript"></script>
<title>Section 7.2. Introducing JUnit</title>
</head><body>
<DIV class=h3 style="MARGIN-TOP: 0px; PADDING-BOTTOM: 1em; WIDTH: 100%; PADDING-TOP: 0px"><SPAN>Beautiful Tests</SPAN><SPAN> &gt; Introducing JUnit</SPAN></DIV>
<DIV></DIV>
<DIV>
<DIV><A name=introducing_junit></A>
<H3 class=docSection1Title id=-100000>7.2. Introducing JUnit</H3>
<P class=docText><A name="When speaking"></A>When speaking of beautiful tests, it's hard not to think of the JUnit <A name=idx-CHP-7-0331></A><A name="deciding to"></A>testing framework. Because I'm using Java, deciding to build my beautiful tests around JUnit was a very easy decision. But before I do that, in case you are not already familiar with JUnit, let me say a few words about it.<A name=idx-CHP-7-0332></A><A name=idx-CHP-7-0333></A></P>
<P class=docText><A name="brainchild of"></A>JUnit is the brainchild of Kent Beck and Erich Gamma, who created it to help Java developers write and run automated and self-verifying tests. It has the simple, but ambitious, objective of making it easy for software developers to do what they should have done all along: test their own code.</P>
<P class=docText><A name="have a"></A>Unfortunately, we still have a long way to go before the majority of developers are test-infected (i.e., have experimented with developer testing and decided to make it a regular and important part of their development practices). However, since its introduction, JUnit (helped considerably by eXtreme Programming and other Agile methodologies, where developer involvement in testing is nonnegotiable) has gotten more programmers to write tests than anything else.<SUP class=docFootnote><A class=docLink href="javascript:moveTo('CHP-7-FNOTE-3');">[<IMG alt="double dagger" src="images/U2021.GIF">]</A></SUP><A name="up JUnit"></A> Martin Fowler summed up JUnit's impact as follows: "Never in the field of software development was so much owed by so many to so few lines of code."</P>
<BLOCKQUOTE>
<P class=docFootnote><SUP><A name=CHP-7-FNOTE-3>[<IMG alt="double dagger" src="images/U2021.GIF">]</A></SUP><A name="are JUnit"></A> Another indication of JUnit's success and influence is that today there are JUnit-inspired frameworks for most modern programming languages, as well as many JUnit extensions.</P></BLOCKQUOTE>
<P class=docText><A name="intentionally simple"></A>JUnit is intentionally simple. Simple to learn. Simple to use. This was a key design criterion. Kent Beck and Erich Gamma took great pains to make sure that JUnit was so easy to learn and use that programmers would actually use it. In their own words:</P>
<BLOCKQUOTE>
<P class=docText><A name="is to"></A>So, the number one goal is to write a framework within which we have some glimmer of hope that developers will actually write tests. The framework has to use familiar tools, so that there is little new to learn. It has to require no more work than absolutely necessary to write a new test. It has to eliminate duplicate effort.<SUP class=docFootnote><A class=docLink href="javascript:moveTo('CHP-7-FNOTE-4');">[§]</A></SUP></P>
<BLOCKQUOTE>
<P class=docFootnote><SUP><A name=CHP-7-FNOTE-4>[§]</A></SUP> "JUnit: A Cook's Tour," Kent Beck and Erich Gamma: <A class=docLink href="http://junit.sourceforge.net/doc/cookstour/cookstour.htm" target=_blank>http://junit.sourceforge.net/doc/cookstour/cookstour.htm</A>.</P></BLOCKQUOTE></BLOCKQUOTE>
<P class=docText>The official getting-started documentation for JUnit (the <SPAN class=docEmphasis>JUnit Cookbook</SPAN>) fits in less than two pages: <A class=docLink href="http://junit.sourceforge.net/doc/cookbook/cookbook.htm" target=_blank>http://junit.sourceforge.net/doc/cookbook/cookbook.htm</A>.</P>
<P class=docText><A name="cookbook "></A>Here's the key extract from the cookbook (from the 4.x version of JUnit):</P>
<BLOCKQUOTE>
<P class=docText><A name="When you"></A>When you need to test something, here is what you do:</P>
<DIV style="FONT-WEIGHT: bold">
<OL class=docList type=1>
<LI>
<DIV style="FONT-WEIGHT: normal">
<P class=docList><A name=with></A>Annotate a method with <TT>@org.junit.Test</TT></P></DIV></LI>
<LI>
<DIV style="FONT-WEIGHT: normal">
<P class=docList><A name="to check"></A>When you want to check a value, import <TT>org.junit.Assert</TT>.<SUP class=docFootnote><A class=docLink href="javascript:moveTo('CHP-7-FNOTE-5');">[||]</A></SUP> statically, call <TT>assertTrue()</TT><A name="a Boolean"></A>, and pass a Boolean that is true if the test succeeds</P></DIV></LI></OL></DIV>
<P class=docText><A name="that the"></A>For example, to test that the sum of two Moneys with the same currency contains a value that is the sum of the values of the two Moneys, write:</P><PRE>	@Test
	public void simpleAdd() {
	    Money m12CHF= new Money(12, "CHF");
	    Money m14CHF= new Money(14, "CHF");
	    Money expected= new Money(26, "CHF");
	    Money result= m12CHF.add(m14CHF);
	    assertTrue(expected.equals(result));
	}
</PRE><BR>
<BLOCKQUOTE>
<P class=docFootnote><SUP><A name=CHP-7-FNOTE-5>[||]</A></SUP><A name="are JUnit"></A> Another indication of JUnit's success and influence is that today there are JUnit-inspired frameworks for most modern programming languages, as well as many JUnit extensions.</P></BLOCKQUOTE></BLOCKQUOTE>
<P class=docText><A name="have any"></A>If you have any familiarity with Java, those two instructions and the simple example are all you need to get started. That's also all you need to understand the tests I will be writing. Beautifully simple, isn't it? So, let's get going.</P></DIV></DIV>
<p>&nbsp;</p><p>&nbsp;</p><!-- 仁·义 -->
</body></html>
