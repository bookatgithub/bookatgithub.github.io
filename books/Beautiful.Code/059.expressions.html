<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<link href="styles/globalstyle.css" type="text/css" rel="stylesheet"/>
<link title="medium" href="styles/two.css" type="text/css" rel="stylesheet"/>
<script src="scripts/main.js" type="text/javascript" language="javascript"></script>
<title>Section 9.5. Expressions</title>
</head><body>
<DIV class=h3 style="MARGIN-TOP: 0px; PADDING-BOTTOM: 1em; WIDTH: 100%; PADDING-TOP: 0px"><SPAN>Top Down Operator Precedence</SPAN><SPAN> &gt; Expressions</SPAN></DIV>
<DIV></DIV>
<DIV>
<DIV><A name=expressions></A>
<H3 class=docSection1Title id=-100000>9.5. Expressions</H3>
<P class=docText><A name="The heart"></A>The heart of Pratt's technique is the <TT>expression</TT><A name="right binding"></A> function. It takes a right binding power that controls the aggressiveness of its consumption of tokens that it sees to the right. It returns the result of calling methods on the tokens it acts upon:<A name=idx-CHP-9-0548></A><A name=idx-CHP-9-0549></A></P><PRE>	var expression = function (rbp) {
	    var left;
	    var t = token;
	    advance( );
	    left = t.nud( );
	    while (rbp &lt; token.lbp) {
	        t = token;
	        advance( );
	        left = t.led(left);
	    }
	    return left;
	}
</PRE><BR>
<P class=docText><TT>expression</TT> calls the <TT>nud</TT> method of the <TT>token</TT>. The <TT>nud</TT><A name="process literals"></A> is used to process literals, variables, and prefix operators. After that, as long as the right binding power is less than the left binding power of the next token, the <TT>led</TT><A name=The></A> methods are invoked. The <TT>led</TT><A name="process infix"></A> is used to process infix and suffix operators. This process can be recursive because the <TT>nud</TT> and <TT>led</TT> methods can call <TT>expression</TT>.</P></DIV></DIV>
<p>&nbsp;</p><p>&nbsp;</p><!-- 仁·义 -->
</body></html>
