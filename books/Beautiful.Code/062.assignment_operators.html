<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<link href="styles/globalstyle.css" type="text/css" rel="stylesheet"/>
<link title="medium" href="styles/two.css" type="text/css" rel="stylesheet"/>
<script src="scripts/main.js" type="text/javascript" language="javascript"></script>
<title>Section 9.8. Assignment Operators</title>
</head><body>
<DIV class=h3 style="MARGIN-TOP: 0px; PADDING-BOTTOM: 1em; WIDTH: 100%; PADDING-TOP: 0px"><SPAN>Top Down Operator Precedence</SPAN><SPAN> &gt; Assignment Operators</SPAN></DIV>
<DIV></DIV>
<DIV>
<DIV><A name=assignment_operators></A>
<H3 class=docSection1Title id=-100000>9.8. Assignment Operators</H3>
<P class=docText><A name="We could"></A>We could use <TT>infixr</TT> to define our <A name=idx-CHP-9-0572></A><A name="want to"></A>assignment operators, but we want to do two extra bits of business, so we will make a specialized <TT>assignment</TT><A name="the left"></A> function. It will examine the left operand to make sure that it is a proper lvalue. We will also set an <TT>assignment</TT><A name="that we"></A> flag so that we can later quickly identify assignment statements:<A name=idx-CHP-9-0573></A><A name=idx-CHP-9-0574></A></P><PRE>	var assignment = function (id) {
	    return infixr(id, 10, function (left) {
	        if (left.id !== "." &amp;&amp; left.id !== "[" &amp;&amp;
	                left.arity !== "name") {
	            left.error("Bad lvalue.");
	        }
	        this.first = left;
	        this.second = expression(9);
	        this.assignment = true;
	        this.arity = "binary";
	        return this;
	    });
	};
	assignment("=");
	assignment("+=");
	assignment("-=");
</PRE><BR>
<P class=docText><A name="have a"></A>Notice that we have a sort of inheritance pattern, where <TT>assignment</TT> returns the result of calling <TT>infixr</TT>, and <TT>infixr</TT> returns the result of calling <TT>symbol</TT>.</P></DIV></DIV>
<p>&nbsp;</p><p>&nbsp;</p><!-- 仁·义 -->
</body></html>
