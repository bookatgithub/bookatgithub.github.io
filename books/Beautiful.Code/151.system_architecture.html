<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<link href="styles/globalstyle.css" type="text/css" rel="stylesheet"/>
<link title="medium" href="styles/two.css" type="text/css" rel="stylesheet"/>
<script src="scripts/main.js" type="text/javascript" language="javascript"></script>
<title>Section 20.3. System Architecture</title>
</head><body>
<DIV class=h3 style="MARGIN-TOP: 0px; PADDING-BOTTOM: 1em; WIDTH: 100%; PADDING-TOP: 0px"><SPAN>A Highly Reliable Enterprise System for NASA's Mars Rover Mission</SPAN><SPAN> &gt; System Architecture</SPAN></DIV>
<DIV></DIV>
<DIV>
<DIV><A name=system_architecture></A>
<H3 class=docSection1Title id=-100000>20.3. System Architecture</H3>
<P class=docText><A name="Code beauty"></A>Code beauty for an <A name=idx-CHP-20-1625></A><A name="derived partly"></A>enterprise system is derived partly from architecture, the way the code is put together. Architecture is more than aesthetics. In a large application, architecture determines how the software components interoperate and contributes to overall system reliability.<A name=idx-CHP-20-1626></A></P>
<P class=docText><A name="using a"></A>We implemented CIP using a <A name=idx-CHP-20-1627></A><A name="adhered to"></A>three-tiered service-oriented architecture (SOA). We adhered to industry standards and best practices, and where practicable, we used <A name=idx-CHP-20-1628></A><A name="mostly in"></A>commercial off-the-shelf (COTS) software. We programmed mostly in Java and used the Java 2 Enterprise Edition (<A name=idx-CHP-20-1629></A>J2EE) standards (see <A class=docLink href="javascript:moveTo('cips_three-tiered_service-oriented_architecture');">Figure 20-2</A>).</P>
<P class=docText>The <A name=idx-CHP-20-1630></A><A name="Swing components"></A>client tier consists mostly of standalone GUI-based Java applications implemented with Swing components and a few web-based applications. A J2EE-compliant application server runs in the middleware and hosts all the services that respond to requests from the client applications. We implemented the services using <A name=idx-CHP-20-1631></A>Enterprise JavaBeans (<A name=idx-CHP-20-1632></A><A name="tier consists"></A>EJBs). The data tier consists of the data sources and data utility programs. Also written in Java, these utilities monitor the file server for the processed data and image files. The utilities generate metadata for the files as soon as they're released by the mission managers.</P><A name=cips_three-tiered_service-oriented_architecture></A>
<P>
<CENTER>
<H5 class=docFigureTitle>Figure 20-2. CIP's three-tiered service-oriented architecture</H5><IMG id="" height=701 alt="" src="images/system_architecture.0.png" width=500 border=0> </CENTER>
<P></P><BR>
<P class=docText>Using an <A name=idx-CHP-20-1633></A><A name="us the"></A>SOA based on J2EE gave us the option to use these well-defined beans (and others) wherever appropriate in the design of a large enterprise application. <A name=idx-CHP-20-1634></A><A name="requests without"></A>Stateless session beans handle service requests without remembering any state from one request to the next. On the other hand, <A name=idx-CHP-20-1635></A><A name="stateful session"></A>stateful session beans maintain state information for clients and typically manage persisted information that the beans read from and write to a data store. Having multiple options in any design situation is important when developing large complex applications.<A name=idx-CHP-20-1636></A><A name=idx-CHP-20-1637></A></P>
<P class=docText><A name="implemented a"></A>In the middleware, we implemented a stateless session bean as a service provider for each service. This was the facade from which we generated a web service that the client applications use to <A name=idx-CHP-20-1638></A><A name="and get"></A>make service requests and get back responses. Each service may also access one or more stateful session beans that are business objects supplying any necessary logic that must maintain state between service requests, such as where to read the next block of information from a database in response to a data request. In effect, the stateless beans are often the service dispatchers for the stateful beans that do the actual work.</P>
<P class=docText><A name="much beauty"></A>There is much beauty in this type of architecture! The architecture embodies some key design <A name=idx-CHP-20-1639></A>principles:</P><A name=idx-CHP-20-1640></A><A name=idx-CHP-20-1641></A><A name=idx-CHP-20-1642></A><A name=idx-CHP-20-1643></A><A name=idx-CHP-20-1644></A><A name=idx-CHP-20-1645></A><A name=idx-CHP-20-1646></A><A name=idx-CHP-20-1647></A><A name=idx-CHP-20-1648></A><A name=idx-CHP-20-1649></A><A name=idx-CHP-20-1650></A><A name=idx-CHP-20-1651></A><A name=idx-CHP-20-1652></A><A name=idx-CHP-20-1653></A><A name=idx-CHP-20-1654></A>
<DL class=docList>
<DT><BR>
<P><SPAN class=docPubcolor><SPAN class=docEmphasis>Standards-based</SPAN> </SPAN></P></DT>
<DD>
<P class=docList><A name="research institution"></A>Especially at a research institution (like the NASA Ames Research Center, where we designed and developed <A name=idx-CHP-20-1640></A><A name="if the"></A>CIP), there is always a strong temptation to invent something new, even if the result is reinventing the wheel. The MER mission afforded the CIP development team neither the time nor the resources, and our goal was to develop production-quality code for the mission, not necessarily to do research.<A name=idx-CHP-20-1641></A></P>
<P class=docList><SPAN class=docEmphasis><A name="large application"></A>In any large application, the key to success is integration, not coding</SPAN><A name="to industry"></A>. The beauty behind adhering to industry standards and best practices is that we did less coding by using COTS components, and because of common interfaces, these components were able to work well with each other. This enabled us to <A name=idx-CHP-20-1642></A><A name="managers that"></A>make guarantees to the mission managers that we would deliver functional and reliable code on time.<A name=idx-CHP-20-1643></A></P></DD>
<DT><BR>
<P><SPAN class=docPubcolor><SPAN class=docEmphasis><A name="Loose coupling"></A>Loose coupling</SPAN> </SPAN></P></DT>
<DD>
<P class=docList><A name="the client"></A>We loosely coupled the client applications and the middleware <A name=idx-CHP-20-1644></A><A name="once the"></A>services. This meant that once the application programmer and the service programmer agreed on an interface <A name=idx-CHP-20-1645></A><A name="they could"></A>between the two, they could develop their respective code in parallel. Any changes on one side didn't affect the other as long as the interface remained stable. Loose coupling was another major factor that allowed us to complete a large multitiered SOA application on time.<A name=idx-CHP-20-1646></A></P></DD>
<DT><BR>
<P><SPAN class=docPubcolor><SPAN class=docEmphasis>Language independence</SPAN> </SPAN></P></DT>
<DD>
<P class=docList><A name="and the"></A>The client applications and the middleware services used web services to communicate with each other. The web services protocol is an industry standard that is language independent. Most of the CIP client applications were written in Java, but the middleware also served some C++ and C# applications. Once we got a service to work with a Java client, it was relatively simple to get it to work with another client written in any language that supported web services. This greatly expanded the usefulness and usability of CIP with little extra cost in time or resources.<A name=idx-CHP-20-1647></A></P></DD>
<DT><BR>
<P><SPAN class=docPubcolor><SPAN class=docEmphasis>Modularity</SPAN> </SPAN></P></DT>
<DD>
<P class=docList>The importance of <A name=idx-CHP-20-1648></A><A name="service is"></A>modularity increases exponentially with the size of the application. In CIP, each service is a self-contained middleware component that is independent of the other services. If one service needs to work with another service, it makes a service request of the other service just as if it were a client application. This allowed us to create the services separately and added another dimension of parallelism in our development. Modular services are beautiful artifacts that are often found in large, successful SOA applications.</P>
<P class=docList><A name="client tier"></A>In the client tier, the application programs often compounded the services, either combining the results of multiple services or using the results of one service to pass in a request to another service.</P></DD>
<DT><BR>
<P><SPAN class=docPubcolor><SPAN class=docEmphasis>Scalability</SPAN> </SPAN></P></DT>
<DD>
<P class=docList><A name=idx-CHP-20-1649></A><A name="whenever mission"></A>CIP usage levels spike whenever mission control releases processed data and image files, especially after an interesting discovery by one of the rovers. We had to ensure that the <A name=idx-CHP-20-1650></A><A name="particularly when"></A>CIP middleware can handle such spikes, particularly when the users are anxious to download and view the latest files. A slowdown or, worse, a crash, at such times would be highly intolerable and highly visible.<A name=idx-CHP-20-1651></A></P>
<P class=docList><A name="One of"></A>One of the beauties of the J2EE infrastructure is how it handles scalability. The application server maintains bean pools, and based on demand, it can automatically create more instances of our stateless session bean service providers. This is a significant "free" J2EE feature that the middleware service developers were happy to accept.</P></DD>
<DT><BR>
<P><SPAN class=docPubcolor><SPAN class=docEmphasis>Reliability</SPAN> </SPAN></P></DT>
<DD>
<P class=docList><A name="that had"></A>As a standard that had undergone much vetting by industry, the J2EE infrastructure proved to be extremely reliable. We avoided pushing the envelope of what it was designed to do. So after two years of operation, <A name=idx-CHP-20-1652></A><A name="uptime record"></A>CIP achieved an uptime record of over 99.9 percent.<A name=idx-CHP-20-1653></A></P>
<P class=docList><A name="beyond what"></A>We went beyond what J2EE intrinsically provided for <A name=idx-CHP-20-1654></A><A name="the following"></A>reliability. As you'll see in the following case study, we pounded a few extra nails into our services to further increase their reliability.</P></DD></DL></DIV></DIV>
<p>&nbsp;</p><p>&nbsp;</p><!-- 仁·义 -->
</body></html>
