<html><head><title>21.3. The Catch</title><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"><link rel="STYLESHEET" type="text/css" href="portals/bvdep/xsltemplates/globalstyle.css"><link href="includes/searchResults.css" rel="stylesheet" type="text/css"><link rel="STYLESHEET" type="text/css" href="portals/bvdep/xsltemplates/style.css"><link rel="STYLESHEET" type="text/css" href="portals/bvdep/xsltemplates/docsafari.css"></head><body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0"><a name="toppage"></a><table width="100%" border="0" cellspacing="0" cellpadding="0" class="sfbody"><tr valign="top"><td align="center"><a name="MainContent"></a><table width="95%"><tr><td align="left" class="v2"><!--Copyright (c) 2002 Safari Tech Books Online--><table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td valign="middle" class="v2" height="5"><img src="pixel.gif" width="1" height="5" alt="" border="0" /></td></tr><tr><td valign="middle" class="v2"><table cellpadding="0" cellspacing="0" border="0" width="100%"><tr><td align="left"><span style="white-space:nowrap">&nbsp;</span>
                  &nbsp;
                  <span style="white-space:nowrap"> &nbsp;&nbsp;</span></td></tr></table></td><td></td><td valign="middle" class="v2" align="right"><a href="19991539.html"><img src="btn_next_.gif" width="1" height="1" alt="Next" border="0" /></a> 
          &nbsp;
          <span style="white-space:nowrap"><a target="_self" href="the_contribulyzer.html" title="Previous section"><img border="0" align="absmiddle" src="btn_prev.gif" alt="Previous section" id="btn_prev" /></a></span>
				
				&nbsp;
				
				<span style="white-space:nowrap"><a target="_self" href="the_limits_of_the_contribulyzer.html" title="Next section"><img border="0" align="absmiddle" src="btn_next.gif" alt="Next section" id="btn_next" /></a></span></td></tr></table><div id="section"><br /><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top">Process Project Management Software Engineering Business Andrew Stellman  Jennifer Greene  O'Reilly Media, Inc. Beautiful Teams<a name="the_catch"></a>
<h3 id="643999-925" class="docSection1Title">21.3. The Catch</h3>
<p class="docText">Unfortunately, the <a name="idx-CHP-21-0666"></a>Contribulyzer is not some miraculous artificial
        intelligence program. The only reason it knows who has made what types
        of contributions is because <span class="docEmphasis">we tell it</span>. And the
        trick to getting everyone to tell it faithfully is twofold:</p>
<ul><li><p class="docList">Make the overhead as low as possible.</p></li><li><p class="docList">Give people concrete evidence that the overhead will be
            worth it.</p></li></ul>
<p class="docText">Meeting the first conditon was easy. The <a name="idx-CHP-21-0667"></a>Contribulyzer takes its data from Subversion's
        per-revision log messages. We've always had certain conventions for
        writing these, such as naming every code symbol affected by a change.
        Supporting the Contribulyzer merely meant adding one new convention: a
        standard way of attributing changes that came from a source other than
        the maintainer who shepherded the change into the repository.</p>
<p class="docText">The standard is simple. We use one of four verbs (for the
        expected types of contributions), followed by the word
        <span class="docEmphasis">by:</span> and then the names of the contributors who
        made that type of contribution to that change. Most changes have only
        one contributor, but if there are multiple contributors, they can be
        listed on continuation lines:</p>
<pre>
Patch by: <b>name_1_maybe_with_email_address </b>
<b>          name_2_maybe_with_email_address </b>
Found by: <b>name_3_maybe_with_email_address </b>
Review by: <i>etc... </i>
Suggested by: <i>etc... </i>
</pre><br />
<p class="docText">(These conventions are described in detail at <a class="docLink" target="_blank" href=""></a>.)</p>
<p class="docText">One reason it was easy to persuade people to abide by the new
        standard is that, in a way, it actually made writing log messages
        easier. We'd been crediting people before, but in various ad hoc
        manners, which meant that each time we committed a contributor's code,
        we had to think about how to express the contribution. One time it
        might be like this:</p>
<pre>
Remove redundant code introduced in r20091.  This came from a patch by
<b>name_1_maybe_with_email_address.</b>
</pre><br />
<p class="docText">And another time like this:</p>
<pre>
Fix bug in baton handoff.  (Thanks to <b>so-and-so</b> for sending in the patch.)
</pre><br />
<p class="docText">While the new convention was one more thing for people to learn,
        <span class="docEmphasis">once learned</span> it actually saved effort: now no one
        had to spend time thinking of how to phrase things, because we'd all
        agreed on One Standard Way to do it.</p>
<p class="docText">Still, introducing a new standard into a project isn't always
        easy. The path will be greatly smoothed if you can meet the second
        condition as well, that is, show the benefits
        <span class="docEmphasis">before</span> asking people to make the sacrifices.
        Fortunately, we were able to do so. Subversion's log messages are
        editable (unlike some version control systems in which they are
        effectively immutable). This meant that, after writing the
        Contribulyzer code to process log messages formatted according to the
        new standard, we could go back and fix up all of the project's
        existing logs to conform to that standard, and
        then generate a post-facto <a name="idx-CHP-21-0668"></a>Contribulyzer page covering the entire history of the
        project. This we did in two steps: first, we found all the "@" signs
        in the log messages, to detect places where we mentioned someone's
        email address (since we often used people's email addresses when
        crediting them), and then, we searched again for just the
        names&mdash;without the email addresses&mdash;harvested from the first search. The
        resultant list of log messages numbered about one thousand, and with
        the help of a few volunteers (plus some rather labyrinthine editing
        macros), we were able to get them all into the new format in about one
        night.</p>
<p class="docText">Thus, the proposal of the new standard coincided with a
        demonstration of what it could do for us: we had the full <a name="idx-CHP-21-0669"></a>Contribulyzer pages up and running from the moment the
        Contribulyzer was announced to the team. This made its benefits
        immediately apparent, and made the new log message formatting
        requirements seem like a small price to pay by comparison.</p>
<ul></ul></td></tr></table><table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td valign="middle" class="v2" height="5"><img src="pixel.gif" width="1" height="5" alt="" border="0" /></td></tr><tr><td valign="middle" class="v2"><table cellpadding="0" cellspacing="0" border="0" width="100%"><tr><td align="left"><span style="white-space:nowrap">&nbsp;</span>
                  &nbsp;
                  <span style="white-space:nowrap"> &nbsp;&nbsp;</span></td></tr></table></td><td></td><td valign="middle" class="v2" align="right"><a href="19991539.html"><img src="btn_next_.gif" width="1" height="1" alt="Next" border="0" /></a> 
          &nbsp;
          <span style="white-space:nowrap"><a target="_self" href="the_contribulyzer.html" title="Previous section"><img border="0" align="absmiddle" src="btn_prev.gif" alt="Previous section" id="btn_prev" /></a></span>
				
				&nbsp;
				
				<span style="white-space:nowrap"><a target="_self" href="the_limits_of_the_contribulyzer.html" title="Next section"><img border="0" align="absmiddle" src="btn_next.gif" alt="Next section" id="btn_next" /></a></span></td></tr></table><table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td valign="top" align="right"><span style="white-space:nowrap"><a target="_self" href="#toppage" title="Top"></a></span></td></tr></table></div><!--IP User 2--></td></tr></table></td><td align="center">
                        &nbsp;
                      </td></tr><tr><td colspan="3" align="center" valign="bottom"><br /><p class="v2" align="center"></p><br /></td></tr></table></body>