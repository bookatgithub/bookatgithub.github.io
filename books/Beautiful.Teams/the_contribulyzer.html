<html><head><title>21.2. The Contribulyzer</title><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"><link rel="STYLESHEET" type="text/css" href="portals/bvdep/xsltemplates/globalstyle.css"><link href="includes/searchResults.css" rel="stylesheet" type="text/css"><link rel="STYLESHEET" type="text/css" href="portals/bvdep/xsltemplates/style.css"><link rel="STYLESHEET" type="text/css" href="portals/bvdep/xsltemplates/docsafari.css"></head><body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0"><a name="toppage"></a><table width="100%" border="0" cellspacing="0" cellpadding="0" class="sfbody"><tr valign="top"><td align="center"><a name="MainContent"></a><table width="95%"><tr><td align="left" class="v2"><!--Copyright (c) 2002 Safari Tech Books Online--><table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td valign="middle" class="v2" height="5"><img src="pixel.gif" width="1" height="5" alt="" border="0" /></td></tr><tr><td valign="middle" class="v2"><table cellpadding="0" cellspacing="0" border="0" width="100%"><tr><td align="left"><span style="white-space:nowrap">&nbsp;</span>
                  &nbsp;
                  <span style="white-space:nowrap"> &nbsp;&nbsp;</span></td></tr></table></td><td></td><td valign="middle" class="v2" align="right"> 
          &nbsp;
          <span style="white-space:nowrap"><a target="_self" href="how_open_source_projects_work.html" title="Previous section"><img border="0" align="absmiddle" src="btn_prev.gif" alt="Previous section" id="btn_prev" /></a></span>
				
				&nbsp;
				
				<span style="white-space:nowrap"><a target="_self" href="the_catch.html" title="Next section"><img border="0" align="absmiddle" src="btn_next.gif" alt="Next section" id="btn_next" /></a></span></td></tr></table><div id="section"><br /><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top">Process Project Management Software Engineering Business Andrew Stellman  Jennifer Greene  O'Reilly Media, Inc. Beautiful Teams<a name="the_contribulyzer"></a>
<h3 id="title-IDA1CXVG" class="docSection1Title">21.2. The Contribulyzer</h3>
<p class="docText">Like most open source projects, <a name="idx-CHP-21-0655"></a>Subversion <sup class="docFootnote"><a class="docLink" href="#CHP-21-FNOTE-3">[]</a></sup> is continually trying to identify potential new core
        maintainers. Indeed, one of the primary jobs of the current core group
        is to watch incoming code contributions from new people and figure who
        should be invited to take on the responsibilities of core
        maintainership. In order to honestly discuss the strengths and
        weaknesses of candidates, we (the core maintainers) set up a private
        mailing list, one of the few non-public lists in the project. When
        someone thinks a contributor is ready, she proposes the candidate on
        this mailing list, and sees what others' reactions are. We give each
        other enough time to do some background checking, since we want a
        comfortable consensus before we extend the offer; revoking
        maintainership would be awkward, and we try to avoid ever being in the
        position of having to do it.</p><blockquote><p class="docFootnote"><sup><a name="CHP-21-FNOTE-3">[]</a></sup> Subversion is an open source version control system; see
            <a class="docLink" target="_blank" href="http://subversion.tigris.org/"></a>.</p></blockquote>
<p class="docText">This behind-the-scenes background checking is harder than it
        sounds. Often, <a name="idx-CHP-21-0656"></a>patches <sup class="docFootnote"><a class="docLink" href="#CHP-21-FNOTE-4">[]</a></sup> from the same contributor have been handled by different
        maintainers on different occasions, meaning that no one maintainer has
        a good overview of that contributor's activities. Even when the same
        maintainer tends to handle patches from the same contributor (which
        can happen either deliberately or by accident), the contributor's
        patches may have come in irregularly over a period of months or years,
        making it hard for the maintainer to monitor the overall quality of
        the contributor's code, bug reports, design suggestions, and so
        forth.</p><blockquote><p class="docFootnote"><sup><a name="CHP-21-FNOTE-4">[]</a></sup> A <span class="docEmphasis">patch</span> is code contribution, such as a
            bugfix, sent in a special format known as "patch format." The
            details of that format don't matter here; just think of a patch as
            being a proposed modification to the software, submitted in
            extremely detailed form&mdash;right down to which precise lines of code
            to change and how.</p></blockquote>
<p class="docText">I first began to think we had a problem when I noticed that
        names floated on the private mailing list were getting either an
        extremely delayed reaction or, sometimes, <span class="docEmphasis">no</span>
        reaction at all. That didn't seem right: after all, the candidates
        being proposed had been actively involved in the project, usually
        quite recently, and generally had had several of their patches
        accepted, often after several iterations of review and discussion on
        the public lists. However, it soon became clear what was going on: the
        maintainers were hesitant to solely rely on their memories of what
        that candidate had done (no one wants to champion someone who later
        turns out to be a dud), but at the same time were daunted by the sheer
        effort of digging back through the list archives and the code change
        history to jog their memories. I sensed that many of us were falling
        into a classic wishful postponement pattern when it came to <a name="idx-CHP-21-0657"></a>evaluations: "Oh, so-and-so is being proposed as a new
        maintainer. Well, I'll save my response for this weekend, when I'll
        have a couple of hours to go through the archives and see what they've
        done." Of course, for whatever reason the "couple of hours" don't
        materialize that weekend, so the task is put off again, and again &#8230; .
        Meanwhile, the candidate has no idea any of this is going on, and just
        continues posting patches instead of committing
        <sup class="docFootnote"><a class="docLink" href="#CHP-21-FNOTE-5">[]</a></sup> directly. This means continued extra work for the
        maintainers, who have to process those patches, whereas if the
        candidate could be made a maintainer himself, it would be a double
        win: he wouldn't require assistance to get his patches into the code,
        and he'd be available to help process other people's patches.</p><blockquote><p class="docFootnote"><sup><a name="CHP-21-FNOTE-5">[]</a></sup> To <span class="docEmphasis">commit</span> means to send a code change
            directly into the project's repository, which is where the central
            copy of the project's code lives (see <a class="docLink" target="_blank" href="http://en.wikipedia.org/wiki/Revision_Control"></a> for
            more). In general, only core maintainers are able to commit
            directly; all others find a core maintainer to shepherd their
            changes into the repository. See <a class="docLink" target="_blank" href=""></a>
            for more on the concept of "commit access."</p></blockquote>
<p class="docText">My own self-observation was consistent with this hypothesis: a
        familiar sense of mild dread would come over me whenever a new name
        came up for consideration&mdash;not because I didn't want a new maintainer,
        but because I didn't know where I'd find the time to do the research
        needed to reply responsibly to the proposal.</p>
<p class="docText">Finally, one night I set aside my regular work to look for a
        solution. What I came up with was far from ideal, and does not
        completely automate the task of gathering the information we need to
        evaluate a contributor. But even a partial automation greatly reduced
        the time it takes to evaluate someone, and that was enough to get the
        wheels out of the mud, so to speak. Since the system has been up,
        proposals of candidates are almost always met with timely responses
        that draw on the information in the new system, because people don't
        feel bogged down by time-consuming digging around in archives. The new
        system took identical chores that until then had been redundantly
        performed by each evaluator individually, and instead performed them
        <span class="docEmphasis">once</span>, storing the results for everyone to use
        forever after.</p>
<p class="docText">The system is called the <a name="idx-CHP-21-0658"></a>Contribulyzer (<a class="docLink" target="_blank" href="http://www.red-bean.com/svnproject/contribulyzer/"></a>):<a name="idx-CHP-21-0659"></a> it keeps track of what contributors are doing, and
        records each contributor's activity on one web page. When the
        maintainers want to know whether a given contributor is ready for the
        keys to the car, they just look at the relevant Contribulyzer page for
        that contributor, first scanning an overview of his activities, and
        then focusing in on details as necessary.</p>
<p class="docText"><span class="docEmphasis">But how does a computer program "keep track of" what a
        contributor is doing? That sounds suspiciously like magic</span>,
        you might be thinking to yourself. It isn't magic: it requires some
        human assistance, and we'll look more closely at exactly how in a
        moment. First, though, let's see the results. The first figure on page
        273 shows the front page of our Contribulyzer site.</p>
<p class="docText">If you click on a contributor's name, it takes you to a page
        showing the details of what that contributor has done. The second
        figure on page 273 shows the top of the detail page for Madan U
        S.</p>
<p class="docText">The four categories across the top indicate the kinds of
        contributions Madan has had a role in. Each individual contribution is
        represented by a <span class="docEmphasis">revision number</span>&mdash;a number
        (prefixed with <span class="docEmphasis">r</span>) that uniquely identifies that
        particular change. Given a revision number, one can ask the central
        repository to show the details (the exact lines changed and how they
        changed) for that contribution. For r22756 and r18324, Madan found the
        bugs that were fixed in those revisions. For the
        largest block of revision numbers&mdash;the "Patches"&mdash;he wrote the change
        that some maintainer eventually committed. For the remaining
        revisions, he either reviewed a patch that someone else committed, or
        suggested the fix but (for whatever reason) was not the one who
        implemented it.<a name="idx-CHP-21-0660"></a></p>
<p class="docText"><span class="docEmphasis">The Contribulyzer (main page).</span></p>
<p class="docText"><span class="docEmphasis">The Contribulyzer (contributor
        page).</span></p>
<p class="docText">Those four sections at the top of the page
        already give a high-level overview of Madan's activity. Furthermore,
        each revision number links to a brief description of the corresponding
        change. This description is known as a <span class="docEmphasis">log
        message</span>: a short bit of prose submitted along with a code
        change, explaining what the change does. The repository records this
        message along with the change; it is a crucial resource for anyone who
        comes along later wanting to understand the change.<a name="idx-CHP-21-0661"></a><a name="idx-CHP-21-0662"></a><a name="idx-CHP-21-0663"></a></p>
<p class="docText">If you click on "r20727", the top of the next screen will show
        the log message for that revision, as shown in the next figure.</p>
<p class="docText"><span class="docEmphasis">The Contribulyzer (revision entry).</span></p>
<p class="docText">The revision number here is a link, too, but this time to a page
        showing in detail what changed in that revision, using the repository
        browser ViewVC (<a class="docLink" target="_blank" href="http://www.viewvc.org/"></a>); see the
        first figure on <a class="docLink" href="the_catch.html#the_catch">Section 21.3</a>.<a name="idx-CHP-21-0664"></a></p>
<p class="docText">From here, you can see the exact files that changed, and if you
        click on "modified", you can see the code diff itself, as shown in the
        second figure on <a class="docLink" href="the_catch.html#the_catch">Section 21.3</a>.</p>
<p class="docText">As you can see, the layout of information in the <a name="idx-CHP-21-0665"></a>Contribulyzer matches what we'd need to jog our memories
        of a contributor's work. There's a broad overview of what kinds of
        contributions that person has made, then a high-level summary of each
        contribution, and finally, detailed descriptions for those who want to
        go all the way to the code level.</p>
<p class="docText">But how did all this information get into the
        Contribulyzer?</p>
<p class="docText"><span class="docEmphasis">ViewVC revision
        page.</span></p>
<p class="docText"><span class="docEmphasis">ViewVC file diff page.</span></p>
<a href="19991539.html"><img src="pixel.gif" alt="" width="1" height="1" border="0" /></a><ul></ul></td></tr></table><table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td valign="middle" class="v2" height="5"><img src="pixel.gif" width="1" height="5" alt="" border="0" /></td></tr><tr><td valign="middle" class="v2"><table cellpadding="0" cellspacing="0" border="0" width="100%"><tr><td align="left"><span style="white-space:nowrap">&nbsp;</span>
                  &nbsp;
                  <span style="white-space:nowrap"> &nbsp;&nbsp;</span></td></tr></table></td><td></td><td valign="middle" class="v2" align="right"> 
          &nbsp;
          <span style="white-space:nowrap"><a target="_self" href="how_open_source_projects_work.html" title="Previous section"><img border="0" align="absmiddle" src="btn_prev.gif" alt="Previous section" id="btn_prev" /></a></span>
				
				&nbsp;
				
				<span style="white-space:nowrap"><a target="_self" href="the_catch.html" title="Next section"><img border="0" align="absmiddle" src="btn_next.gif" alt="Next section" id="btn_next" /></a></span></td></tr></table><table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td valign="top" align="right"><span style="white-space:nowrap"><a target="_self" href="#toppage" title="Top"></a></span></td></tr></table></div><!--IP User 2--></td></tr></table></td><td align="center">
                        &nbsp;
                      </td></tr><tr><td colspan="3" align="center" valign="bottom"><br /><p class="v2" align="center"></p><br /></td></tr></table></body>