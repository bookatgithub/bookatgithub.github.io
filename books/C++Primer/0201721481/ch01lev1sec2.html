<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 1.2.&nbsp; A First Look at Input/Output</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="toc.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch01lev1sec1.html><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href=ch01lev1sec3.html><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><a name="ch01lev1sec2"></a>
<h3 class="docSection1Title">1.2. A First Look at Input/Output</h3>
<p class="docText">C++ does not directly define any statements to do input or output (IO). Instead, IO is provided by the <B><a name="ch01term39"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_39">standard library</a></b>. The IO library provides an extensive set of <a name="idd1e1280"></a><a name="idd1e1284"></a><a name="idd1e1288"></a><a name="idd1e1292"></a><a name="idd1e1295"></a><a name="idd1e1299"></a><a name="idd1e1302"></a><a name="idd1e1305"></a><a name="idd1e1315"></a><a name="idd1e1321"></a><a name="idd1e1327"></a><a name="idd1e1330"></a><a name="idd1e1333"></a><a name="idd1e1336"></a><a name="idd1e1339"></a>facilities. However, for many purposes, including the examples in this book, one needs to know only a few basic concepts and operations.</P>
<p class="docText">Most of the examples in this book use the <b><a name="ch01term24"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_24"><span class="docEmphStrong"><tt>iostream</tt></span></a></b> <span class="docEmphStrong">library</span>, which handles formatted input and output. Fundamental to the <tt>iostream</tt> library are two types named <B><a name="ch01term25"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_25"><span class="docEmphStrong"><tt>istream</tt></span></a></b> and <b><a name="ch01term32"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_32"><span class="docEmphStrong"><tt>ostream</tt></span></a></b>, which represent input and output streams, respectively. A stream is a sequence of characters intended to be read from or written to an IO device of some kind. The term &quot;stream&quot; is intended to suggest that the characters are generated, or consumed, sequentially over time.</p>
<a name="ch01lev2sec2"></a>
<H4 class="docSection2Title">1.2.1. Standard Input and Output Objects</H4>
<p class="docText">The library defines four IO objects. To handle input, we use an object of type <tt>istream</tt> named <b><a name="ch01term6"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_06">cin</a></b> (pronounced &quot;see-in&quot;). This object is also referred to as the <b><a name="ch01term38"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_38">standard input</a></b>. For output, we use an <tt>ostream</tt> object named <b><a name="ch01term12"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_12">cout</a></b> (pronounced &quot;see-out&quot;). It is often referred to as the <b><a name="ch01term40"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_40">standard output</a></b>. The library also defines two other <tt>ostream</tt> objects, named <b><a name="ch01term5"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_05"><span class="docEmphStrong"><tt>cerr</tt></span></a></b> and <B><a name="ch01term9"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_09"><span class="docEmphStrong"><tt>clog</tt></span></a></b> (pronounced &quot;see-err&quot; and &quot;see-log,&quot; respectively). The <tt>cerr</tt> object, referred to as the <b><a name="ch01term37"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_37">standard error</a></b>, is typically used to generate warning and error messages to users of our programs. The <tt>clog</tt> object is used for general information about the execution of the program.</P>
<p class="docText">Ordinarily, the system associates each of these objects with the window in which the program is executed. So, when we read from <tt>cin</tt>, data is read from the window in which the program is executing, and when we write to <tt>cout, cerr</tt>, or <tt>clog</tt>, the output is written to the same window. Most operating systems give us a way of redirecting the input or output streams when we run a program. Using redirection we can associate these streams with files of our choosing.</P>

<a name="ch01lev2sec3"></a>
<h4 class="docSection2Title">1.2.2. A Program that Uses the IO Library</h4>
<p class="docText">So far, we have seen how to compile and execute a simple program, although that program did no work. In our overall problem, we'll have several records that refer to the same ISBN. We'll need to consolidate those records into a single total, implying that we'll need to know how to add the quantities of books sold.</p>
<p class="docText">To see how to solve part of that problem, let's start by looking at how we might add two numbers. Using the IO library, we can extend our <tt>main</tt> program to ask the user to give us two numbers and then print their sum:</P>
<pre>
    #include &lt;iostream&gt;
    int main()
    {
        std::cout &lt;&lt; "Enter two numbers:" &lt;&lt; std::endl;
        int v1, v2;
        std::cin &gt;&gt; v1 &gt;&gt; v2;
        std::cout &lt;&lt; "The sum of " &lt;&lt; v1 &lt;&lt; " and " &lt;&lt; v2
                  &lt;&lt; " is " &lt;&lt; v1 + v2 &lt;&lt; std::endl;
        return 0;
    }
</pre><BR>
<p class="docText"><a name="idd1e1450"></a><a name="idd1e1454"></a><a name="idd1e1459"></a><a name="idd1e1462"></a><a name="idd1e1465"></a><a name="idd1e1472"></a><a name="idd1e1478"></a><a name="idd1e1487"></a><a name="idd1e1493"></a>This program starts by printing</p>
<pre>
      <span class="docEmphStrong">Enter two numbers:</span>
</pre><br>
<p class="docText">on the user's screen and then waits for input from the user. If the user enters</p>
<pre>
      <span class="docEmphStrong">3 7</span>
</pre><br>
<p class="docText">followed by a newline, then the program produces the following output:</P>
<pre>
      <span class="docEmphStrong">The sum of 3 and 7 is 10</span>
</pre><br>
<p class="docText">The first line of our program is a <b><a name="ch01term34"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_34">preprocessor directive</a></b>:</P>
<pre>
      #include &lt;iostream&gt;
</pre><br>
<p class="docText">which tells the compiler that we want to use the <tt>iostream</tt> library. The name inside angle brackets is a <b><a name="ch01term22"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_22">header</a></b>. Every program that uses a library facility must include its associated header. The <tt>#include</tt> directive must be written on a single linethe name of the header and the <tt>#include</tt> must appear on the same line. In general, <tt>#include</tt> directives should appear outside any function. Typically, all the <tt>#include</tt> directives for a program appear at the beginning of the file.</P>
<a name="ch01lev3sec3"></a>
<h5 class="docSection3Title">Writing to a Stream</H5>
<p class="docText">The first statement in the body of <tt>main</tt> executes an <b><a name="ch01term17"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_17">expression</a></b>. In C++ an expression is composed of one or more operands and (usually) an operator. The expressions in this statement use the <b><a name="ch01term53"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_53">output operator</a></b> (the <tt>&lt;&lt;</tt> operator) to print the prompt on the standard output:</p>
<pre>
      std::cout &lt;&lt; "Enter two numbers:" &lt;&lt; std::endl;
</pre><br>
<p class="docText">This statement uses the output operator twice. Each instance of the output operator takes two operands: The left-hand operand must be an <tt>ostream</tt> object; the right-hand operand is a value to print. The operator writes its right-hand operand to the <tt>ostream</tt> that is its left-hand operand.</p>
<p class="docText">In C++ every expression produces a result, which typically is the value generated by applying an operator to its operands. In the case of the output operator, the result is the value of its left-hand operand. That is, the value returned by an output operation is the output stream itself.</p>
<p class="docText">The fact that the operator returns its left-hand operand allows us to chain together output requests. The statement that prints our prompt is equivalent to</p>
<pre>
      (std::cout &lt;&lt; "Enter two numbers:") &lt;&lt; std::endl;
</pre><br>
<p class="docText">Because <tt>(std::cout &lt;&lt; "Enter two numbers:")</tt> returns its left operand, <tt>std::cout</tt>, this statement is equivalent to</p>
<pre>
      std::cout &lt;&lt; "Enter two numbers:";
      std::cout &lt;&lt; std::endl;
</pre><br>
<p class="docText"><a name="idd1e1629"></a><a name="idd1e1634"></a><a name="idd1e1639"></a><a name="idd1e1642"></a><a name="idd1e1646"></a><a name="idd1e1652"></a><a name="idd1e1661"></a><a name="idd1e1664"></a><a name="idd1e1667"></a><a name="idd1e1673"></a><a name="idd1e1684"></a><a name="idd1e1690"></a><a name="idd1e1694"></a><a name="idd1e1697"></a><tt>endl</tt> is a special value, called a <b><a name="ch01term28"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_28">manipulator</a></b>, that when written to an output stream has the effect of writing a newline to the output and flushing the <span class="docEmphBoldItalic"><a name="ch01term3"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_03">buffer</a></span> associated with that device. By flushing the buffer, we ensure that the user will see the output written to the stream immediately.</p>
<a name="ch01note02"></a><div class="docNote"><p>
<table width="90%" border="0" cellspacing="0" cellpadding="1"><TR><TD width="60" valign="top"><img border="0" alt="" align="LEFT" width="57" height="96" SRC="images/0201721481/graphics/beware.jpg;400478"></td><TD valign="top"><p class="docText"> Programmers often insert print statements during debugging. Such statements should always flush the stream. Forgetting to do so may cause output to be left in the buffer if the program crashes, leading to incorrect inferences about where the program crashed.</p></td></TR></table><BR>
</p></div><br>

<a name="ch01lev3sec4"></a>
<h5 class="docSection3Title">Using Names from the Standard Library</h5>
<p class="docText">Careful readers will note that this program uses <tt>std::cout</tt> and <tt>std::endl</tt> rather than just <tt>cout</tt> and <tt>endl</tt>. The prefix <tt>std::</tt> indicates that the names <tt>cout</tt> and <tt>endl</tt> are defined inside the <b><a name="ch01term31"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_31">namespace</a></b> named <B><a name="ch01term42"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_42">std</a></b>. Namespaces allow programmers to avoid inadvertent collisions with the same names defined by a library. Because the names that the standard library defines are defined in a namespace, we can use the same names for our own purposes.</p>
<p class="docText">One side effect of the library's use of a namespace is that when we use a name from the library, we must say explicitly that we want to use the name from the <tt>std</tt> namespace. Writing <tt>std::cout</tt> uses the <B><a name="ch01term51"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_51">scope operator</a></b> (the <tt>::</tt> operator) to say that we want to use the name <tt>cout</tt> that is defined in the namespace <tt>std</tt>. We'll see in <a class="docLink" href="ch03lev1sec1.html#ch03lev1sec1">Section 3.1</a> (p. <a class="docLink" href="ch03lev1sec1.html#ch03lev1sec1">78</a>) a way that programs often use to avoid this verbose syntax.</P>

<a name="ch01lev3sec5"></a>
<h5 class="docSection3Title">Reading From a Stream</h5>
<p class="docText">Having written our prompt, we next want to read what the user writes. We start by defining two <span class="docEmphBoldItalic"><a name="ch01term45"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_45">variables</a></span> named <tt>v1</tt> and <tt>v2</tt> to hold the input:</p>
<pre>
      int v1, v2;
</pre><BR>
<p class="docText">We define these variables as type <tt>int</tt>, which is the built-in type representing integral values. These variables are <span class="docEmphBoldItalic"><a name="ch01term44"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_44">uninitialized</a></span>, meaning that we gave them no initial value. Our first use of these variables will be to read a value into them, so the fact that they have no initial value is okay.</P>
<p class="docText">The next statement</p>
<pre>
      std::cin &gt;&gt; v1 &gt;&gt; v2;
</pre><br>
<p class="docText">reads the input. The <b><a name="ch01term54"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_54">input operator</a></b> (the <tt>&gt;&gt;</tt> operator) behaves analogously to the output operator. It takes an <tt>istream</tt> as its left-hand operand and an object as its right-hand operand. It reads from its <tt>istream</tt> operand and stores the value it read in its right-hand operand. Like the output operator, the input operator returns its left-hand operand as its result. Because the operator returns its left-hand operand, we can combine a sequence of input requests into a single statement. In other words, this input operation is equivalent to</p>
<pre>
      std::cin &gt;&gt; v1;
      std::cin &gt;&gt; v2;
</pre><BR>
<p class="docText"><a name="idd1e1847"></a><a name="idd1e1854"></a><a name="idd1e1857"></a><a name="idd1e1862"></a>The effect of our input operation is to read two values from the standard input, storing the first in <tt>v1</tt> and the second in <tt>v2</tt>.</p>

<a name="ch01lev3sec6"></a>
<h5 class="docSection3Title">Completing the Program</H5>
<p class="docText">What remains is to print our result:</p>
<pre>
     std::cout &lt;&lt; "The sum of " &lt;&lt; v1 &lt;&lt; " and " &lt;&lt; v2
               &lt;&lt; " is " &lt;&lt; v1 + v2 &lt;&lt; std::endl;
</pre><br>
<p class="docText">This statement, although it is longer than the statement that printed the prompt, is conceptually no different. It prints each of its operands to the standard output. What is interesting is that the operands are not all the same kinds of values. Some operands are <B><a name="ch01term43"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_43">string literals</a></b>, such as</p>
<pre>
   "The sum of "
</pre><BR>
<p class="docText">and others are various <tt>int</tt> values, such as <tt>v1, v2</tt>, and the result of evaluating the arithmetic expression:</p>
<pre>
   v1 + v2
</pre><br>
<p class="docText">The <tt>iostream</tt> library defines versions of the input and output operators that accept all of the built-in types.</p>
<a name="ch01note03"></a><div class="docNote"><p>
<table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><td width="60" valign="top"><img border="0" alt="" align="LEFT" width="50" height="54" SRC="images/0201721481/graphics/note.jpg;400478"></td><td valign="top"><p class="docText"> When writing a C++ program, in most places that a space appears we could instead use a newline. One exception to this rule is that spaces inside a string literal cannot be replaced by a newline. Another exception is that spaces are not allowed inside preprocessor directives.</p></td></tr></table><br>
</p></div><BR>
<a name="ch01sb03"></a><P><table cellspacing="0" width="90%" border="1" cellpadding="5"><tr><TD>
<h2 class="docSidebarTitle">Key Concept: Initialized and Uninitialized Variables</h2>
<p class="docText"><span class="docEmphStrong">Initialization is an important concept in C++ and one to which we will return throughout this book.</span></P>
<p class="docText"><span class="docEmphStrong">Initialized variables are those that are given a value when they are defined. Uninitialized variables are not given an initial value:</span></P>
<pre>
   int val1 = 0;     // <span class="docEmphasis">initialized</span>
   int val2;         // <span class="docEmphasis">uninitialized</span>
</pre><br>
<p class="docText"><span class="docEmphStrong">It is almost always right to give a variable an initial value, but we are not required to do so. When we are certain that the first use of a variable gives it a new value, then there is no need to invent an initial value. For example, our first nontrivial program on page <a class="docLink" href="#ch01lev2sec2">6</a> defined uninitialized variables into which we immediately read values.</span></p>
<p class="docText"><span class="docEmphStrong">When we define a variable, we should give it an initial value unless we are <span class="docEmphasis">certain</span> that the initial value will be overwritten before the variable is used for any other purpose. If we cannot guarantee that the variable will be reset before being read, we should initialize it.</span></p>
</td></tr></table></P><br>
<a name="ch01sb04"></a><P><table cellspacing="0" width="90%" border="1" cellpadding="5"><TR><td>
<h2 class="docSidebarTitle">Exercises Section 1.2.2</h2>
<blockquote>
<P><table border="0" cellspacing="16" cellpadding="0"><TR valign="top"><td align="right" class="docText" width="50"><a name="ch01qa2q1"></a><b>Exercise 1.3:</b></td><td><p class="docText"><a name="idd1e1985"></a><a name="idd1e1990"></a><a name="idd1e1995"></a><a name="idd1e1998"></a><a name="idd1e2006"></a>Write a program to print &quot;Hello, World&quot; on the standard output.</P>
</td></tr><TR valign="top"><td align="right" class="docText" width="50"><a name="ch01qa2q2"></a><b>Exercise 1.4:</b></TD><td><p class="docText">Our program used the built-in addition operator, <tt>+</tt>, to generate the sum of two numbers. Write a program that uses the multiplication operator, <tt>*</tt>, to generate the product of two numbers.</P>
</td></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch01qa2q3"></a><b>Exercise 1.5:</b></td><td><p class="docText">We wrote the output in one large statement. Rewrite the program to use a separate statement to print each operand.</p>
</td></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch01qa2q4"></a><b>Exercise 1.6:</b></TD><TD><p class="docText">Explain what the following program fragment does:</p>
<pre>
   std::cout &lt;&lt; "The sum of " &lt;&lt; v1;
             &lt;&lt; " and " &lt;&lt; v2;
             &lt;&lt; " is " &lt;&lt; v1 + v2
             &lt;&lt; std::endl;
</pre><BR>
<p class="docText">Is this code legal? If so, why? If not, why not?</p>
</td></TR></table></P>
</blockquote>
</td></tr></table></p><br>



<a href="21001535.html"><img src="images/pixel.gif" alt="" width="1" height="1" border="0"></a><ul></UL></td></TR></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="toc.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch01lev1sec1.html><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href=ch01lev1sec3.html><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</div></td></tr></table>
</body></html>