<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 1.4.&nbsp; Control Structures</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="toc.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch01lev1sec3.html><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href=ch01lev1sec5.html><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><a name="ch01lev1sec4"></a>
<h3 class="docSection1Title">1.4. Control Structures</h3>
<p class="docText">Statements execute sequentially: The first statement in a function is executed first, followed by the second, and so on. Of course, few programsincluding the one we'll need to write to solve our bookstore problemcan be written using only sequential execution. Instead, programming languages provide various control <a name="idd1e2187"></a><a name="idd1e2193"></a>structures that allow for more complicated execution paths. This section will take a brief look at some of the control structures provided by C++. <a class="docLink" href="ch06.html#ch06">Chapter 6</a> covers statements in detail.</P>
<a name="ch01sb05"></a><P><table cellspacing="0" width="90%" border="1" cellpadding="5"><tr><TD>
<h2 class="docSidebarTitle">Exercises Section 1.3</h2>
<blockquote>
<P><table border="0" cellspacing="16" cellpadding="0"><TR valign="top"><td align="right" class="docText" width="50"><a name="ch01qa3q1"></a><b>Exercise 1.7:</b></td><td><p class="docText">Compile a program that has incorrectly nested comments.</p>
</TD></tr><TR valign="top"><TD align="right" class="docText" width="50"><a name="ch01qa3q2"></a><b>Exercise 1.8:</b></td><td><p class="docText">Indicate which, if any, of the following output statements, are legal.</P>
<pre>
   std::cout &lt;&lt; "/*";
   std::cout &lt;&lt; "*/";
   std::cout &lt;&lt; /* "*/" */;
</pre><BR>
<p class="docText">After you've predicted what will happen, test your answer by compiling a program with these three statements. Correct any errors you encounter.</p>
</td></tr></table></p>
</blockquote>
</TD></tr></table></p><BR>
<a name="ch01lev2sec5"></a>
<h4 class="docSection2Title">1.4.1. The <tt>while</tt> Statement</h4>
<p class="docText">A <B><a name="ch01term46"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_46"><span class="docEmphStrong"><tt>while</tt></span> statement</a></b> provides for iterative execution. We could use a <tt>while</tt> to write a program to sum the numbers from <tt>1</tt> through <tt>10</tt> inclusive as follows:</P>
<pre>
    #include &lt;iostream&gt;
    int main()
    {
        int sum = 0, val = 1;
        // <span class="docEmphItalicAlt">keep executing the</span> <span class="docEmphasis">while</span> <span class="docEmphItalicAlt">until</span> <span class="docEmphasis">val</span> <span class="docEmphItalicAlt">is greater than 10</span>
        while (val &lt;= 10) {
            sum += val;  // <span class="docEmphItalicAlt">assigns</span> <span class="docEmphasis">sum + val</span> <span class="docEmphItalicAlt">to</span> <span class="docEmphasis">sum</span>
            ++val;       // <span class="docEmphItalicAlt">add</span> <span class="docEmphasis">1</span> <span class="docEmphItalicAlt">to</span> <span class="docEmphasis">val</span>
        }
        std::cout &lt;&lt; "Sum of 1 to 10 inclusive is "
                  &lt;&lt; sum &lt;&lt; std::endl;
        return 0;
    }
</pre><br>
<p class="docText">This program when compiled and executed will print:</p>
<pre>
   <span class="docEmphStrong">Sum of 1 to 10 inclusive is 55</span>
</pre><br>
<p class="docText">As before, we begin by including the <tt>iostream</tt> header and define a <tt>main</tt> function. Inside <tt>main</tt> we define two <tt>int</tt> variables: <tt>sum</tt>, which will hold our summation, and <tt>val</tt>, which will represent each of the values from 1 through 10. We give <tt>sum</tt> an initial value of zero and start <tt>val</tt> off with the value one.</p>
<p class="docText">The important part is the <tt>while</tt> statement. A <tt>while</tt> has the form</p>
<pre>
   while (<span class="docEmphasis">condition</span>) <span class="docEmphasis">while_body_statement;</span>
</pre><br>
<p class="docText">A <tt>while</tt> executes by (repeatedly) testing the <span class="docEmphasis">condition</span> and executing the associated <span class="docEmphasis">while_body_statement</span> until the <span class="docEmphasis">condition</span> is false.</p>
<p class="docText"><a name="idd1e2392"></a><a name="idd1e2397"></a><a name="idd1e2402"></a><a name="idd1e2407"></a><a name="idd1e2412"></a><a name="idd1e2418"></a><a name="idd1e2421"></a><a name="idd1e2424"></a><a name="idd1e2427"></a><a name="idd1e2433"></a><a name="idd1e2439"></a><a name="idd1e2447"></a><a name="idd1e2455"></a><a name="idd1e2461"></a>A <b><a name="ch01term11"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_11">condition</a></b> is an expression that is evaluated so that its result can be tested. If the resulting value is nonzero, then the condition is true; if the value is zero then the condition is false.</p>
<p class="docText">If the <span class="docEmphasis">condition</span> is true (the expression evaluates to a value other than zero) then <span class="docEmphasis">while_body_statement</span> is executed. After executing <span class="docEmphasis">while_body_statement</span>, the <span class="docEmphasis">condition</span> is tested again. If <span class="docEmphasis">condition</span> remains true, then the <span class="docEmphasis">while_body_statement</span> is again executed. The <tt>while</tt> continues, alternatively testing the <span class="docEmphasis">condition</span> and executing <span class="docEmphasis">while_body_statement</span> until the <span class="docEmphasis">condition</span> is false.</p>
<p class="docText">In this program, the <tt>while</tt> statement is:</p>
<pre>
    // <span class="docEmphItalicAlt">keep executing the</span> <span class="docEmphasis">while</span> <span class="docEmphItalicAlt">until</span> <span class="docEmphasis">val</span> <span class="docEmphItalicAlt">is greater than 10</span>
    while (val &lt;= 10) {
        sum += val; // <span class="docEmphItalicAlt">assigns</span> <span class="docEmphasis">sum + val</span> <span class="docEmphItalicAlt">to</span> <span class="docEmphasis">sum</span>
        ++val; // <span class="docEmphItalicAlt">add</span> <span class="docEmphasis">1</span> <span class="docEmphItalicAlt">to</span> <span class="docEmphasis">val</span>
    }
</pre><br>
<p class="docText">The condition in the <tt>while</tt> uses the <b><a name="ch01term57"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_57">less-than-or-equal operator</a></b> (the <tt>&lt;=</tt> operator) to compare the current value of <tt>val</tt> and <tt>10</tt>. As long as <tt>val</tt> is less than or equal to 10, we execute the body of the <tt>while</tt>. In this case, the body of the <tt>while</tt> is a <span class="docEmphStrong">block</span> containing two statements:</P>
<pre>
    {
        sum += val; // <span class="docEmphItalicAlt">assigns</span> <span class="docEmphasis">sum + val</span> <span class="docEmphItalicAlt">to</span> <span class="docEmphasis">sum</span>
        ++val; // <span class="docEmphItalicAlt">add</span> <span class="docEmphasis">1</span> <span class="docEmphItalicAlt">to</span> <span class="docEmphasis">val</span>
    }
</pre><BR>
<p class="docText">A block is a sequence of statements enclosed by curly braces. In C++, a block may be used wherever a statement is expected. The first statement in the block uses the <b><a name="ch01term49"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_49">compound assignment operator</a></b>, (the += operator). This operator adds its right-hand operand to its left-hand operand. It has the same effect as writing an addition and an <span class="docEmphStrong">assignment</span>:</P>
<pre>
    sum = sum + val; // <span class="docEmphItalicAlt">assign</span> <span class="docEmphasis">sum + val</span> <span class="docEmphItalicAlt">to</span> <span class="docEmphasis">sum</span>
</pre><br>
<p class="docText">Thus, the first statement adds the value of <tt>val</tt> to the current value of <tt>sum</tt> and stores the result back into <tt>sum</tt>.</p>
<p class="docText">The next statement</P>
<pre>
    ++val; // <span class="docEmphItalicAlt">add</span> <span class="docEmphasis">1</span> <span class="docEmphItalicAlt">to</span> <span class="docEmphasis">val</span>
</pre><BR>
<p class="docText">uses the <b><a name="ch01term48"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_48">prefix increment operator</a></b> (the <tt>++</tt> operator). The increment operator adds one to its operand. Writing <tt>++val</tt> is the same as writing <tt>val = val + 1</tt>.</p>
<p class="docText">After executing the <tt>while</tt> body we again execute the condition in the <tt>while</tt>. If the (now incremented) value of <tt>val</tt> is still less than or equal to 10, then the body of the <tt>while</tt> is executed again. The loop continues, testing the condition and executing the body, until <tt>val</tt> is no longer less than or equal to 10.</p>
<p class="docText">Once <tt>val</tt> is greater than 10, we fall out of the <tt>while</tt> loop and execute the statement following the <tt>while</tt>. In this case, that statement prints our output, followed by the <tt>return</tt>, which completes our <tt>main</tt> program.</p>
<a name="ch01sb06"></a><p><table cellspacing="0" width="90%" border="1" cellpadding="5"><TR><td>
<H2 class="docSidebarTitle">Key Concept: Indentation and Formatting of C++ Programs</H2>
<p class="docText"><a name="idd1e2733"></a><a name="idd1e2739"></a><a name="idd1e2742"></a><a name="idd1e2749"></a><span class="docEmphStrong">C++ programs are largely free-format, meaning that the positioning of curly braces, indentation, comments, and newlines usually has no effect on the meaning of our programs. For example, the curly brace that denotes the beginning of the body of <tt>main</tt> could be on the same line as <span class="docEmphStrong"><tt>main</tt>,</span> positioned as we have done, at the beginning of the next line, or placed anywhere we'd like. The only requirement is that it be the first nonblank, noncomment character that the compiler sees after the close parenthesis that concludes <tt>main</tt>'s parameter list.</span></p>
<p class="docText"><span class="docEmphStrong">Although we are largely free to format programs as we wish, the choices we make affect the readability of our programs. We could, for example, have written <tt>main</tt> on a single, long line. Such a definition, although legal, would be hard to read.</span></p>
<p class="docText"><span class="docEmphStrong">Endless debates occur as to the right way to format C or C++ programs. Our belief is that there is no single correct style but that there is value in consistency. We tend to put the curly braces that delimit functions on their own lines. We tend to indent compound input or output expressions so that the operators line up, as we did with the statement that wrote the output in the <tt>main</tt> function on page <a class="docLink" href="ch01lev1sec2.html#ch01lev2sec2">6</a>. Other indentation conventions will become clear as our programs become more complex.</span></p>
<p class="docText"><span class="docEmphStrong">The important thing to keep in mind is that other ways to format programs are possible. When choosing a formatting style, think about how it affects readability and comprehension. Once you've chosen a style, use it consistently.</span></P>
</TD></tr></table></p><br>

<a name="ch01lev2sec6"></a>
<h4 class="docSection2Title">1.4.2. The <tt>for</tt> Statement</H4>
<p class="docText">In our <tt>while</tt> loop, we used the variable <tt>val</tt> to control how many times we iterated through the loop. On each pass through the <tt>while</tt>, the value of <tt>val</tt> was tested and then in the body the value of <tt>val</tt> was incremented.</p>
<p class="docText">The use of a variable like <tt>val</tt> to control a loop happens so often that the language defines a second control structure, called a <b><a name="ch01term18"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_18"><span class="docEmphStrong"><tt>for</tt></span> statement</a></b>, that abbreviates the code that manages the loop variable. We could rewrite the program to sum the numbers from 1 through 10 using a <tt>for</tt> loop as follows:</P>
<pre>
    #include &lt;iostream&gt;
    int main()
    {
        int sum = 0;
        // <span class="docEmphItalicAlt">sum values from 1 up to 10 inclusive</span>
        for (int val = 1; val &lt;= 10; ++val)
            sum += val; // <span class="docEmphItalicAlt">equivalent to</span> <span class="docEmphasis">sum = sum + val</span>

        std::cout &lt;&lt; "Sum of 1 to 10 inclusive is "
                  &lt;&lt; sum &lt;&lt; std::endl;
        return 0;
    }
</pre><br>
<p class="docText">Prior to the <tt>for</tt> loop, we define <tt>sum</tt>, which we set to zero. The variable <tt>val</tt> is used only inside the iteration and is defined as part of the <tt>for</tt> statement itself. The <tt>for</tt> statement</p>
<pre>
    for (int val = 1; val &lt;= 10; ++val)
        sum += val; // <span class="docEmphItalicAlt">equivalent to</span> <span class="docEmphasis">sum = sum + val</span>
</pre><BR>
<p class="docText"><a name="idd1e2879"></a><a name="idd1e2887"></a><a name="idd1e2894"></a>has two parts: the <tt>for</tt> header and the <tt>for</tt> body. The header controls how often the body is executed. The header itself consists of three parts: an <span class="docEmphasis">init-statement,</span> a <span class="docEmphasis">condition</span>, and an <span class="docEmphasis">expression.</span> In this case, the <span class="docEmphasis">init-statement</span></p>
<pre>
    int val = 1;
</pre><BR>
<p class="docText">defines an <tt>int</tt> object named <tt>val</tt> and gives it an initial value of one. The <span class="docEmphasis">initstatement</span> is performed only once, on entry to the <tt>for</tt>. The <span class="docEmphasis">condition</span></p>
<pre>
    val &lt;= 10
</pre><br>
<p class="docText">which compares the current value in <tt>val</tt> to 10, is tested each time through the loop. As long as <tt>val</tt> is less than or equal to 10, we execute the <tt>for</tt> body. Only after executing the body is the <span class="docEmphasis">expression</span> executed. In this <tt>for</tt>, the expression uses the prefix increment operator, which as we know adds one to the value of <tt>val</tt>. After executing the <span class="docEmphasis">expression</span>, the <tt>for</tt> retests the <span class="docEmphasis">condition</span>. If the new value of <tt>val</tt> is still less than or equal to <tt>10</tt>, then the <tt>for</tt> loop body is executed and <tt>val</tt> is incremented again. Execution continues until the <span class="docEmphasis">condition</span> fails.</p>
<p class="docText">In this loop, the <tt>for</tt> body performs the summation</p>
<pre>
  sum += val; // <span class="docEmphItalicAlt">equivalent to</span> <span class="docEmphasis">sum = sum + val</span>
</pre><br>
<p class="docText">The body uses the compound assignment operator to add the current value of <tt>val</tt> to <tt>sum</tt>, storing the result back into <tt>sum</tt>.</p>
<p class="docText">To recap, the overall execution flow of this <tt>for</tt> is:</p>
<div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">Create <tt>val</tt> and initialize it to <tt>1</tt>.</p></div></li><li><div style="font-weight:normal"><p class="docList">Test whether <tt>val</tt> is less than or equal to <tt>10</tt>.</p></div></li><LI><div style="font-weight:normal"><p class="docList">If <tt>val</tt> is less than or equal to 10, execute the <tt>for</tt> body, which adds <tt>val</tt> to <tt>sum</tt>. If <tt>val</tt> is not less than or equal to 10, then break out of the loop and continue execution with the first statement following the <tt>for</tt> body.</P></div></li><LI><div style="font-weight:normal"><p class="docList">Increment <tt>val</tt>.</p></div></li><LI><div style="font-weight:normal"><p class="docList">Repeat the test in step 2, continuing with the remaining steps as long as the condition is true.</P></div></li></ol></div>
<a name="ch01note05"></a><div class="docNote"><p>
<table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><td width="60" valign="top"><img border="0" alt="" align="LEFT" width="57" height="96" SRC="images/0201721481/graphics/beware.jpg;400478"></td><TD valign="top"><p class="docText"> When we exit the <tt>for</tt> loop, the variable <tt>val</tt> is no longer accessible. It is not possible to use <tt>val</tt> after this loop terminates. However, not all compilers enforce this requirement.</p></TD></TR></table><br>
<p class="docText">In pre-Standard C++ names defined in a <tt>for</tt> header <span class="docEmphasis">were</span> accessible outside the <tt>for</tt> itself. This change in the language definition can surprise people accustomed to using an older compiler when they instead use a compiler that adheres to the standard.</p>
</p></div><BR>
<a name="ch01sb07"></a><P><table cellspacing="0" width="90%" border="1" cellpadding="5"><tr><td>
<h2 class="docSidebarTitle">Compilation Revisited</h2>
<p class="docText"><a name="idd1e3127"></a><span class="docEmphStrong">Part of the compiler's job is to look for errors in the program text. A compiler cannot detect whether the meaning of a program is correct, but it can detect errors in the <span class="docEmphasis">form</span> of the program. The following are the most common kinds of errors a compiler will detect.</span></P>
<div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList"><span class="docEmphStrong">Syntax errors. The programmer has made a grammatical error in the C++ language. The following program illustrates common syntax errors; each comment describes the error on the following line:</span></p><pre>
                     // <span class="docEmphasis">error: missing ')' in parameter list for main</span>
       int main ( {
                     // <span class="docEmphasis">error: used colon, not a semicolon after endl</span>
           std::cout &lt;&lt; "Read each file." &lt;&lt; std::endl:
                     // <span class="docEmphasis">error: missing quotes around string literal</span>
           std::cout &lt;&lt; Update master. &lt;&lt; std::endl;
                     // <span class="docEmphasis">ok: no errors on this line</span>
           std::cout &lt;&lt; "Write new master." &lt;&lt;std::endl;
                     // <span class="docEmphasis">error: missing ';' on return statement</span>
           return 0
       }
</pre><BR></div></li><li><div style="font-weight:normal"><p class="docList"><span class="docEmphStrong">Type errors. Each item of data in C++ has an associated type. The value 10, for example, is an integer. The word &quot;hello&quot; surrounded by double quotation marks is a string literal. One example of a type error is passing a string literal to a function that expects an integer argument.</span></P></div></li><LI><div style="font-weight:normal"><p class="docList"><span class="docEmphStrong">Declaration errors. Every name used in a C++ program must be declared before it is used. Failure to declare a name usually results in an error message. The two most common declaration errors are to forget to use <tt>std::</tt> when accessing a name from the library or to inadvertently misspell the name of an identifier:</span></p><pre>
    #include &lt;iostream&gt;
    int main()
    {
        int v1, v2;
        std::cin &gt;&gt; v &gt;&gt; v2; // <span class="docEmphasis">error: uses "</span> v <span class="docEmphasis">"not"</span> v1<span class="docEmphasis">"</span>
        // cout <span class="docEmphasis">not defined, should be</span> std::cout
        cout &lt;&lt; v1 + v2 &lt;&lt; std::endl;
        return 0;
     }
</pre><br></div></li></ol></div>
<p class="docText"><span class="docEmphStrong">An error message contains a line number and a brief description of what the compiler believes we have done wrong. It is a good practice to correct errors in the sequence they are reported. Often a single error can have a cascading effect and cause a compiler to report more errors than actually are present. It is also a good idea to recompile the code after each fixor after making at most a small number of obvious fixes. This cycle is known as</span> <span class="docEmphBoldItalic"><a name="ch01term15"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_15">edit-compile-debug</a></span>.</p>
</td></tr></table></p><br>
<a name="ch01sb08"></a><p><table cellspacing="0" width="90%" border="1" cellpadding="5"><tr><td>
<h2 class="docSidebarTitle">Exercises Section 1.4.2</h2>
<blockquote>
<P><table border="0" cellspacing="16" cellpadding="0"><TR valign="top"><td align="right" class="docText" width="50"><a name="ch01qa4q1"></a><B>Exercise 1.9:</b></td><td><p class="docText"><a name="idd1e3223"></a><a name="idd1e3231"></a><a name="idd1e3236"></a>What does the following <tt>for</tt> loop do? What is the final value of <tt>sum</tt>?</P>
<pre>
    int sum = 0;
    for (int i = -100; i &lt;= 100; ++i)
        sum += i;
</pre><BR>
</td></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch01qa4q2"></a><b>Exercise 1.10:</b></TD><td><p class="docText">Write a program that uses a <tt>for</tt> loop to sum the numbers from 50 to 100. Now rewrite the program using a <tt>while</tt>.</P>
</TD></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch01qa4q3"></a><B>Exercise 1.11:</b></TD><td><p class="docText">Write a program using a <tt>while</tt> loop to print the numbers from 10 down to 0. Now rewrite the program using a <tt>for</tt>.</p>
</td></tr><TR valign="top"><td align="right" class="docText" width="50"><a name="ch01qa4q4"></a><b>Exercise 1.12:</b></TD><td><p class="docText">Compare and contrast the loops you wrote in the previous two exercises. Are there advantages or disadvantages to using either form?</p>
</TD></tr><TR valign="top"><td align="right" class="docText" width="50"><a name="ch01qa4q5"></a><b>Exercise 1.13:</b></td><td><p class="docText">Compilers vary as to how easy it is to understand their diagnostics. Write programs that contain the common errors discussed in the box on 16. Study the messages the compiler generates so that these messages will be familiar when you encounter them while compiling more complex programs.</p>
</td></tr></table></p>
</blockquote>
</td></tr></table></p><br>

<a name="ch01lev2sec7"></a>
<h4 class="docSection2Title">1.4.3. The <tt>if</tt> Statement</H4>
<p class="docText">A logical extension of summing the values between 1 and 10 is to sum the values between two numbers our user supplies. We might use the numbers directly in our <tt>for</tt> loop, using the first input as the lower bound for the range and the second as the upper bound. However, if the user gives us the higher number first, that strategy would fail: Our program would exit the <tt>for</tt> loop immediately. Instead, we should adjust the range so that the larger number is the upper bound and the smaller is the lower. To do so, we need a way to see which number is larger.</P>
<p class="docText">Like most languages, C++ provides an <b><a name="ch01term23"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_23"><span class="docEmphStrong"><tt>if</tt></span> statement</a></b> that supports conditional execution. We can use an <tt>if</tt> to write our revised sum program:</P>
<pre>
    #include &lt;iostream&gt;
    int main()
    {
        std::cout &lt;&lt; "Enter two numbers:" &lt;&lt; std::endl;
        int v1, v2;
        std::cin &gt;&gt; v1 &gt;&gt; v2; // <span class="docEmphItalicAlt">read input</span>
        // <span class="docEmphItalicAlt">use smaller number as</span> <span class="docEmphasis">lower</span> <span class="docEmphItalicAlt">bound for summation</span>
        // <span class="docEmphItalicAlt">and larger number as</span> <span class="docEmphasis">upper</span> <span class="docEmphItalicAlt">bound</span>
        int lower, upper;
        if (v1 &lt;= v2) {
            lower = v1;
            upper = v2;
        } else {
            lower = v2;
            upper = v1;
        }
        int sum = 0;
        // <span class="docEmphItalicAlt">sum values from</span> <span class="docEmphasis">lower</span> <span class="docEmphItalicAlt">up to and including</span> <span class="docEmphasis">upper</span>
        for (int val = lower; val &lt;= upper; ++val)
            sum += val; // sum = sum + val

        std::cout &lt;&lt; "Sum of " &lt;&lt; lower
                  &lt;&lt; " to " &lt;&lt; upper
                  &lt;&lt; " inclusive is "
                  &lt;&lt; sum &lt;&lt; std::endl;
        return 0;
    }
</pre><br>
<p class="docText"><a name="idd1e3371"></a><a name="idd1e3379"></a>If we compile and execute this program and give it as input the numbers 7 and 3, then the output of our program will be</p>
<pre>
  <span class="docEmphStrong">Sum of 3 to 7 inclusive is 25</span>
</pre><BR>
<p class="docText">Most of the code in this program should already be familiar from our earlier examples. The program starts by writing a prompt to the user and defines four <tt>int</tt> variables. It then reads from the standard input into <tt>v1</tt> and <tt>v2</tt>. The only new code is the <tt>if</tt> statement</P>
<pre>
    // <span class="docEmphItalicAlt">use smaller number as</span> <span class="docEmphasis">lower</span> <span class="docEmphItalicAlt">bound for summation</span>
    // <span class="docEmphItalicAlt">and larger number as</span> <span class="docEmphasis">upper</span> <span class="docEmphItalicAlt">bound</span>
    int lower, upper;
    if (v1 &lt;= v2) {
        lower = v1;
        upper = v2;
    } else {
        lower = v2;
        upper = v1;
    }
</pre><br>
<p class="docText">The effect of this code is to set <tt>upper</tt> and <tt>lower</tt> appropriately. The <tt>if</tt> condition tests whether <tt>v1</tt> is less than or equal to <tt>v2</tt>. If so, we perform the block that immediately follows the condition. This block contains two statements, each of which does an assignment. The first statement assigns <tt>v1</tt> to <tt>lower</tt> and the second assigns <tt>v2</tt> to <tt>upper</tt>.</p>
<p class="docText">If the condition is falsethat is, if <tt>v1</tt> is larger than <tt>v2</tt>then we execute the statement following the <tt>else</tt>. Again, this statement is a block consisting of two assignments. We assign <tt>v2</tt> to <tt>lower</tt> and <tt>v1</tt> to <tt>upper</tt>.</p>

<a name="ch01lev2sec8"></a>
<h4 class="docSection2Title">1.4.4. Reading an Unknown Number of Inputs</h4>
<p class="docText">Another change we might make to our summation program on page <a class="docLink" href="#ch01lev2sec5">12</a> would be to allow the user to specify a set of numbers to sum. In this case we can't know how many numbers we'll be asked to add. Instead, we want to keep reading numbers until the program reaches the end of the input. When the input is finished, the program writes the total to the standard output:</P>
<pre>
    #include &lt;iostream&gt;
    int main()
    {
        int sum = 0, value;
        // <span class="docEmphItalicAlt">read till end-of-file, calculating a running total of all values read</span>
        while (std::cin &gt;&gt; value)
            sum += value; // <span class="docEmphItalicAlt">equivalent to</span> <span class="docEmphasis">sum = sum + value</span>
        std::cout &lt;&lt; "Sum is: " &lt;&lt; sum &lt;&lt; std::endl;
        return 0;
     }
</pre><br>
<p class="docText">If we give this program the input</P>
<pre>
  <span class="docEmphStrong">3 4 5 6</span>
</pre><BR>
<p class="docText">then our output will be</p>
<pre>
  <span class="docEmphStrong">Sum is: 18</span>
</pre><br>
<a name="ch01sb09"></a><p><table cellspacing="0" width="90%" border="1" cellpadding="5"><TR><TD>
<h2 class="docSidebarTitle">Exercises Section 1.4.3</h2>
<blockquote>
<p><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch01qa5q1"></a><b>Exercise 1.14:</b></td><TD><p class="docText"><a name="idd1e3513"></a><a name="idd1e3518"></a><a name="idd1e3521"></a>What happens in the program presented in this section if the input values are equal?</p>
</td></TR><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch01qa5q2"></a><b>Exercise 1.15:</b></td><td><p class="docText">Compile and run the program from this section with two equal values as input. Compare the output to what you predicted in the previous exercise. Explain any discrepancy between what happened and what you predicted.</p>
</td></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch01qa5q3"></a><b>Exercise 1.16:</b></td><td><p class="docText">Write a program to print the larger of two inputs supplied by the user.</p>
</td></TR><TR valign="top"><td align="right" class="docText" width="50"><a name="ch01qa5q4"></a><B>Exercise 1.17:</b></td><td><p class="docText">Write a program to ask the user to enter a series of numbers. Print a message saying how many of the numbers are negative numbers.</P>
</TD></tr></table></p>
</blockquote>
</td></tr></table></p><BR>
<p class="docText">As usual, we begin by including the necessary headers. The first line inside <tt>main</tt> defines two <tt>int</tt> variables, named <tt>sum</tt> and <tt>value</tt>. We'lluse <tt>value</tt> to hold each number we read, which we do inside the condition in the <tt>while</tt>:</p>
<pre>
  while (std::cin &gt;&gt; value)
</pre><BR>
<p class="docText">What happens here is that to evaluate the condition, the input operation</P>
<pre>
  std::cin &gt;&gt; value
</pre><br>
<p class="docText">is executed, which has the effect of reading the next number from the standard input, storing what was read in <tt>value</tt>. The input operator (<a class="docLink" href="ch01lev1sec2.html#ch01lev2sec3">Section 1.2.2</a>, p. <a class="docLink" href="ch01lev1sec2.html#ch01lev2sec3">8</a>) returns its left operand. The condition tests that result, meaning it tests <tt>std::cin</tt>.</p>
<p class="docText">When we use an <tt>istream</tt> as a condition, the effect is to test the state of the stream. If the stream is validthat is, if it is still possible to read another input then the test succeeds. An <tt>istream</tt> becomes invalid when we hit <span class="docEmphBoldItalic"><a name="ch01term16"></a><a class="docLink" href="ch01lev1sec8.html#gloss01_16">end-of-file</a></span> or encounter an invalid input, such as reading a value that is not an integer. An <tt>istream</tt> that is in an invalid state will cause the condition to fail.</p>
<p class="docText"><a name="idd1e3667"></a><a name="idd1e3670"></a><a name="idd1e3673"></a><a name="idd1e3676"></a><a name="idd1e3679"></a><a name="idd1e3682"></a><a name="idd1e3687"></a><a name="idd1e3692"></a><a name="idd1e3697"></a><a name="idd1e3700"></a>Until we do encounter end-of-file (or some other input error), the test will succeed and we'll execute the body of the <tt>while</tt>. That body is a single statement that uses the compound assignment operator. This operator adds its right-hand operand into the left hand operand.</P>
<a name="ch01sb10"></a><P><table cellspacing="0" width="90%" border="1" cellpadding="5"><tr><td>
<h2 class="docSidebarTitle">Entering an End-of-file from the Keyboard</h2>
<p class="docText"><span class="docEmphStrong">Operating systems use different values for end-of-file. On Windows systems we enter an end-of-file by typing a control-zsimultaneously type the &quot;ctrl&quot; key and a &quot;z.&quot; On UNIX systems, including Mac OS-X machines, it is usually control-d.</span></P>
</td></tr></table></P><br>
<p class="docText">Once the test fails, the <tt>while</tt> terminates and we fall through and execute the statement following the <tt>while</tt>. That statement prints <tt>sum</tt> followed by <tt>endl</tt>, which prints a newline and flushes the buffer associated with <tt>cout</tt>. Finally, we execute the <tt>return</tt>, which as usual returns zero to indicate success.</p>
<a name="ch01sb11"></a><P><table cellspacing="0" width="90%" border="1" cellpadding="5"><tr><TD>
<h2 class="docSidebarTitle">Exercises Section 1.4.4</h2>
<blockquote>
<p><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><td align="right" class="docText" width="50"><a name="ch01qa6q1"></a><b>Exercise 1.18:</b></td><td><p class="docText">Write a program that prompts the user for two numbers and writes each number in the range specified by the two numbers to the standard output.</p>
</td></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch01qa6q2"></a><B>Exercise 1.19:</b></TD><td><p class="docText">What happens if you give the numbers 1000 and 2000 to the program written for the previous exercise? Revise the program so that it never prints more than 10 numbers per line.</P>
</td></tr><TR valign="top"><TD align="right" class="docText" width="50"><a name="ch01qa6q3"></a><b>Exercise 1.20:</b></td><td><p class="docText">Write a program to sum the numbers in a user-specified range, omitting the <tt>if</tt> test that sets the upper and lower bounds. Predict what happens if the input is the numbers 7 and 3, in that order. Now run the program giving it the numbers 7 and 3, and see if the results match your expectation. If not, restudy the discussion on the <tt>for</tt> and <tt>while</tt> loop until you understand what happened.</p>
</td></TR></table></p>
</blockquote>
</TD></TR></table></p><br>


<a href="21001535.html"><img src="images/pixel.gif" alt="" width="1" height="1" border="0"></a><ul></UL></TD></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="toc.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch01lev1sec3.html><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href=ch01lev1sec5.html><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</div></td></tr></table>
</body></html>