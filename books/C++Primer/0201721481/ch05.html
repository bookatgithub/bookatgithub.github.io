<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Chapter 5.&nbsp; Expressions</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="toc.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch04lev1sec6.html><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href=ch05lev1sec1.html><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><a name="ch05"></a>
<h2 class="docChapterTitle">Chapter 5. Expressions</h2>
<p class="docText"><span class="docEmphStrong">C<span class="docEmphSmaller">ONTENTS</span></span></P>
<P><table cellspacing="0" FRAME="void" RULES="none" cellpadding="5"><colgroup><col width="375"><col width="100"></colgroup><thead></thead><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec1.html#ch05lev1sec1">Section 5.1</a></span> <span class="docEmphStrong">Arithmetic Operators</span></p></td><TD class="docTableCell" align="right" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec1.html#ch05lev1sec1">149</a></span></P></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec2.html#ch05lev1sec2">Section 5.2</a></span> <span class="docEmphStrong">Relational and Logical Operators</span></p></TD><td class="docTableCell" align="right" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec2.html#ch05lev1sec2">152</a></span></P></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec3.html#ch05lev1sec3">Section 5.3</a></span> <span class="docEmphStrong">The Bitwise Operators</span></P></TD><td class="docTableCell" align="right" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec3.html#ch05lev1sec3">154</a></span></p></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec4.html#ch05lev1sec4">Section 5.4</a></span> <span class="docEmphStrong">Assignment Operators</span></p></TD><td class="docTableCell" align="right" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec4.html#ch05lev1sec4">159</a></span></p></TD></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec5.html#ch05lev1sec5">Section 5.5</a></span> <span class="docEmphStrong">Increment and Decrement Operators</span></p></td><td class="docTableCell" align="right" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec5.html#ch05lev1sec5">162</a></span></p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec6.html#ch05lev1sec6">Section 5.6</a></span> <span class="docEmphStrong">The Arrow Operator</span></p></td><td class="docTableCell" align="right" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec6.html#ch05lev1sec6">164</a></span></p></TD></TR><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec7.html#ch05lev1sec7">Section 5.7</a></span> <span class="docEmphStrong">The Conditional Operator</span></p></td><TD class="docTableCell" align="right" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec7.html#ch05lev1sec7">165</a></span></P></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec8.html#ch05lev1sec8">Section 5.8</a></span> <span class="docEmphStrong">The <tt>sizeof</tt> Operator</span></p></TD><td class="docTableCell" align="right" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec8.html#ch05lev1sec8">167</a></span></P></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec9.html#ch05lev1sec9">Section 5.9</a></span> <span class="docEmphStrong">Comma Operator</span></P></TD><td class="docTableCell" align="right" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec9.html#ch05lev1sec9">168</a></span></p></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec10.html#ch05lev1sec10">Section 5.10</a></span> <span class="docEmphStrong">Evaluating Compound Expressions</span></p></TD><td class="docTableCell" align="right" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec10.html#ch05lev1sec10">168</a></span></p></TD></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec11.html#ch05lev1sec11">Section 5.11</a></span> <span class="docEmphStrong">The <tt>new</tt> and <tt>delete</tt> Expressions</span></p></td><td class="docTableCell" align="right" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec11.html#ch05lev1sec11">174</a></span></p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec12.html#ch05lev1sec12">Section 5.12</a></span> <span class="docEmphStrong">Type Conversions</span></p></td><td class="docTableCell" align="right" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec12.html#ch05lev1sec12">178</a></span></p></TD></TR><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec13.html#ch05lev1sec13">Chapter Summary</a></span></p></td><TD class="docTableCell" align="right" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec13.html#ch05lev1sec13">188</a></span></P></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec14.html#ch05lev1sec14">Defined Terms</a></span></p></TD><td class="docTableCell" align="right" valign="top"><p class="docText"><span class="docEmphStrong"><a class="docLink" href="ch05lev1sec14.html#ch05lev1sec14">188</a></span></P></TD></tr></table></p><br>
<p class="docText">C++ provides a rich set of operators and defines what these operators do when applied to operands of built-in type. It also allows us to define meanings for the operators when applied to class types. This facility, known as <B><a name="ch05term17"></a><a class="docLink" href="ch05lev1sec14.html#gloss05_17">operator overloading</a></b>, is used by the library to define the operators that apply to the library types.</P>
<p class="docText">In this chapter our focus is on the operators as defined in the language and applied to operands of built-in type. We will also look at some of the operators defined by the library. <a class="docLink" href="ch14.html#ch14">Chapter 14</a> shows how we can define our own overloaded operators.</p>
<p class="docText"><a name="idd1e30732"></a><a name="idd1e30735"></a><a name="idd1e30738"></a><a name="idd1e30741"></a><a name="idd1e30744"></a><a name="idd1e30749"></a><a name="idd1e30757"></a><a name="idd1e30760"></a><span class="docEmphasis">An expression</span> is composed of one or more <b><a name="ch05term15"></a><a class="docLink" href="ch05lev1sec14.html#gloss05_15">operands</a></b> that are combined by <b><a name="ch05term16"></a><a class="docLink" href="ch05lev1sec14.html#gloss05_16">operators</a></b>. The simplest form of an <b><a name="ch05term11"></a><a class="docLink" href="ch05lev1sec14.html#gloss05_11">expression</a></b> consists of a single literal constant or variable. More complicated expressions are formed from an operator and one or more operands.</P>
<p class="docText">Every expression yields a <b><a name="ch05term21"></a><a class="docLink" href="ch05lev1sec14.html#gloss05_21">result</a></b>. In the case of an expression with no operator, the result is the operand itself, e.g., a literal constant or a variable. When an object is used in a context that requires a value, then the object is evaluated by fetching the object's value. For example, assuming <tt>ival</tt> is an <tt>int</tt> object,</p>
<pre>
     if (ival)            // <span class="docEmphItalicAlt">evaluate</span> <span class="docEmphasis">ival</span> <span class="docEmphItalicAlt">as a condition</span>
         // ....
</pre><BR>
<p class="docText">we could use <tt>ival</tt> as an expression in the condition of an <tt>if</tt>. The condition succeeds if the value of <tt>ival</tt> is not zero and fails otherwise.</p>
<p class="docText">The result of expressions that involve operators is determined by applying each operator to its operand(s). Except when noted otherwise, the result of an expression is an rvalue (<a class="docLink" href="ch02lev1sec3.html#ch02lev2sec10">Section 2.3.1</a>, p. <a class="docLink" href="ch02lev1sec3.html#ch02lev2sec10">45</a>). We can read the result but cannot assign to it.</p>
<a name="ch05note01"></a><div class="docNote"><P>
<table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><TD width="60" valign="top"><img border="0" alt="" id="195131139046" align="LEFT" width="50" height="54" SRC="images/0201721481/graphics/note.jpg;400478"></td><td valign="top"><p class="docText"> The meaning of an operatorwhat operation is performed and the type of the resultdepends on the types of its operands.</p></td></tr></table><br>
</p></div><br>
<p class="docText">Until one knows the type of the operand(s), it is not possible to know what a particular expression means. The expression</p>
<pre>
     i + j
</pre><br>
<p class="docText">might mean integer addition, concatenation of <tt>string</tt>s, floating-point addition, or something else entirely. How the expression is evaluated depends on the types of <tt>i</tt> and <tt>j</tt>.</p>
<p class="docText">There are both <span class="docEmphStrong"><span class="docEmphasis">unary</span></span> operators and <span class="docEmphStrong"><span class="docEmphasis">binary</span></span> operators. <b><a name="ch05term23"></a><a class="docLink" href="ch05lev1sec14.html#gloss05_23">Unary operators</a></b>, such as address-of (<b><a name="ch05term27"></a><a class="docLink" href="ch05lev1sec14.html#gloss05_27"><span class="docEmphStrong"><tt>&amp;</tt></span></a></b>) and dereference (<tt>*</tt>), act on one operand. Binary operators, such as addition (<tt>+</tt>) and subtraction (<tt>-</tt>), act on two operands. There is also one ternary operator that takes three operands. We'll look at this operator in <a class="docLink" href="ch05lev1sec7.html#ch05lev1sec7">Section 5.7</a> (p. <a class="docLink" href="ch05lev1sec7.html#ch05lev1sec7">165</a>).</P>
<p class="docText">Some <span class="docEmphasis">symbols</span>, such as <tt>*</tt>, are used to represent both a unary and a binary operator. The <tt>*</tt> symbol is used as the (unary) dereference operator and as the (binary) multiplication operator. The uses of the symbol are independent; it can be helpful to think of them as two different symbols. The context in which an operator symbol is used always determines whether the symbol represents a unary or binary operator.</P>
<p class="docText">Operators impose requirements on the type(s) of their operand(s). The language defines the type requirements for the operators when applied to built-in or compound types. For example, the dereference operator, when applied to an object of built-in type, requires that its operand be a pointer type. Attempting to dereference an object of any other built-in or compound type is an error.</p>
<p class="docText">The binary operators, when applied to operands of built-in or compound type, usually require that the operands be the same type, or types that can be converted to a common type. We'll look at conversions in <a class="docLink" href="ch05lev1sec12.html#ch05lev1sec12">Section 5.12</a> (p. <a class="docLink" href="ch05lev1sec12.html#ch05lev1sec12">178</a>). Although the rules can be complex, for the most part conversions happen in expected ways. <a name="idd1e30914"></a><a name="idd1e30917"></a><a name="idd1e30922"></a><a name="idd1e30925"></a>For example, we can convert an integer to floating-point, and vice versa, but we cannot convert a pointer type to floating-point.</P>
<p class="docText">Understanding expressions with multiple operators requires understanding operator <b><a name="ch05term19"></a><a class="docLink" href="ch05lev1sec14.html#gloss05_19"><span class="docEmphasis">precedence</span></a></b>, <b><a name="ch05term2"></a><a class="docLink" href="ch05lev1sec14.html#gloss05_02"><span class="docEmphasis">associativity</span></a></b>, and the <B><a name="ch05term18"></a><a class="docLink" href="ch05lev1sec14.html#gloss05_18"><span class="docEmphasis">order of evaluation</span></a></b> of the operands. For example, the expression</P>
<pre>
     5 + 10 * 20/2;
</pre><br>
<p class="docText">uses addition, multiplication, and division. The result of this expression depends on how the operands are grouped to the operators. For example, the operands to the <tt>*</tt> operator could be <tt>10</tt> and <tt>20</tt>, or <tt>10</tt> and <tt>20/2</tt>, or <tt>15</tt> and <tt>20</tt> or <tt>15</tt> and <tt>20/2</tt>. Associativity and precedence rules specify the grouping of operators and their operands. In C++ this expression evaluates to <tt>105</tt>, which is the result of multiplying <tt>10</tt> and <tt>20</tt>, dividing that result by <tt>2</tt>, and then adding <tt>5</tt>.</p>
<p class="docText">Knowing how operands and operators are grouped is not always sufficient to determine the result. It may also be necessary to know in what order the operands to each operator are evaluated. Each operator controls what assumptions, if any, can be made as to the order in which the operands will be evaluatedthat is, whether we can assume that the left-hand operand is always evaluated before the right or not. Most operators do not guarantee a particular order of evaluation. We will cover these topics in <a class="docLink" href="ch05lev1sec10.html#ch05lev1sec10">Section 5.10</a> (p. <a class="docLink" href="ch05lev1sec10.html#ch05lev1sec10">168</a>).</p>

<ul></ul></TD></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="toc.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch04lev1sec6.html><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href=ch05lev1sec1.html><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</div></td></tr></table>
</body></html>