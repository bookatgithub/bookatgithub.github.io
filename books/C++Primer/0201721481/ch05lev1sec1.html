<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 5.1.&nbsp; Arithmetic Operators</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="toc.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch05.html><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href=ch05lev1sec2.html><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><a name="ch05lev1sec1"></a>
<h3 class="docSection1Title" id="432172-902">5.1. Arithmetic Operators</h3>
<a name="ch05table01"></a><P><table cellspacing="0" class="allBorders" border="1" RULES="groups" cellpadding="5"><caption><H5 class="docTableTitle">Table 5.1. Arithmetic Operators</h5></caption><colgroup><col width="175"><col width="175"><col width="150"></colgroup><thead><TR><th class="bottomBorder thead" scope="col" align="center" valign="top"><p class="docText">Operator</p></th><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">Function</p></th><th class="bottomBorder thead" scope="col" align="center" valign="top"><p class="docText">Use</P></th></TR></thead><tr><td class="docTableCell" align="center" valign="top"><p class="docText"><tt>+</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">unary plus</P></td><TD class="docTableCell" align="center" valign="top"><p class="docText"><tt>+ expr</tt></P></td></tr><tr><TD class="bottomBorder" align="center" valign="top"><p class="docText"><tt>-</tt></P></td><td class="bottomBorder" align="left" valign="top"><p class="docText">unary minus</p></td><TD class="bottomBorder" align="center" valign="top"><p class="docText"><tt>- expr</tt></p></td></TR><tr><td class="docTableCell" align="center" valign="top"><p class="docText"><tt>*</tt></P></td><TD class="docTableCell" align="left" valign="top"><p class="docText">multiplication</p></td><td class="docTableCell" align="center" valign="top"><p class="docText"><tt>expr * expr</tt></p></td></tr><tr><td class="docTableCell" align="center" valign="top"><p class="docText"><tt>/</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">division</p></td><TD class="docTableCell" align="center" valign="top"><p class="docText"><tt>expr / expr</tt></P></td></TR><tr><td class="bottomBorder" align="center" valign="top"><p class="docText"><tt>%</tt></P></TD><td class="bottomBorder" align="left" valign="top"><p class="docText">remainder</p></td><td class="bottomBorder" align="center" valign="top"><p class="docText"><tt>expr % expr</tt></p></TD></tr><TR><TD class="docTableCell" align="center" valign="top"><p class="docText"><tt>+</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">addition</P></TD><td class="docTableCell" align="center" valign="top"><p class="docText"><tt>expr + expr</tt></p></td></tr><TR><td class="bottomBorder" align="center" valign="top"><p class="docText"><tt>-</tt></p></TD><td class="bottomBorder" align="left" valign="top"><p class="docText">subtraction</p></TD><td class="bottomBorder" align="center" valign="top"><p class="docText"><tt>expr - expr</tt></P></td></tr></table></p><br>
<p class="docText">Unless noted otherwise, these operators may be applied to any of the arithmetic types (<a class="docLink" href="ch02lev1sec1.html#ch02lev1sec1">Section 2.1</a>, p. <a class="docLink" href="ch02lev1sec1.html#ch02lev1sec1">34</a>), or any type that can be converted to an arithmetic type.</p>
<p class="docText">The table groups the operators by their precedencethe unary operators have the highest precedence, then the multiplication and division operators, and then the binary addition and subtraction operators. Operators of higher precedence group more tightly than do operators with lower precedence. These operators are all left associative, meaning that they group left to right when the precedence levels are the same.</p>
<p class="docText"><a name="idd1e31180"></a><a name="idd1e31185"></a><a name="idd1e31190"></a><a name="idd1e31195"></a><a name="idd1e31200"></a><a name="idd1e31205"></a><a name="idd1e31210"></a><a name="idd1e31216"></a><a name="idd1e31222"></a><a name="idd1e31228"></a><a name="idd1e31236"></a><a name="idd1e31242"></a><a name="idd1e31248"></a><a name="idd1e31259"></a><a name="idd1e31270"></a><a name="idd1e31281"></a><a name="idd1e31284"></a><a name="idd1e31290"></a><a name="idd1e31296"></a>Applying precedence and associativity to the previous expression:</p>
<pre>
     5 + 10 * 20/2;
</pre><br>
<p class="docText">we can see that the operands to the multiplication operator (<tt>*</tt>) are <tt>10</tt> and <tt>20</tt>. The result of that expression and <tt>2</tt> are the operands to the division operator (<tt>/</tt>). The result of that division and <tt>5</tt> are the operands to the addition operator (<tt>+</tt>).</p>
<p class="docText">The unary minus operator has the obvious meaning. It negates its operand:</p>
<pre>
     int i = 1024;
     int k = -i; //  <span class="docEmphasis">negates the value of its operand</span>
</pre><br>
<p class="docText">Unary plus returns the operand itself. It makes no change to its operand.</p>
<a name="ch05sb01"></a><p><table cellspacing="0" width="90%" border="1" cellpadding="5"><TR><TD>
<h2 class="docSidebarTitle">Caution: Overflow and Other Arithmetic Exceptions</H2>
<p class="docText"><span class="docEmphStrong">The result of evaluating some arithmetic expressions is undefined. Some expressions are undefined due to the nature of mathematicsfor example, division by zero. Others are undefined due to the nature of computerssuch as overflow, in which a value is computed that is too large for its type.</span></p>
<p class="docText"><span class="docEmphStrong">Consider a machine on which <tt>short</tt></span><span class="docEmphStrong">s are 16 bits. In that case, the maximum <tt>short</tt> is 32767. Given only 16 bits, the following compound assignment overflows:</span></p>
<pre>
     // <span class="docEmphasis">max value if shorts are 8 bits</span>
     short short_value = 32767;
     short ival = 1;
     // <span class="docEmphasis">this calculation overflows</span>
     short_value += ival;
     cout &lt;&lt; "short_value: " &lt;&lt; short_value &lt;&lt; endl;
</pre><BR>
<p class="docText"><span class="docEmphStrong">Representing a signed value of 32768 requires 17 bits, but only 16 are available. On many systems, there is <span class="docEmphasis">no</span> compile-time or run-time warning when an overflow might occur. The actual value put into <tt>short_value</tt> varies across different machines. On our system the program completes and writes</span></P>
<pre>
     <span class="docEmphStrong">short_value: -32768</span>
</pre><br>
<p class="docText"><span class="docEmphStrong">The value &quot;wrapped around:&quot; The sign bit, which had been 0, was set to 1, resulting in a negative value. Because the arithmetic types have limited size, it is always possible for some calculations to overflow. Adhering to the recommendations from the &quot;Advice&quot; box on page <a class="docLink" href="ch02lev1sec2.html#ch02sb02">38</a> can help avoid such problems.</span></p>
</td></tr></table></p><BR>
<p class="docText">The binary <tt>+</tt> and <tt>-</tt> operators may also be applied to pointer values. The use of these operators with pointers was described in <a class="docLink" href="ch04lev1sec2.html#ch04lev2sec6">Section 4.2.4</a> (p. <a class="docLink" href="ch04lev1sec2.html#ch04lev2sec6">123</a>).</p>
<p class="docText">The arithmetic operators, <tt>+, -, *</tt>, and <tt>/</tt> have their obvious meanings: addition, subtraction, multiplication, and division. Division between integers results in an integer. If the quotient contains a fractional part, it is truncated:</P>
<pre>
     int ival1 = 21/6;  //  <span class="docEmphasis">integral result obtained by truncating the remainder</span>
     int ival2 = 21/7;  //  <span class="docEmphasis">no remainder, result is an integral value</span>
</pre><BR>
<p class="docText">Both <tt>ival1</tt> and <tt>ival2</tt> are initialized with a value of 3.</p>
<p class="docText"><a name="idd1e31455"></a><a name="idd1e31460"></a><a name="idd1e31465"></a><a name="idd1e31471"></a>The <tt>%</tt> operator is known as the &quot;remainder&quot; or the &quot;modulus&quot; operator. It computes the remainder of dividing the left-hand operand by the right-hand operand. This operator can be applied only to operands of the integral types: <tt>bool, char, short, int, long</tt>, and their associated <tt>unsigned</tt> types:</p>
<pre>
     int ival = 42;
     double dval = 3.14;
     ival % 12;   //  <span class="docEmphasis">ok: returns 6</span>
     ival % dval; //  <span class="docEmphasis">error: floating point operand</span>
</pre><br>
<p class="docText">For both division (<tt>/</tt>) and modulus(<tt>%)</tt>, when both operands are positive, the result is positive (or zero). If both operands are negative, the result of division is positive (or zero) and the result of modulus is negative (or zero). If only one operand is negative, then the value of the result is machine-dependent for both operators. The sign is also machine-dependent for modulus; the sign is negative (or zero) for division:</P>
<pre>
     21 % 6;   //  <span class="docEmphasis">ok: result is 3</span>
     21 % 7;   //  <span class="docEmphasis">ok: result is 0</span>
     -21 % -8; //  <span class="docEmphasis">ok: result is -5</span>
     21 % -5;  //  <span class="docEmphasis">machine-dependent: result is 1 or -4</span>
     21 / 6;   //  <span class="docEmphasis">ok: result is 3</span>
     21 / 7;   //  <span class="docEmphasis">ok: result is 3</span>
     -21 / -8; //  <span class="docEmphasis">ok: result is 2</span>
     21 / -5;  //  <span class="docEmphasis">machine-dependent: result -4 or -5</span>
</pre><BR>
<p class="docText">When only one operand is negative, the sign and value of the result for the modulus operator can follow either the sign of the numerator or of the denominator. On a machine where modulus follows the sign of the numerator then the value of division truncates toward zero. If modulus matches the sign of the denominator, then the result of division truncates toward minus infinity.</p>
<a name="ch05sb02"></a><p><table cellspacing="0" width="90%" border="1" cellpadding="5"><tr><td>
<H2 class="docSidebarTitle">Exercises Section 5.1</h2>
<blockquote>
<p><table border="0" cellspacing="16" cellpadding="0"><TR valign="top"><td align="right" class="docText" width="50"><a name="ch05qa1q1"></a><b>Exercise 5.1:</b></TD><td><p class="docText">Parenthesize the following expression to indicate how it is evaluated. Test your answer by compiling the expression and printing its result.</P>
<pre>
     12 / 3 * 4 + 5 * 15 + 24 % 4 / 2
</pre><br>
</td></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch05qa1q2"></a><b>Exercise 5.2:</b></td><td><p class="docText">Determine the result of the following expressions and indicate which results, if any, are machine-dependent.</p>
<pre>
     -30 * 3 + 21 / 5
     -30 + 3 * 21 / 5
     30 / 3 * 21 % 5
     -30 / 3 * 21 % 4
</pre><br>
</td></tr><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch05qa1q3"></a><B>Exercise 5.3:</b></td><TD><p class="docText">Write an expression to determine whether an <tt>int</tt> value is even or odd.</p>
</td></TR><TR valign="top"><td align="right" class="docText" width="50"><a name="ch05qa1q4"></a><b>Exercise 5.4:</b></td><td><p class="docText">Define the term overflow. Show three expressions that will overflow.</p>
</TD></tr></table></P>
</blockquote>
</TD></tr></table></p><br>

<UL></UL></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="toc.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch05.html><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href=ch05lev1sec2.html><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</div></td></tr></table>
</body></html>