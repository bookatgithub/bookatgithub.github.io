<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 6.4.&nbsp; Statement Scope</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="toc.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch06lev1sec3.html><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href=ch06lev1sec5.html><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><a name="ch06lev1sec4"></a>
<h3 class="docSection1Title">6.4. Statement Scope</h3>
<p class="docText">Some statements permit variable definitions within their control structure:</P>
<pre>
     while (int i = get_num())
         cout &lt;&lt; i &lt;&lt; endl;
     i = 0; // <span class="docEmphItalicAlt">error: i is not accessible outside the loop</span>
</pre><BR>
<a name="ch06note04"></a><div class="docNote"><p>
<table width="90%" border="0" cellspacing="0" cellpadding="1"><TR><td width="60" valign="top"><img border="0" alt="" id="195131139046" align="LEFT" width="50" height="54" SRC="images/0201721481/graphics/note.jpg;400478"></td><TD valign="top"><p class="docText"> Variables defined in a condition must be initialized. The value tested by the condition is the value of the initialized object.</P></td></tr></table><br>
</p></div><br>
<p class="docText"><a name="idd1e42245"></a><a name="idd1e42253"></a><a name="idd1e42258"></a>Variables defined as part of the control structure of a statement are visible only until the end of the statement in which they are defined. The scope of such variables is limited to the statement body. Often the statement body itself is a block, which in turn may contain other blocks. A name introduced in a control structure is local to the statement and the scopes nested inside the statement:</P>
<pre>
     // <span class="docEmphasis">index</span> <span class="docEmphItalicAlt">is visible only within the</span> <span class="docEmphasis">for</span> <span class="docEmphItalicAlt">statement</span>
     for (vector&lt;int&gt;::size_type index = 0;
                     index != vec.size(); ++index)
     { // <span class="docEmphItalicAlt">new scope, nested within the scope of this</span> <span class="docEmphasis">for</span> <span class="docEmphItalicAlt">statement</span>
         int square = 0;
         if (index % 2)                      // <span class="docEmphItalicAlt">ok:</span> <span class="docEmphasis">index</span> <span class="docEmphItalicAlt">is in scope</span>
             square = index * index;
         vec[index] = square;
     }
     if (index != vec.size()) // <span class="docEmphItalicAlt">error:</span> <span class="docEmphasis">index</span> <span class="docEmphItalicAlt">is not visible here</span>
</pre><br>
<p class="docText">If the program needs to access the value of a variable used in the control statement, then that variable must be defined outside the control structure:</P>
<pre>
     vector&lt;int&gt;::size_type index = 0;
     for ( /* <span class="docEmphItalicAlt">empty</span> */ ; index != vec.size(); ++index)
         // <span class="docEmphItalicAlt">as before</span>
     if  (index != vec.size()) // <span class="docEmphItalicAlt">ok: now</span> <span class="docEmphasis">index</span> <span class="docEmphItalicAlt">is in scope</span>
         // <span class="docEmphItalicAlt">as before</span>
</pre><BR>
<a name="ch06note05"></a><div class="docNote"><p>
<table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><td width="60" valign="top"><img border="0" alt="" id="195131139046" align="LEFT" width="50" height="54" SRC="images/0201721481/graphics/note.jpg;400478"></TD><TD valign="top"><p class="docText"> Earlier versions of C++ treated the scope of variables defined inside a <tt>for</tt> differently: Variables defined in the <tt>for</tt> header were treated as if they were defined just before the <tt>for</tt>. Older C++ programs may have code that relies on being able to access these control variables outside the scope of the <tt>for</tt>.</p></td></tr></table><br>
</P></div><br>
<p class="docText">One advantage of limiting the scope of variables defined within a control statement to that statement is that the names of such variables can be reused without worrying about whether their current value is correct at each use. If the name is not in scope, then it is impossible to use that name with an incorrect, leftover value.</p>

<UL></ul></td></TR></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="toc.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch06lev1sec3.html><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href=ch06lev1sec5.html><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</div></td></tr></table>
</body></html>