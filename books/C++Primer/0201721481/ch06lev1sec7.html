<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 6.7.&nbsp; The while Statement</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="toc.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch06lev1sec6.html><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href=ch06lev1sec8.html><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><a name="ch06lev1sec7"></a>
<h3 class="docSection1Title" id="432172-890">6.7. The <tt>while</tt> Statement</h3>
<p class="docText">A <span class="docEmphStrong"><tt>while</tt> statement</span> repeatedly executes a target statement as long as a condition is true. Its syntactic form is</P>
<pre>
     while <span class="docEmphasis">(condition)</span>
              <span class="docEmphasis">statement</span>
</pre><BR>
<a name="ch06sb03"></a><p><table cellspacing="0" width="90%" border="1" cellpadding="5"><TR><td>
<h2 class="docSidebarTitle">Exercises Section 6.6.5</H2>
<blockquote>
<P><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><td align="right" class="docText" width="50"><a name="ch06qa3q1"></a><b>Exercise 6.7:</b></td><td><p class="docText"><a name="idd1e43819"></a><a name="idd1e43827"></a><a name="idd1e43835"></a>There is one problem with our vowel-counting program as we've implemented it: It doesn't count capital letters as vowels. Write a program that counts both lower- and uppercase letters as the appropriate vowelthat is, your program should count both <tt>'a'</tt> and <tt>'A'</tt> as part of <tt>aCnt</tt>, and so forth.</P>
</td></TR><TR valign="top"><td align="right" class="docText" width="50"><a name="ch06qa3q2"></a><b>Exercise 6.8:</b></td><TD><p class="docText">Modify our vowel-count program so that it also counts the number of blank spaces, tabs, and newlines read.</P>
</td></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch06qa3q3"></a><B>Exercise 6.9:</b></td><td><p class="docText">Modify our vowel-count program so that it counts the number of occurrences of the following two-character sequences: <tt>ff, fl</tt>, and <tt>fi</tt>.</P>
</td></tr><TR valign="top"><td align="right" class="docText" width="50"><a name="ch06qa3q4"></a><B>Exercise 6.10:</b></td><td><p class="docText">Each of the programs in the highlighted text on page <a class="docLink" href="#ch06sb04">206</a> contains a common programming error. Identify and correct each error.</p>
</td></tr></table></p>
</blockquote>
</td></tr></table></p><br>
<p class="docText">The <span class="docEmphasis">statement</span> (which is often a block) is executed as long as the <span class="docEmphasis">condition</span> evaluates as <tt>true</tt>. The <span class="docEmphasis">condition</span> may not be empty. If the first evaluation of <span class="docEmphasis">condition</span> yields <tt>false</tt>, <span class="docEmphasis">statement</span> is not executed.</p>
<p class="docText">The condition can be an expression or an initialized variable definition:</p>
<pre>
     bool quit = false;
     while (!quit) {                  // <span class="docEmphItalicAlt">expression as condition</span>
         quit = do_something();
     }
     while (int loc = search(name)) { // <span class="docEmphItalicAlt">initialized variable as condition</span>
             // <span class="docEmphItalicAlt">do something</span>
     }
</pre><BR>
<p class="docText">Any variable defined in the condition is visible only within the block associated with the <tt>while</tt>. On each trip through the loop, the initialized value is converted to <tt>bool</tt> (<a class="docLink" href="ch05lev1sec12.html#ch05lev2sec27">Section 5.12.3</a>, p. <a class="docLink" href="ch05lev1sec12.html#ch05lev2sec27">182</a>). If the value evaluates as <tt>TRue</tt>, the <tt>while</tt> body is executed. Ordinarily, the condition itself or the loop body must do something to change the value of the expression. Otherwise, the loop might never terminate.</p>
<a name="ch06note15"></a><div class="docNote"><P>
<table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><td width="60" valign="top"><img border="0" alt="" id="195131139046" align="LEFT" width="50" height="54" SRC="images/0201721481/graphics/note.jpg;400478"></TD><TD valign="top"><p class="docText"> Variables defined in the condition are created and destroyed on each trip through the loop.</p></td></tr></table><br>
</p></div><BR>
<a name="ch06lev2sec9"></a>
<h4 class="docSection2Title">Using a <tt>while</tt> Loop</H4>
<p class="docText">We have already seen a number of <tt>while</tt> loops, but for completeness, here is an example that copies the contents of one array into another:</P>
<pre>
     // <span class="docEmphasis">arr1</span> <span class="docEmphItalicAlt">is an array of</span> <span class="docEmphasis">ints</span>
     int *source = arr1;
     size_t sz = sizeof(arr1)/sizeof(*arr1); // <span class="docEmphItalicAlt">number of elements</span>
     int *dest = new int[sz];                // <span class="docEmphItalicAlt">uninitialized elements</span>
     while (source != arr1 + sz)
         *dest++ = *source++; //  <span class="docEmphItalicAlt">copy element and increment pointers</span>
</pre><br>
<a name="ch06sb04"></a><p><table cellspacing="0" width="90%" border="1" cellpadding="5"><tr><TD>
<H2 class="docSidebarTitle">Code for Exercises in Section 6.6.5</h2>
<pre>
     (a) switch (ival) {
             case 'a': aCnt++;
             case 'e': eCnt++;
             default: iouCnt++;
         }

     (b) switch (ival) {
             case 1:
                 int ix = get_value();
                 ivec[ ix ] = ival;
                 break;
             default:
                 ix = ivec.size()-1;
                 ivec[ ix ] = ival;
         }

     (c) switch (ival) {
             case 1, 3, 5, 7, 9:
                 oddcnt++;
                 break;
             case 2, 4, 6, 8, 10:
                 evencnt++;
                 break;
         }

     (d) int ival=512 jval=1024, kval=4096;
         int bufsize;
         // ...
         switch(swt) {
             case ival:
                 bufsize = ival * sizeof(int);
                 break;
             case jval:
                 bufsize = jval * sizeof(int);
                 break;
             case kval:
                 bufsize = kval * sizeof(int);
                 break;
         }
</pre><br>
</td></tr></table></P><br>
<p class="docText"><a name="idd1e44021"></a><a name="idd1e44029"></a><a name="idd1e44034"></a><a name="idd1e44041"></a><a name="idd1e44048"></a><a name="idd1e44057"></a><a name="idd1e44064"></a>We start by initializing <tt>source</tt> and <tt>dest</tt> to point to the first element of their respective arrays. The condition in the <tt>while</tt> tests whether we've reached the end of the array from which we are copying. If not, we execute the body of the loop. The body contains only a single statement, which copies the element and increments both pointers so that they point to the next element in their corresponding arrays.</p>
<p class="docText">As we saw in the &quot;Advice&quot; box on page <a class="docLink" href="ch05lev1sec5.html#ch05sb08">164</a>, C++ programmers tend to write terse expressions. The statement in the body of the <tt>while</tt></P>
<pre>
     *dest++ = *source++;
</pre><br>
<p class="docText">is a classic example. This expression is equivalent to</p>
<pre>
     {
         *dest = *source; // <span class="docEmphItalicAlt">copy element</span>
         ++dest;  // <span class="docEmphItalicAlt">increment the pointers</span>
         ++source;
     }
</pre><BR>
<a name="ch06note16"></a><div class="docNote"><p>
<table width="90%" border="0" cellspacing="0" cellpadding="1"><TR><td width="60" valign="top"><img border="0" alt="" id="195131139046" align="LEFT" width="84" height="51" SRC="images/0201721481/graphics/tip.jpg;400478"></td><td valign="top"><p class="docText"> The assignment in the <tt>while</tt> loop represents a very common usage. Because such code is widespread, it is important to study this expression until its meaning is immediately clear.</p></td></tr></table><br>
</p></div><br>


<ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="toc.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch06lev1sec6.html><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href=ch06lev1sec8.html><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</div></td></tr></table>
</body></html>