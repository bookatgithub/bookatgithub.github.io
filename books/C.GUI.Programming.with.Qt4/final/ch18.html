<html>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<head>
<title>ch18.html</title>
<link rel="STYLESHEET" type="text/css" href="images/css1.css">
<link rel="STYLESHEET" type="text/css" href="images/css2.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=part03.html><img src="images/prev.gif" width="20" height="20" border="0" align="absmiddle" alt="Previous Page"></a>
<a href=ch18lev1sec1.html><img src="images/next.gif" width="20" height="20" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<div style=""><div><a name="part03"></a>

<h1 class="docPartTitle" id="title-ID0EJ2OM">Part III: Advanced Qt</h1>
<blockquote>
<p class="docText">&nbsp;</p>
</blockquote><br />

<a name="ch18"></a>

<h2 id="title-ID0EV3OM" class="docChapterTitle">18. Internationalization</h2>



<p class="docText">
<img border="0" id="" width="150" height="103" src="images/NzlkOW1jM2FhMDc4L2lwdHJnZTFnMTRzOXIvMy83ZXBwdDhocF9lcl8vMWlzY2Nob25lYS5wZ3Jq.jpg" alt="" /></p>



<ul><li><p class="docList"><a name="iddle3225"></a><a name="iddle3263"></a><a name="iddle3558"></a><a name="iddle3617"></a><a name="iddle3631"></a><a name="iddle3634"></a><a name="iddle5480"></a><a name="iddle6142"></a><a name="iddle8019"></a><a name="iddle8157"></a><a name="iddle8201"></a><span class="docEmphasis"><a class="docLink" href="ch18lev1sec1.html#ch18lev1sec1">Working with Unicode</a></span></p></li><li><p class="docList"><span class="docEmphasis"><a class="docLink" href="ch18lev1sec2.html#ch18lev1sec2">Making Applications Translation-Aware</a></span></p></li><li><p class="docList"><span class="docEmphasis"><a class="docLink" href="ch18lev1sec3.html#ch18lev1sec3">Dynamic Language Switching</a></span></p></li><li><p class="docList"><span class="docEmphasis"><a class="docLink" href="ch18lev1sec4.html#ch18lev1sec4">Translating Applications</a></span></p></li></ul>
<p class="docText"><a name="In addition"></a>&#73;n add&#105;tion to &#116;he Latin &#97;lphabet u&#115;ed for Eng&#108;ish and for many European l&#97;nguages, Qt 4 also provides extensive support &#102;or t&#104;e rest &#111;f the worl&#100;'s writing syst&#101;ms:</p>
<ul><li><p class="docList"><a name="Unicode throughout"></a>Qt uses Unicode &#116;hroughout the API and internally. No matte&#114; what language we use for the user interface, the appli&#99;ation can support all users alike.</p></li><li><p class="docList"><a name="engine can"></a>Qt's text engine can handle a&#108;l the major &#110;o&#110;-L&#97;tin writi&#110;g systems, &#105;ncluding Arabic, C&#104;inese, Cyrillic, Hebrew, Japanese, Ko&#114;ean, Th&#97;i, and the I&#110;dic langu&#97;ges.</p></li><li><p class="docList"><a name="and Hebrew"></a>Qt's layou&#116; engine supports right-to-left layout&#115; for languages such as Arabic and &#72;ebrew.</p></li><li><p class="docList"><a name="methods for"></a>Certain languages require &#115;pecial input methods for entering text. Edit&#111;r w&#105;dgets s&#117;ch as <tt>QLin&#101;Ed&#105;t</tt> and <tt>QText&#69;dit</tt> work well with any input m&#101;thod installed on the user's &#115;ystem.</p></li></ul>
<p class="docText"><a name="their native"></a>O&#102;ten, &#105;t isn't eno&#117;gh to allow users to ent&#101;r text in their na&#116;ive language; the entire user interface must be tra&#110;slated as well. Qt makes this easy: Simply wrap all user-&#118;isible strings with the <tt>tr()</tt><a name="use Qt"></a> function (as we have done &#105;n earli&#101;r c&#104;apter&#115;) and use &#81;t's support&#105;ng tools to prepare transl&#97;tion files in the required language&#115;. Qt prov&#105;des a GU&#73; tool called <span class="docEmphasis">Qt Lin&#103;uist</span> for u&#115;e by translators. <span class="docEmphasis">Qt Ling&#117;ist</span> is complemented by tw&#111; command-line programs, <tt>lupdate</tt> and <tt>l&#114;elease</tt>, which are typically run by the application'&#115; develo&#112;ers.</p>
<p class="docText"><a name="the user"></a>&#70;o&#114; most a&#112;plications, a tra&#110;slation file is loade&#100; at startup, based on the user's locale settings. &#66;ut in a fe&#119; cases, it is a&#108;so necessary for u&#115;ers to be ab&#108;e to switch languages at run-time. This is &#112;erfectly possible with Qt, although it does &#114;equire a bit of extra work. And thanks to Qt's la&#121;out system, the various user interface components w&#105;ll auto&#109;atically ad&#106;ust to ma&#107;e room for &#116;he translated texts &#119;hen they are longer than the origi&#110;al texts.</p>




<a name="ch18lev1sec1"></a>

<h3 class="docSection1Title" id="-100000">Working with Unicode</h3>
<p class="docText"><a name="iddle1043"></a><a name="iddle1196"></a><a name="iddle1226"></a><a name="iddle1308"></a><a name="iddle1536"></a><a name="iddle1559"></a><a name="iddle2115"></a><a name="iddle2117"></a><a name="iddle2391"></a><a name="iddle2470"></a><a name="iddle2817"></a><a name="iddle2954"></a><a name="iddle2966"></a><a name="iddle2967"></a><a name="iddle3013"></a><a name="iddle3347"></a><a name="iddle3381"></a><a name="iddle3408"></a><a name="iddle3463"></a><a name="iddle3467"></a><a name="iddle3477"></a><a name="iddle3478"></a><a name="iddle3483"></a><a name="iddle3751"></a><a name="iddle3882"></a><a name="iddle4187"></a><a name="iddle4803"></a><a name="iddle5905"></a><a name="iddle7487"></a><a name="iddle7891"></a><a name="iddle7905"></a><a name="iddle7931"></a><a name="iddle7956"></a><a name="iddle8017"></a><a name="iddle8020"></a><a name="iddle8029"></a><a name="iddle8030"></a><a name="iddle8055"></a><a name="iddle8296"></a><a name="iddle8440"></a><a name="iddle8682"></a><a name="character encoding"></a>Unicode is a character enco&#100;i&#110;g &#115;tandard t&#104;at support&#115; most of the world's writing syst&#101;ms. The original idea behind Unic&#111;de is that by using 16 bits for storing ch&#97;racters instead of 8 bits, it would be possible t&#111; en&#99;ode around 65000 c&#104;aract&#101;rs &#105;nstead of o&#110;ly 256.<sup class="docFootnote"><a class="docLink" href="#ch18fn01">[*]</a></sup><a name="ASCII and"></a> Unicode co&#110;tains ASCII and ISO 8859-1 (Latin-1) as subsets at t&#104;e same &#99;ode positio&#110;s. Fo&#114; example, the chara&#99;ter 'A' has value <tt>0x41</tt><a name="in ASCII"></a> in ASCII, Latin-1, a&#110;d Unicode, and the character '&Ntilde;' has val&#117;e <tt>0xD1</tt><a name="and Unicode"></a> in both Latin-1 and Unicode.</p><blockquote><p class="docFootnote"><sup><a name="ch18fn01">[*]</a></sup><a name="versions of"></a> Recent versions of the U&#110;icode standard assign character values above 65535. These ch&#97;racters c&#97;n be repre&#115;ented u&#115;ing seq&#117;ences of two 16-bit values &#99;alled &quot;surrogate pairs&quot;.</p></blockquote>
<p class="docText">Qt's <tt>QS&#116;ring</tt> class stores strings as Unicode. &#69;ach charact&#101;r i&#110; a <tt>QSt&#114;ing</tt> is a 16-bit <tt>QChar</tt> &#114;ather than an 8-bit <tt>char</tt><a name="of a"></a>. Here ar&#101; two ways of setting the f&#105;rst character of a string to 'A':</p>
<div class="docText"><pre>str[0] = 'A';
str[0] = QChar(0x41);</pre></div><br />
<p class="docText"><a name="encoded in"></a>If the &#115;ource file is encoded in Latin-1, specifying Lati&#110;-1 c&#104;aract&#101;rs &#105;s just a&#115; easy:</p>
<div class="docText"><pre>str[0] = '&Ntilde;';</pre></div><br />
<p class="docText"><a name="value works"></a>And i&#102; the source file has a&#110;other encoding, the numer&#105;c value &#119;orks fine:</p>
<div class="docText"><pre>str[0] = QChar(0xD1);</pre></div><br />
<p class="docText"><a name="its numeric"></a>We &#99;an specify any &#85;nicode character by &#105;ts numeric value. For example, h&#101;re's how to specify the Gr&#101;ek capital letter sigma ('<img alt="n-ary summation" src="images/U2211.GIF"/>') and the euro currency sy&#109;bol ('&euro;'):</p>
<div class="docText"><pre>str[0] = QChar(0x03A3);
str[0] = QChar(0x20AC);</pre></div><br />
<p class="docText"><a name="are listed"></a>The numeric values of all the characters supported b&#121; Un&#105;code ar&#101; li&#115;ted at <a class="docLink" target="_blank" href="http://www.unicode.org/standard/">http://www.unicode.org/standard/</a><a name="need non"></a>. I&#102; you rarely &#110;eed non-L&#97;tin-1 Unicode characters, looking up ch&#97;racters o&#110;l&#105;ne is suffic&#105;ent; but Qt p&#114;ovides more conveni&#101;nt ways of entering Unicode strings &#105;n a Qt program, as we will see later in this sec&#116;ion.</p>
<p class="docText"><a name="engine supports"></a>Qt 4's text engine supports the following writ&#105;ng syst&#101;ms &#111;n a&#108;l platform&#115;: Arabic, Chinese, Cy&#114;illic, Greek, H&#101;brew, Japanese, Korean, Lao, La&#116;in, Thai, a&#110;d &#86;ietnamese. It als&#111; suppor&#116;s all the Unicode 4.1 scripts that don't &#114;equire any special process&#105;ng. In addition, the following &#119;riting systems are supported on X11 with Fontconfig and on &#114;ecent &#118;ersions of &#87;indows: Be&#110;g&#97;li, Devanagari, G&#117;jarati, Gurmukhi, Kannada, &#75;hmer, Malayalam, Syriac, Tamil, Telugu, Thaana (Dhiveh&#105;), and Tib&#101;ta&#110;. Finally, O&#114;iya is support&#101;d on X11, and Mongolian and S&#105;nhala are supported on W&#105;ndows XP. Assuming that the proper font&#115; are installed on the system, Qt can render text using any of t&#104;ese wr&#105;ting sy&#115;tems. <a name="iddle1315"></a><a name="iddle1448"></a><a name="iddle1486"></a><a name="iddle1491"></a><a name="iddle1524"></a><a name="iddle1652"></a><a name="iddle1657"></a><a name="iddle2402"></a><a name="iddle2718"></a><a name="iddle2729"></a><a name="iddle3226"></a><a name="iddle3320"></a><a name="iddle3324"></a><a name="iddle3325"></a><a name="iddle3326"></a><a name="iddle3327"></a><a name="iddle3331"></a><a name="iddle3332"></a><a name="iddle3333"></a><a name="iddle3337"></a><a name="iddle3339"></a><a name="iddle3340"></a><a name="iddle3594"></a><a name="iddle4805"></a><a name="iddle4808"></a><a name="iddle4809"></a><a name="iddle6270"></a><a name="iddle6272"></a><a name="iddle6297"></a><a name="iddle6300"></a><a name="iddle6320"></a><a name="iddle6323"></a><a name="iddle7144"></a><a name="iddle7233"></a><a name="iddle8116"></a><a name="iddle8259"></a><a name="iddle8300"></a><a name="iddle8375"></a><a name="And assuming"></a>An&#100; a&#115;suming that the p&#114;oper input methods &#97;re installed, users will be able to enter t&#101;xt &#116;hat uses &#116;hese writing syst&#101;ms in their &#81;t applications.</p>
<p class="docText">Programmin&#103; with <tt>QChar</tt><a name="different from"></a> is slightly different fr&#111;m programming with <tt>char</tt><a name="obtain the"></a>. To obtain the numeri&#99; value of a <tt>QChar</tt>, call <tt>unicode()</tt> on it. To obtain the ASCII or Latin-1 value &#111;f a <tt>&#81;Ch&#97;r</tt> (as a <tt>char</tt>), &#99;all <tt>toLatin1()</tt>. &#70;or non-La&#116;in-1 characters, <tt>toLatin1()</tt> r&#101;turns '\0'.</p>
<p class="docText"><a name="program are"></a>If we know that all &#116;he strin&#103;s in a &#112;rogram are &#65;SCII, we can use stand&#97;rd <tt>&lt;cctype&gt;</tt> functions such as <tt>isa&#108;pha()</tt>, <tt>isdigit()</tt>, and <tt>isspace()</tt> on the return valu&#101; of <tt>toLatin1()</tt><a name="use"></a>. However, it is generally better t&#111; use <tt>QChar</tt><a name="for any"></a>'s member functions for perf&#111;rm&#105;ng thes&#101; op&#101;ra&#116;ions, since they will w&#111;rk for any &#85;nicode character. The functions <tt>QCh&#97;r</tt> provide&#115; includ&#101; <tt>isPr&#105;nt()</tt>, <tt>isPunc&#116;()</tt>, <tt>isSpace()</tt>, <tt>isMark()</tt>, <tt>isLetter()</tt>, <tt>isNumbe&#114;()</tt>, <tt>isLetterOrNumber()</tt>, <tt>isDigit()</tt>, <tt>isSymbol()</tt>, <tt>isLower()</tt>, an&#100; <tt>isUpper()</tt><a name="character is"></a>. For example, here's one wa&#121; to test that a character is a digit or an uppercase lette&#114;:</p>
<div class="docText"><pre>if (ch.isDigit() || ch.isUpper())
    ...</pre></div><br />
<p class="docText"><a name="uppercase and"></a>The co&#100;e &#115;nippet &#119;orks for any &#97;lphabet that dis&#116;inguishes betw&#101;en uppercase and lowercase, including Lati&#110;, G&#114;eek, an&#100; Cyri&#108;lic.</p>
<p class="docText"><a name="a Unicode"></a>Once we have a U&#110;icode string, we can u&#115;e it anywhere in Qt's API where a <tt>QString</tt><a name="is then"></a> &#105;s expected. It is then Qt's responsibility to &#100;isplay it properly and to co&#110;v&#101;rt &#105;t to the &#114;eleva&#110;t enc&#111;dings when ta&#108;king to the operating system.</p>
<p class="docText"><a name="Special care"></a>Speci&#97;l care is n&#101;ed&#101;d when we r&#101;ad and write t&#101;xt files. Text files can use a &#118;ariety of encodings, and it i&#115; often impossible to guess a text file's encoding &#102;rom its contents. By default, <tt>QTextStream</tt><a name="local "></a> uses the sys&#116;em's loca&#108; 8-bit encodi&#110;g (&#97;vailable &#97;s <tt>QTextCode&#99;::codecForLocale()</tt><a name="both reading"></a>) for both readin&#103; and writing. For American and West E&#117;ropean lo&#99;ales, this us&#117;ally means Latin-1.</p>
<p class="docText"><a name="to be"></a>I&#102; we desi&#103;n our own file form&#97;t and want to be able to read and write ar&#98;itrary Unicode characters, we can save the data as Unic&#111;de by calling</p>
<div class="docText"><pre>stream.setCodec("UTF-16");
stream.setGenerateByteOrderMark(true);</pre></div><br />
<p class="docText"><a name="the"></a>before we start writing to the <tt>QT&#101;xt&#83;trea&#109;</tt><a name="that requires"></a>. The data wil&#108; then be sav&#101;d in U&#84;F-16, a format that requires two &#98;ytes per character, and will be prefi&#120;e&#100; w&#105;th a special 16-bit valu&#101; (the Un&#105;code byte order mark, <tt>0xFFFE</tt><a name="and whether"></a>) ide&#110;tifying that the file is in Uni&#99;ode and whether the bytes are in little-endian or big-endi&#97;n order. The UTF-16 format is identical to the memo&#114;y repr&#101;se&#110;t&#97;tion of a <tt>Q&#83;tring</tt><a name="On the"></a>, so re&#97;ding and writing Unicode &#115;trings in UTF-16 can be very fast. &#79;n the other h&#97;nd, there i&#115; an inherent ov&#101;rhead &#119;hen saving pure ASCII data in UTF-16 form&#97;t, since it stores two bytes for every character inste&#97;d of just one.</p>
<p class="docText"><a name="be specified"></a>Other encodings can be speci&#102;ied by calling <tt>setCodec()</tt><a name="appropriate"></a> with an appropriate <tt>QTe&#120;t&#67;odec</tt><a name="A"></a>. A <tt>QTe&#120;t&#67;odec</tt><a name="object that"></a> is an &#111;bject &#116;hat converts betwee&#110; Unicode and a given enc&#111;di&#110;g. &#81;t uses <tt>QTex&#116;Codec</tt><a name="in a"></a>s in a &#118;ariety of contexts. Intern&#97;lly, they are used <a name="iddle1653"></a><a name="iddle2690"></a><a name="iddle5481"></a><a name="iddle6273"></a><a name="iddle6275"></a><a name="iddle6317"></a><a name="iddle7127"></a><a name="iddle7146"></a><a name="iddle8158"></a><a name="iddle8373"></a><a name="iddle8702"></a><a name="iddle8703"></a><a name="they are"></a>to support fonts, input m&#101;thods, the clipboard, drag and &#100;rop, and file names. But they are also &#97;vailable &#116;o us when &#119;e write Qt ap&#112;lic&#97;tions.</p>
<p class="docText">When r&#101;ading a text file, <tt>QTe&#120;tStream</tt><a name="starts with"></a> detects UTF-16 automatically if the &#102;ile &#115;tarts w&#105;th the byte &#111;rder m&#97;rk. This behavior can be turned off &#98;y calling <tt>setAutoDetectUnicode(fals&#101;)</tt><a name="with the"></a>. If the data is UTF-16 but can't be assumed to st&#97;rt with the byte order mark, it is best to call <tt>setCodec()</tt> with &quot;UTF-16&quot; b&#101;fo&#114;e read&#105;ng.</p>
<p class="docText"><a name="Unicode is"></a>Anot&#104;er enc&#111;ding &#116;hat supports the who&#108;e of Unicode is UTF-8. Its main advantage over UT&#70;-16 i&#115; that it &#105;s a superset of &#65;SCII. Any ch&#97;racter in the range <tt>0x00</tt> to <tt>0x7F</tt> &#105;s represented as a single byte. Other c&#104;aracters, including Latin-1 character&#115; above <tt>0x7F</tt><a name="about half"></a>, are represented by mu&#108;ti-byte seq&#117;ences. For &#116;ext that &#105;s mostl&#121; ASCII, UTF-8 tak&#101;s up about half the &#115;pace consumed by UTF-16. To use UTF-8 with <tt>&#81;Te&#120;t&#83;tream</tt>, call <tt>setCod&#101;c()</tt><a name="codec name"></a> with &quot;UTF-8&quot; a&#115; the codec name before readin&#103; and writing.</p>
<p class="docText"><a name="always want"></a>If we always want to re&#97;d and write Latin-1 regardless of t&#104;e user's locale, we can set the &quot;ISO 8859-1&quot; codec on the <tt>QTextStrea&#109;</tt><a name="For example"></a>. For example:</p>
<div class="docText"><pre>QTextStream in(&amp;file);
in.setCodec("ISO 8859-1");</pre></div><br />
<p class="docText"><a name="formats specify"></a>&#83;ome f&#105;le form&#97;ts specif&#121; their &#101;ncoding &#105;n their header. The header is typ&#105;cally p&#108;ain ASCII t&#111; ensure tha&#116; it is read c&#111;rrectly no matter what encodin&#103; is used (assuming that it is a superset &#111;f ASCII). The XML file format is an intere&#115;ting example of this. XML files are normally encoded as UTF-8 or U&#84;F-16. The p&#114;oper w&#97;y to read t&#104;em in i&#115; to call <tt>setCode&#99;()</tt><a name="If the"></a> with &quot;UTF-8&quot;. If the format is UTF-16, <tt>QT&#101;xtStream</tt> will automatically dete&#99;t this and ad&#106;ust itse&#108;f. The <tt>&lt;?xml?&gt;</tt> header of an X&#77;L file someti&#109;es contains an <tt>encoding</tt> argument, for exam&#112;le:</p>
<div class="docText"><pre>&lt;?xml version="1.0" encoding="EUC-KR"?&gt;</pre></div><br />
<p class="docText">Since <tt>QTextStream</tt><a name="started reading"></a> doesn't allo&#119; us to change the encoding once it has started reading, the r&#105;ght way to respect an explicit encoding is to start reading the f&#105;le afre&#115;h, using &#116;he corre&#99;t codec (obta&#105;ned from <tt>QTextCodec::&#99;odecForName()</tt><a name="can avoid"></a>). In the case o&#102; XML, we can avoid having to handle the encod&#105;ng ours&#101;lv&#101;s by us&#105;ng Qt's XML classes, &#100;escribed in <a class="docLink" href="ch16.html#ch16">Chapter 16</a>.</p>
<p class="docText">Another u&#115;e of <tt>QTextCodec</tt><a name="occur in"></a>s is to speci&#102;y the encoding of strings that occur in the sourc&#101; code. Let's consider, for example, a team of Japane&#115;e progr&#97;mmers who &#97;re writin&#103; an ap&#112;lication targ&#101;ted primari&#108;y at Japan's home market. These prog&#114;ammer&#115; are lik&#101;ly to write t&#104;eir source code i&#110; a text editor that use&#115; an encoding such as EUC-JP or S&#104;ift-JIS. Such an editor allows them to type in &#74;apanese characters seamlessly so that they can w&#114;ite co&#100;e &#108;ike this:</p>
<div class="docText"><pre>QPushButton *button = new QPushButton(tr(<img border="0" id="" width="40" height="16" src="images/NzlkOW1jM2FhMDc4L2lwdHJnZTFnMTRzOXIvMy83cDE0aDQuanAvaXM0ZmNpZ2cw.jpg" alt="" />));</pre></div><br />
<p class="docText">By &#100;e&#102;ault, Qt inter&#112;rets argument&#115; to <tt>tr()</tt> as Latin-1. To change this, call the <tt>QTextC&#111;de&#99;::setCodecFo&#114;Tr()</tt> static funct&#105;on. For exa&#109;ple:</p>
<div class="docText"><pre>QTextCodec::setCodecForTr(QTextCodec::codecForName("EUC-JP"));</pre></div><br />
<p class="docText"><a name="iddle1186"></a><a name="iddle1312"></a><a name="iddle1525"></a><a name="iddle1560"></a><a name="iddle2468"></a><a name="iddle2469"></a><a name="iddle2883"></a><a name="iddle2955"></a><a name="iddle3093"></a><a name="iddle3342"></a><a name="iddle3343"></a><a name="iddle3349"></a><a name="iddle3395"></a><a name="iddle3466"></a><a name="iddle3468"></a><a name="iddle3931"></a><a name="iddle5305"></a><a name="iddle5482"></a><a name="iddle6274"></a><a name="iddle6277"></a><a name="iddle6963"></a><a name="iddle7001"></a><a name="iddle7145"></a><a name="iddle7426"></a><a name="iddle8094"></a><a name="iddle8131"></a><a name="iddle8159"></a><a name="iddle8202"></a><a name="iddle8246"></a><a name="iddle8374"></a><a name="iddle8376"></a><a name="iddle8640"></a><a name="iddle8653"></a><a name="call to"></a>This must be done before the f&#105;rst call to <tt>tr()</tt>. Typically, we would do this in <tt>main()</tt>, immedia&#116;ely after the <tt>QCoreApplication</tt> or <tt>QAppli&#99;ation</tt> object is created.</p>
<p class="docText"><a name="as Latin"></a>Other strings specified in th&#101; pr&#111;gr&#97;m will sti&#108;l be interp&#114;eted as Latin-1 s&#116;rings. If the programmers wan&#116; to enter Japanese characters in those as &#119;ell, they can &#101;xp&#108;icitly convert them to &#85;nicode using a <tt>QTe&#120;tCodec</tt>:</p>
<div class="docText"><pre>QString text = japaneseCodec-&gt;toUnicode(<img border="0" id="" width="60" height="14" src="images/NzlkOW1jM2FhMDc4L2lwdHJnZTFnMTRzOXIvMy83cDE0aDUuanAvaXM0ZmNpZ2cw.jpg" alt="" />);</pre></div><br />
<p class="docText"><a name="Qt to"></a>Alternatively, &#116;hey can tell Qt to use a s&#112;ecific codec when converting between <tt>&#99;onst char *</tt> and <tt>QString</tt> by calling <tt>QTextCodec::setCode&#99;ForCString&#115;()</tt>:</p>
<div class="docText"><pre>QTextCodec::setCodecForCStrings(QTextCodec::codecForName("EUC-JP"));</pre></div><br />
<p class="docText"><a name="described above"></a>The tec&#104;nique&#115; descri&#98;ed above can b&#101; applied t&#111; any non-Latin-1 language, includ&#105;ng Chin&#101;se, &#71;reek, K&#111;rean, and Russ&#105;an.</p>
<p class="docText"><a name="a list"></a>Here's a list of the enc&#111;dings supported by Qt 4.3:</p>
<ul><li><p class="docList">Apple &#82;oman</p></li><li><p class="docList">Big5</p></li><li><p class="docList">Big5-HKSCS</p></li><li><p class="docList">EUC-JP</p></li><li><p class="docList">EUC-KR</p></li><li><p class="docList">GB18030-0</p></li><li><p class="docList">IBM 850</p></li><li><p class="docList">IBM 866</p></li><li><p class="docList">I&#66;M 874</p></li><li><p class="docList">ISO 2022-JP</p></li><li><p class="docList">ISO 8859-1</p></li><li><p class="docList">ISO 8859-2</p></li><li><p class="docList">ISO 8859-3</p></li><li><p class="docList">ISO 8859-4</p></li><li><p class="docList">ISO 8859-5</p></li><li><p class="docList">ISO 8859-6</p></li><li><p class="docList">ISO 8859-7</p></li><li><p class="docList">ISO 8859-8</p></li><li><p class="docList">ISO 8859-9</p></li><li><p class="docList">ISO 8859-10</p></li><li><p class="docList">ISO 8859-13</p></li><li><p class="docList">ISO 8859-14</p></li><li><p class="docList">ISO 8859-15</p></li><li><p class="docList">ISO 8859-16</p></li><li><p class="docList">I&#115;cii-Bng</p></li><li><p class="docList">&#73;scii-&#68;ev</p></li><li><p class="docList">Iscii-Gj&#114;</p></li><li><p class="docList">Iscii-&#75;nd</p></li><li><p class="docList">Iscii-Mlm</p></li><li><p class="docList">Isc&#105;i-Ori</p></li><li><p class="docList">Iscii-Pnj</p></li><li><p class="docList">Iscii-Tlg</p></li><li><p class="docList">Isc&#105;i-Tml</p></li><li><p class="docList">JIS X 0201</p></li><li><p class="docList">JIS X 0208</p></li><li><p class="docList">KOI8-R</p></li><li><p class="docList">KOI8-U</p></li><li><p class="docList">MuleLao-1</p></li><li><p class="docList">ROMAN8</p></li><li><p class="docList">Shift-&#74;IS</p></li><li><p class="docList">TIS-620</p></li><li><p class="docList">&#84;SCII</p></li><li><p class="docList">U&#84;F-8</p></li><li><p class="docList">UTF-16</p></li><li><p class="docList">UTF-16BE</p></li><li><p class="docList">UT&#70;-16LE</p></li><li><p class="docList">Windows-1250</p></li><li><p class="docList">Win&#100;ows-1251</p></li><li><p class="docList">Windows-1252</p></li><li><p class="docList">Windows-1253</p></li><li><p class="docList">&#87;indows-1254</p></li><li><p class="docList">Windows-1255</p></li><li><p class="docList">Windows-1256</p></li><li><p class="docList">Wind&#111;ws-1257</p></li><li><p class="docList">Windows-1258</p></li><li><p class="docList">WINSAMI2</p></li></ul>
<p class="docText"><a name="of these"></a>For all of these, <tt>QTextCodec::code&#99;ForName()</tt><a name="always return"></a> will always return a valid pointer. Other encodi&#110;g&#115; can be s&#117;pported b&#121; su&#98;classing <tt>QTextCo&#100;ec</tt>.</p>

</div></div>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=part03.html><img src="images/prev.gif" width="20" height="20" border="0" align="absmiddle" alt="Previous Page"></a>
<a href=ch18lev1sec1.html><img src="images/next.gif" width="20" height="20" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>