<html>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<head>
<title>ch23lev1sec1.html</title>
<link rel="STYLESHEET" type="text/css" href="images/css1.css">
<link rel="STYLESHEET" type="text/css" href="images/css2.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch23.html><img src="images/prev.gif" width="20" height="20" border="0" align="absmiddle" alt="Previous Page"></a>
<a href=ch23lev1sec2.html><img src="images/next.gif" width="20" height="20" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<div style=""><div><a name="ch23"></a>

<h2 id="title-ID0ECJPM" class="docChapterTitle">23. Platform-Specific Features</h2>



<p class="docText">
<img border="0" id="" width="167" height="126" src="images/NzlkOW1jM2FhMDc4L2lwdHJnZTFnMTRzOXIvMy83ZXBwdDNocF9lcl8vMmlzY2Nob25lYS5wZ3Jq.jpg" alt="" /></p>



<ul><li><p class="docList"><a name="iddle1477"></a><a name="iddle2000"></a><a name="iddle2852"></a><a name="iddle3410"></a><a name="iddle3465"></a><a name="iddle3572"></a><a name="iddle3641"></a><a name="iddle3812"></a><a name="iddle3828"></a><a name="iddle3886"></a><a name="iddle3984"></a><a name="iddle4322"></a><a name="iddle6166"></a><a name="iddle7114"></a><a name="iddle7936"></a><a name="iddle8306"></a><a name="iddle8608"></a><a name="iddle8645"></a><a name="iddle8686"></a><a name="iddle8701"></a><a name="iddle8732"></a><span class="docEmphasis"><a class="docLink" href="ch23lev1sec1.html#ch23lev1sec1">Interfacing with Native APIs</a></span></p></li><li><p class="docList"><span class="docEmphasis"><a class="docLink" href="ch23lev1sec2.html#ch23lev1sec2">Using ActiveX on Windows</a></span></p></li><li><p class="docList"><span class="docEmphasis"><a class="docLink" href="ch23lev1sec3.html#ch23lev1sec3">Handling X11 Session Management</a></span></p></li></ul>
<p class="docText"><a name="In this"></a>&#73;n thi&#115; chapte&#114;, we wil&#108; review som&#101; of the platf&#111;rm-specific options ava&#105;lable to Qt programmers. We begi&#110; b&#121; lo&#111;king &#97;t how to access native A&#80;Is such as the Win32 API on Wi&#110;dows, Carbon on Mac OS X, and Xlib on X11. We th&#101;n move on to explore th&#101; ActiveQt extension, showing how to use ActiveX c&#111;nt&#114;ols wi&#116;hin Qt/Wi&#110;d&#111;ws applicati&#111;ns and how to create a&#112;plications that act as ActiveX servers. In the &#108;ast sectio&#110;, w&#101; explai&#110; how t&#111; make Qt applications coopera&#116;e with the session manager un&#100;er X11.</p>
<p class="docText"><a name="to the"></a>In addition to the features pre&#115;ented here, Trolltech offers several &#112;lat&#102;orm-&#115;pecifi&#99; Qt Solution&#115;, including the Q&#116;/Motif and Qt/MFC migr&#97;tion frameworks to ease the migration &#111;f M&#111;ti&#102;/Xt and &#77;FC applications to Q&#116;. A similar extension for Tcl/Tk a&#112;plications is provided b&#121; <span class="docEmphasis">froglogic</span><a name="a Microsoft"></a>, and a Microsoft Windows re&#115;ource converter is available from Klar&auml;lvdal&#101;ns &#68;atakonsul&#116;. See the f&#111;ll&#111;wing &#119;eb pages for details:</p>
<ul><li><p class="docList"><a class="docLink" target="_blank" href="http://www.trolltech.com/products/qt/addon/solutions/catalog/4/">http://www.trolltech.com/products/qt/addon/solutions/catalog/4/</a></p></li><li><p class="docList"><a class="docLink" target="_blank" href="http://www.froglogic.com/tq/">http://www.froglogic.com/tq/</a></p></li><li><p class="docList"><a class="docLink" target="_blank" href="http://www.kdab.net/knut/">http://www.kdab.net/knut/</a></p></li></ul>
<p class="docText"><a name="cover in"></a>For &#101;mbedded development, Tro&#108;ltech offe&#114;s the Q&#116;opia application pl&#97;tform, which we cover in <a class="docLink" href="ch24.html#ch24">Chapter 24</a>.</p>
<p class="docText"><a name="have been"></a>&#83;ome Qt functionality that mi&#103;ht have been expected to be platform-specific is avai&#108;able in a platform-independent manner. For ex&#97;mple, there is a Qt Solution for creating serv&#105;ces (dae&#109;ons) on Windo&#119;s, Unix, and Ma&#99; OS X.</p>




<a name="ch23lev1sec1"></a>
<h3 class="docSection1Title" id="-100000">Interfacing with Native APIs</h3>
<p class="docText"><a name="in some"></a>Qt's comp&#114;ehensive API c&#97;ters for most ne&#101;ds on all platforms, but in some &#99;ircumstanc&#101;s, w&#101; may wa&#110;t to use the &#117;nderlying platform-specifi&#99; APIs. In this section, we will show how to us&#101; the native APIs for the differe&#110;t platforms supported by Qt to accomplish par&#116;icular t&#97;sks.</p>
<p class="docText"><a name="iddle1478"></a><a name="iddle2547"></a><a name="iddle2747"></a><a name="iddle2888"></a><a name="iddle3052"></a><a name="iddle3131"></a><a name="iddle4230"></a><a name="iddle6520"></a><a name="iddle6565"></a><a name="iddle6651"></a><a name="iddle8576"></a><a name="iddle8613"></a><a name="iddle8636"></a>On eve&#114;y plat&#102;orm, <tt>&#81;Widg&#101;t</tt> provides a <tt>winId()</tt> &#102;unction that returns the windo&#119; ID or handle. <tt>&#81;Wi&#100;get</tt> a&#108;so provides a stati&#99; function called <tt>find()</tt> that returns the <tt>QWidg&#101;t</tt><a name="this ID"></a> with a particular window ID. We can pass &#116;his ID to native API functions to achieve p&#108;atform-specific effects. For example, the following code uses <tt>win&#73;d()</tt><a name="the left"></a> to m&#111;ve &#116;he title &#98;ar of a tool &#119;indow to the left using n&#97;tive Mac OS X (Carbon) functio&#110;s (see <a class="docLink" href="#ch23fig01">Figure 23.1</a>):</p>
<div class="docText"><pre>#ifdef Q_WS_MAC
    ChangeWindowAttributes(HIViewGetWindow(HIViewRef(toolWin.winId())),
                           kWindowSideTitlebarAttribute,
                           kWindowNoAttributes);
#endif</pre></div><br />
<a name="ch23fig01"></a><p><center>

<h5 class="docFigureTitle"><a name="OS X"></a>Figure 23.1. A Mac OS X tool window w&#105;th the t&#105;tle bar &#111;n the side</h5>

<p class="docText">
<img border="0" id="" width="89" height="296" src="images/NzlkOW1jM2FhMDc4L2lwdHJnZTFnMTRzOXIvMy83cHBlYWhqY3IvYmFtc2NpLXMuZ2lk.jpg" alt="" /></p>



</center></p><br />
<p class="docText"><a name="we would"></a>&#79;n X11, here's how we would modi&#102;y a window property:</p>
<div class="docText"><pre>#ifdef Q_WS_X11
    Atom atom = XInternAtom(QX11Info::display(), "MY_PROPERTY", False);
    long data = 1;
    XChangeProperty(QX11Info::display(), window-&gt;winId(), atom, atom,
                    32, PropModeReplace,
                    reinterpret_cast&lt;uchar *&gt;(&amp;data), 1);
#endif</pre></div><br />
<p class="docText"><a name="The"></a>The <tt>#&#105;fdef</tt> and <tt>#endif</tt><a name="the platform"></a> directives aro&#117;nd the platform-specific code ensure that the application &#119;ill still compile on other platforms.</p>
<p class="docText"><a name="a Windows"></a>For a Windows-&#111;nl&#121; ap&#112;lic&#97;tion, here'&#115; an example o&#102; how we can use GDI calls to draw &#111;n a Qt widget:</p>
<div class="docText"><pre>void GdiControl::paintEvent(QPaintEvent * /* event */)
{
    RECT rect;
    GetClientRect(winId(), &amp;rect);
    HDC hdc = GetDC(winId());

    FillRect(hdc, &amp;rect, HBRUSH(COLOR_WINDOW + 1));
    SetTextAlign(hdc, TA_CENTER | TA_BASELINE);
    TextOutW(hdc, width() / 2, height() / 2, text.utf16(), text.size());
    ReleaseDC(winId(), hdc);
}</pre></div><br />
<p class="docText"><a name="iddle2548"></a><a name="iddle2908"></a><a name="iddle3648"></a><a name="iddle3821"></a><a name="iddle4163"></a><a name="iddle4217"></a><a name="iddle4218"></a><a name="iddle4231"></a><a name="iddle4581"></a><a name="iddle4609"></a><a name="iddle4613"></a><a name="iddle5493"></a><a name="iddle5494"></a><a name="iddle5497"></a><a name="iddle5546"></a><a name="iddle6011"></a><a name="iddle6089"></a><a name="iddle6374"></a><a name="iddle6566"></a><a name="iddle6849"></a><a name="iddle8426"></a><a name="iddle8472"></a><a name="iddle8503"></a><a name="iddle8609"></a><a name="iddle8647"></a><a name="iddle8652"></a>For this to wo&#114;k, we mu&#115;t also r&#101;implem&#101;nt <tt>QPa&#105;ntDevice::paintEngine()</tt> to return &#97; null pointer and set the <tt>Qt::WA_PaintOnSc&#114;een</tt> attribute in the widget's constructor.</p>
<p class="docText">&#84;he next example shows how to combine <tt>QPainter</tt> and G&#68;I calls in a &#112;ain&#116; event ha&#110;d&#108;er using <tt>QPaintEngin&#101;</tt>'s <tt>getDC()</tt> and <tt>relea&#115;eDC()</tt> functions:</p>
<div class="docText"><pre>void MyWidget::paintEvent(QPaintEvent * /* event */)
{
    QPainter painter(this);
    painter.fillRect(rect().adjusted(20, 20, -20, -20), Qt::red);
#ifdef Q_WS_WIN
    HDC hdc = painter.paintEngine()-&gt;getDC();
    Rectangle(hdc, 40, 40, width() - 40, height() - 40);
    painter.paintEngine()-&gt;releaseDC();
#endif
}</pre></div><br />
<p class="docText">Mixing <tt>QPainter</tt><a name="strange results"></a> a&#110;d &#71;DI &#99;alls like this can so&#109;etimes lead to strang&#101; results, especially when <tt>Q&#80;ainter</tt> calls occur after GDI calls, because <tt>&#81;Painter</tt><a name="state of"></a> makes some assumptions about the s&#116;ate of the underlying drawing layer.</p>
<p class="docText">Qt def&#105;nes one &#111;f t&#104;e foll&#111;wi&#110;g four &#119;indow system symbols: <tt>Q_WS_WIN</tt>, <tt>Q_WS_X11</tt>, <tt>Q_W&#83;_MAC</tt>, or <tt>Q_WS_QWS</tt><a name="we can"></a> (Qtopia). We must include &#97;t least on&#101; Qt &#104;eader before we ca&#110; use them i&#110; applications. Qt also provi&#100;es preprocessor symbols to identify th&#101; operating system:</p>
<ul><li><p class="docList"><tt>Q_OS_AIX</tt></p></li><li><p class="docList"><tt>Q_OS_BSD4</tt></p></li><li><p class="docList"><tt>Q_OS_&#66;SDI</tt></p></li><li><p class="docList"><tt>Q_OS_CYGWIN</tt></p></li><li><p class="docList"><tt>Q_OS_DGUX</tt></p></li><li><p class="docList"><tt>Q_OS_DYNIX</tt></p></li><li><p class="docList"><tt>Q_OS_FREEBSD</tt></p></li><li><p class="docList"><tt>Q_OS_HPUX</tt></p></li><li><p class="docList"><tt>Q_OS_HURD</tt></p></li><li><p class="docList"><tt>&#81;_OS_&#73;RIX</tt></p></li><li><p class="docList"><tt>Q_&#79;S_LINUX</tt></p></li><li><p class="docList"><tt>Q_OS_L&#89;NX</tt></p></li><li><p class="docList"><tt>Q_OS_MAC</tt></p></li><li><p class="docList"><tt>Q_O&#83;_NETBSD</tt></p></li><li><p class="docList"><tt>Q_OS_&#79;PENBSD</tt></p></li><li><p class="docList"><tt>Q_OS_OS2EMX</tt></p></li><li><p class="docList"><tt>Q_OS_OSF</tt></p></li><li><p class="docList"><tt>Q_OS_QNX6</tt></p></li><li><p class="docList"><tt>&#81;_OS_QNX</tt></p></li><li><p class="docList"><tt>Q_OS_RELIANT</tt></p></li><li><p class="docList"><tt>Q_OS_S&#67;O</tt></p></li><li><p class="docList"><tt>Q_OS_SOLA&#82;IS</tt></p></li><li><p class="docList"><tt>Q_&#79;S_ULTRIX</tt></p></li><li><p class="docList"><tt>Q_OS_UNIXWAR&#69;</tt></p></li><li><p class="docList"><tt>Q_OS_WIN32</tt></p></li><li><p class="docList"><tt>Q_OS_WIN64</tt></p></li></ul>
<p class="docText"><a name="of these"></a>We c&#97;n assume that at most one &#111;f these will be defined. For c&#111;nvenience, Qt also defines <tt>Q_&#79;S_WIN</tt> when either Win32 or Win64 is detected, and <tt>Q_OS_UNIX</tt><a name="we can"></a> when a&#110;y &#85;nix-bas&#101;d o&#112;era&#116;ing system (i&#110;cluding Linux a&#110;d Mac OS X) is detected. At run-time, we can chec&#107; <tt>QSysInfo::&#87;indowsVe&#114;sion</tt> or <tt>QSysI&#110;fo::Ma&#99;intoshVersion</tt><a name="different versions"></a> to distinguish betwe&#101;n different versions of Windows (2000, &#77;E, etc.) or Mac OS X (10.2, 10.3, etc.).</p>
<p class="docText"><a name="to the"></a>In addition to the opera&#116;ing system and window system macros, there is also a set o&#102; com&#112;ile&#114; macro&#115;. For exa&#109;ple, <tt>Q_CC_MSVC</tt><a name="is defined"></a> is defin&#101;d if the compiler is M&#105;crosoft Visual C++. These can be useful for workin&#103; arou&#110;d &#99;ompiler bugs.</p>
<p class="docText"><a name="classes provide"></a>Severa&#108; of Qt's GUI-rela&#116;ed classes provide plat&#102;orm-specific functions that return low-lev&#101;l handles to the underlying object. &#84;hese are listed in <a class="docLink" href="#ch23fig02">Figure 23.2</a>.</p>

<p class="docText"></p><a name="ch23fig02"></a><p><center>

<h5 class="docFigureTitle"><a name="functions to"></a>Figure 23.2. Platform-specific functi&#111;ns &#116;o access &#108;ow-level ha&#110;d&#108;es</h5>
<p><table cellspacing="0" class="allBorders" border="1" rules="rows" cellpadding="4"><colgroup align="left" span="2"><col width="150" /><col width="250" /></colgroup><thead></thead><tr><td class="docTableCell" align="left" valign="top" style="background-color:#E6E6E6"><a name="iddle1250"></a><a name="iddle1521"></a><a name="iddle1958"></a><a name="iddle2802"></a><a name="iddle2909"></a><a name="iddle2918"></a><a name="iddle2968"></a><a name="iddle2971"></a><a name="iddle2972"></a><a name="iddle2973"></a><a name="iddle2974"></a><a name="iddle2975"></a><a name="iddle2978"></a><a name="iddle2994"></a><a name="iddle2995"></a><a name="iddle3042"></a><a name="iddle3053"></a><a name="iddle3070"></a><a name="iddle3071"></a><a name="iddle3091"></a><a name="iddle3638"></a><a name="iddle3643"></a><a name="iddle3644"></a><a name="iddle4306"></a><a name="iddle4313"></a><a name="iddle4833"></a><a name="iddle4873"></a><a name="iddle5031"></a><a name="iddle5495"></a><a name="iddle5587"></a><a name="iddle5589"></a><a name="iddle5590"></a><a name="iddle5591"></a><a name="iddle5592"></a><a name="iddle5593"></a><a name="iddle5604"></a><a name="iddle5679"></a><a name="iddle5737"></a><a name="iddle6525"></a><a name="iddle6652"></a><a name="iddle6654"></a><a name="iddle6655"></a><a name="iddle6687"></a><a name="iddle6824"></a><a name="iddle6947"></a><a name="iddle7043"></a><a name="iddle7551"></a><a name="iddle8614"></a><a name="iddle8615"></a><a name="iddle8691"></a><a name="iddle8692"></a><a name="iddle8693"></a><a name="iddle8694"></a><a name="iddle8695"></a><span class="docEmphRomanAlt">Mac OS X</span></td><td class="docTableCell" align="left" valign="top" style="background-color:#E6E6E6">&nbsp;</td></tr><tr><td class="docTableCell rightBorder" align="left" valign="top"><tt>ATSFont&#70;ormatRef</tt></td><td class="docTableCell" align="left" valign="top"><tt>QFo&#110;t::handle()</tt></td></tr><tr><td class="docTableCell rightBorder" align="left" valign="top"><tt>CGImageRef</tt></td><td class="docTableCell" align="left" valign="top"><tt>QPixm&#97;p::macCGHa&#110;d&#108;e()</tt></td></tr><tr><td class="docTableCell rightBorder" align="left" valign="top"><tt>GWorldPtr</tt></td><td class="docTableCell" align="left" valign="top"><tt>QPixm&#97;p::macQDAlphaH&#97;ndle()</tt></td></tr><tr><td class="docTableCell rightBorder" align="left" valign="top"><tt>GWorldPtr</tt></td><td class="docTableCell" align="left" valign="top"><tt>QPixmap::macQDHand&#108;e()</tt></td></tr><tr><td class="docTableCell rightBorder" align="left" valign="top"><tt>RgnHandle</tt></td><td class="docTableCell" align="left" valign="top"><tt>QRegion::handle()</tt></td></tr><tr><td class="docTableCell rightBorder" align="left" valign="top"><tt>HIVi&#101;wRef</tt></td><td class="docTableCell" align="left" valign="top"><tt>QWidget::winId()</tt></td></tr></table></p><br />
<p><table cellspacing="0" class="allBorders" border="1" rules="rows" cellpadding="4"><colgroup align="left" span="2"><col width="150" /><col width="250" /></colgroup><thead></thead><tr><td class="docTableCell" align="left" valign="top" style="background-color:#E6E6E6"><span class="docEmphRomanAlt">Windows</span></td><td class="docTableCell" align="left" valign="top" style="background-color:#E6E6E6">&nbsp;</td></tr><tr><td class="docTableCell rightBorder" align="left" valign="top"><tt>HCURSOR</tt></td><td class="docTableCell" align="left" valign="top"><tt>QC&#117;rsor::handle()</tt></td></tr><tr><td class="docTableCell rightBorder" align="left" valign="top"><tt>HDC</tt></td><td class="docTableCell" align="left" valign="top"><tt>QPaintEngine::getDC()</tt></td></tr><tr><td class="docTableCell rightBorder" align="left" valign="top"><tt>HDC</tt></td><td class="docTableCell" align="left" valign="top"><tt>QPrintEngine::getP&#114;inter&#68;C()</tt></td></tr><tr><td class="docTableCell rightBorder" align="left" valign="top"><tt>HFONT</tt></td><td class="docTableCell" align="left" valign="top"><tt>QFo&#110;t::&#104;andle()</tt></td></tr><tr><td class="docTableCell rightBorder" align="left" valign="top"><tt>&#72;PALETTE</tt></td><td class="docTableCell" align="left" valign="top"><tt>QColorm&#97;p::hPal()</tt></td></tr><tr><td class="docTableCell rightBorder" align="left" valign="top"><tt>HRGN</tt></td><td class="docTableCell" align="left" valign="top"><tt>QRegion::hand&#108;e()</tt></td></tr><tr><td class="docTableCell rightBorder" align="left" valign="top"><tt>HWND</tt></td><td class="docTableCell" align="left" valign="top"><tt>QWidget::winId()</tt></td></tr></table></p><br />
<p><table cellspacing="0" class="allBorders" border="1" rules="rows" cellpadding="4"><colgroup align="left" span="2"><col width="150" /><col width="250" /></colgroup><thead></thead><tr><td class="docTableCell" align="left" valign="top" style="background-color:#E6E6E6"><span class="docEmphRomanAlt">X11</span></td><td class="docTableCell" align="left" valign="top" style="background-color:#E6E6E6">&nbsp;</td></tr><tr><td class="docTableCell rightBorder" align="left" valign="top"><tt>Cursor</tt></td><td class="docTableCell" align="left" valign="top"><tt>QCu&#114;sor::ha&#110;d&#108;e()</tt></td></tr><tr><td class="docTableCell rightBorder" align="left" valign="top"><tt>Font</tt></td><td class="docTableCell" align="left" valign="top"><tt>QFont::handle()</tt></td></tr><tr><td class="docTableCell rightBorder" align="left" valign="top"><tt>P&#105;cture</tt></td><td class="docTableCell" align="left" valign="top"><tt>QPi&#120;map::x11PictureHand&#108;e()</tt></td></tr><tr><td class="docTableCell rightBorder" align="left" valign="top"><tt>Picture</tt></td><td class="docTableCell" align="left" valign="top"><tt>QWidget::x11PictureHandle()</tt></td></tr><tr><td class="docTableCell rightBorder" align="left" valign="top"><tt>Pixm&#97;p</tt></td><td class="docTableCell" align="left" valign="top"><tt>QPixmap::handle()</tt></td></tr><tr><td class="docTableCell rightBorder" align="left" valign="top"><tt>QX11Info</tt></td><td class="docTableCell" align="left" valign="top"><tt>QPixmap::x11I&#110;fo()</tt></td></tr><tr><td class="docTableCell rightBorder" align="left" valign="top"><tt>QX11Info</tt></td><td class="docTableCell" align="left" valign="top"><tt>QWidget::x11Info()</tt></td></tr><tr><td class="docTableCell rightBorder" align="left" valign="top"><tt>Region</tt></td><td class="docTableCell" align="left" valign="top"><tt>QRegi&#111;n::h&#97;ndle()</tt></td></tr><tr><td class="docTableCell rightBorder" align="left" valign="top"><tt>Scre&#101;n</tt></td><td class="docTableCell" align="left" valign="top"><tt>Q&#67;ursor::x11Sc&#114;een()</tt></td></tr><tr><td class="docTableCell rightBorder" align="left" valign="top"><tt>SmcConn</tt></td><td class="docTableCell" align="left" valign="top"><tt>QSessi&#111;nManager::handl&#101;()</tt></td></tr><tr><td class="docTableCell rightBorder" align="left" valign="top"><tt>Window</tt></td><td class="docTableCell" align="left" valign="top"><tt>QWidget::handl&#101;()</tt></td></tr><tr><td class="docTableCell rightBorder" align="left" valign="top"><tt>Wi&#110;d&#111;w</tt></td><td class="docTableCell" align="left" valign="top"><tt>QWidget::win&#73;d()</tt></td></tr></table></p><br />
</center></p><br />
<p class="docText">On X11, <tt>QPi&#120;map::x11Info()</tt> and <tt>QWidget::x11In&#102;o()</tt> return a <tt>QX11Info</tt> object that &#112;rovides various pointers or h&#97;ndles, such as <tt>display()</tt>, <tt>screen()</tt>, <tt>colormap()</tt>, and <tt>v&#105;sual()</tt><a name="context on"></a>. We &#99;an use these &#116;o set up a&#110; X11 &#103;raphics cont&#101;xt on a <tt>QPi&#120;map</tt> or <tt>QWidget</tt>, for exa&#109;ple.</p>
<p class="docText"><a name="iddle1075"></a><a name="iddle1081"></a><a name="iddle1686"></a><a name="iddle2491"></a><a name="iddle2513"></a><a name="iddle2517"></a><a name="iddle2550"></a><a name="iddle2607"></a><a name="iddle2739"></a><a name="iddle3639"></a><a name="iddle3640"></a><a name="iddle3778"></a><a name="iddle3930"></a><a name="iddle4323"></a><a name="iddle4727"></a><a name="iddle4728"></a><a name="iddle4746"></a><a name="iddle4747"></a><a name="iddle4762"></a><a name="iddle4773"></a><a name="iddle4992"></a><a name="iddle6534"></a><a name="iddle6569"></a><a name="iddle6650"></a><a name="iddle6653"></a><a name="iddle6667"></a><a name="iddle6671"></a><a name="iddle6672"></a><a name="iddle8611"></a><a name="iddle8612"></a><a name="iddle8644"></a><a name="iddle8689"></a><a name="iddle8690"></a><a name="iddle8700"></a><a name="interface with"></a>Qt appli&#99;ations that &#110;eed t&#111; interface w&#105;th other toolkits or libraries fre&#113;uently need to access the low-level events (<tt>XEv&#101;nt</tt>s on X11, <tt>MSG</tt>s on Windows, <tt>EventRef</tt> on Mac OS X, <tt>QWSE&#118;ent</tt>s on QWS) before they are converted into <tt>QEvent</tt>s. We can do this by su&#98;classing <tt>Q&#65;pplica&#116;ion</tt> and r&#101;im&#112;lement&#105;ng the relevant platfo&#114;m-specific event filter, o&#110;e &#111;f <tt>x11&#69;ventFilter()</tt>, <tt>winEventFil&#116;er()</tt>, <tt>macEvent&#70;ilter()</tt>, and <tt>qwsEventFilter()</tt><a name="a given"></a>. Alterna&#116;ively, we can access the platform-specific events &#116;hat are sent to a given <tt>QWidget</tt> b&#121; reimplementing one of <tt>x11Event()</tt>, <tt>winEvent()</tt>, <tt>mac&#69;vent()</tt>, and <tt>qws&#69;vent()</tt><a name="types of"></a>. This ca&#110; b&#101; us&#101;ful for handli&#110;g certain types of even&#116;s that Qt normally ignores, such as j&#111;ys&#116;ick even&#116;s.</p>
<p class="docText"><a name="on different"></a>For more in&#102;ormation abou&#116; platform-specific issues, including how t&#111; deploy Qt applications on di&#102;ferent platforms, see <a class="docLink" target="_blank" href="http://doc.trolltech.com/4.3/winsystem.html">http://doc.trolltech.com/4.3/winsystem.html</a>.</p>

</div></div>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch23.html><img src="images/prev.gif" width="20" height="20" border="0" align="absmiddle" alt="Previous Page"></a>
<a href=ch23lev1sec2.html><img src="images/next.gif" width="20" height="20" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>