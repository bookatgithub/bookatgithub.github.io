<html>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<head>
<title>ch24lev1sec2.html</title>
<link rel="STYLESHEET" type="text/css" href="images/css1.css">
<link rel="STYLESHEET" type="text/css" href="images/css2.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch24lev1sec1.html><img src="images/prev.gif" width="20" height="20" border="0" align="absmiddle" alt="Previous Page"></a>
<a href=ch24lev1sec3.html><img src="images/next.gif" width="20" height="20" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<div style=""><div><a name="ch24lev1sec2"></a>
<h3 class="docSection1Title" id="-100000">Customizing Qt/Embedded Linux</h3>
<p class="docText"><a name="When installing"></a>&#87;hen insta&#108;ling Qt/Emb&#101;dd&#101;d L&#105;nux, we can specify &#102;eatures we want to leave &#111;ut to reduce its memory footprin&#116;. Qt/Embed&#100;e&#100; Linux inc&#108;udes more than one &#104;undred configurabl&#101; features, each of which is associated with a &#112;reprocessor symbol. For e&#120;ample, <tt>QT_NO_FILEDIALOG</tt> excludes <tt>QFileDialog</tt> from the <span class="docEmphasis">QtGui</span> library, and <tt>&#81;T_N&#79;_I18N</tt><a name="all support"></a> leaves ou&#116; all supp&#111;rt &#102;or int&#101;rnationalization. The f&#101;atures are listed in <tt>src/corelib/global/q&#102;eat&#117;res.txt</tt>.</p>
<p class="docText"><a name="provides five"></a>Qt/&#69;mbedded Linux provide&#115; five example conf&#105;gurations (<tt>minimum</tt>, <tt>small</tt>, <tt>medium</tt>, <tt>lar&#103;e</tt>, and <tt>dist</tt>) that are stored i&#110; <tt>src/corelib/global/qconfig-</tt><span class="docEmphasis"><tt>xxx</tt></span><tt>.h</tt> files. These confi&#103;urations can be specified using the <tt>configure</tt> script's <tt>-q&#99;onfig</tt> <span class="docEmphasis"><tt>xxx</tt></span> op&#116;ion, for e&#120;a&#109;ple:</p>
<div class="docText"><pre>./configure -qconfig small</pre></div><br />
<p class="docText">To creat&#101; custom con&#102;igurations, we can m&#97;nually provide a <tt>qconfig-</tt><span class="docEmphasis"><tt>xxx</tt></span><tt>.&#104;</tt><a name="standard configuration"></a> file a&#110;d &#117;se it as thoug&#104; it were a s&#116;andard configuration. A&#108;ternatively, we can use the <tt>qconfig</tt> graphical too&#108;, located in Qt's <tt>tools</tt> subdirectory.</p>
<p class="docText"><a name="for interfacing"></a>Qt/&#69;mbedded Linux provides the following classes for interf&#97;cing with &#105;nput an&#100; o&#117;tput devi&#99;es and for customizi&#110;g the look and &#102;eel of the window syst&#101;m:</p>
<p><table cellspacing="0" class="allBorders" border="1"><colgroup align="left" span="2"><col width="200" /><col width="250" /></colgroup><thead><tr><th scope="col" class="docTableCell thead" align="left" valign="top" style="background-color:#E6E6E6">C&#108;ass</th><th scope="col" class="docTableCell thead" align="left" valign="top" style="background-color:#E6E6E6">Base Cl&#97;ss for</th></tr></thead><tr><td class="docTableCell" align="left" valign="top"><tt>QScreen</tt></td><td class="docTableCell" align="left" valign="top"><span class="docEmphRomanAlt">Sc&#114;een drivers</span></td></tr><tr><td class="docTableCell" align="left" valign="top"><tt>QS&#99;reenDriverPlugin</tt></td><td class="docTableCell" align="left" valign="top"><span class="docEmphRomanAlt">Screen d&#114;iver plugins</span></td></tr><tr><td class="docTableCell" align="left" valign="top"><tt>QWSMouseHand&#108;er</tt></td><td class="docTableCell" align="left" valign="top"><span class="docEmphRomanAlt">Mouse drivers</span></td></tr><tr><td class="docTableCell" align="left" valign="top"><tt>QMouseDriverPlugin</tt></td><td class="docTableCell" align="left" valign="top"><span class="docEmphRomanAlt">Mo&#117;se driver plugins</span></td></tr><tr><td class="docTableCell" align="left" valign="top"><tt>QWSKeyboardHandler</tt></td><td class="docTableCell" align="left" valign="top"><span class="docEmphRomanAlt">Key&#98;oard drive&#114;s</span></td></tr><tr><td class="docTableCell" align="left" valign="top"><tt>QKbd&#68;riverPlug&#105;n</tt></td><td class="docTableCell" align="left" valign="top"><span class="docEmphRomanAlt">Keybo&#97;rd driver plug&#105;ns</span></td></tr><tr><td class="docTableCell" align="left" valign="top"><tt>QWSInputMethod</tt></td><td class="docTableCell" align="left" valign="top"><span class="docEmphRomanAlt">I&#110;put methods</span></td></tr><tr><td class="docTableCell" align="left" valign="top"><tt>QDecoration</tt></td><td class="docTableCell" align="left" valign="top"><span class="docEmphRomanAlt">Windo&#119; decoration &#115;tyles</span></td></tr><tr><td class="docTableCell" align="left" valign="top"><tt>Q&#68;ecorationPl&#117;gin</tt></td><td class="docTableCell" align="left" valign="top"><span class="docEmphRomanAlt">Window decoration &#115;tyle plugins</span></td></tr></table></p><br />
<p class="docText"><a name="decoration styles"></a>To obtain the list of pr&#101;defined drivers, input me&#116;hods, and window decoration styles, run the <tt>configure</tt> sc&#114;ipt with the <tt>-help</tt> option.</p>
<p class="docText"><a name="the"></a>The screen driver can be specified usin&#103; the <tt>-d&#105;splay</tt><a name="or by"></a> c&#111;mm&#97;nd-line op&#116;ion when startin&#103; the Qt/Embedded L&#105;nux server, as seen in the previous sec&#116;ion, or by &#115;etting &#116;he <tt>QWS_DISPLAY</tt><a name="driver and"></a> &#101;nvironmen&#116; variable. The mouse driver &#97;nd the associated <a name="iddle1297"></a><a name="iddle1703"></a><a name="iddle2443"></a><a name="iddle2445"></a><a name="iddle2818"></a><a name="iddle3246"></a><a name="iddle3750"></a><a name="iddle4398"></a><a name="iddle4420"></a><a name="iddle4729"></a><a name="iddle5582"></a><a name="iddle5973"></a><a name="iddle6375"></a><a name="iddle6384"></a><a name="iddle6675"></a><a name="iddle6679"></a><a name="iddle6683"></a><a name="iddle6684"></a><a name="iddle7020"></a><a name="iddle7174"></a><a name="iddle8242"></a><a name="iddle8248"></a><a name="iddle8254"></a><a name="be specified"></a>device can b&#101; specified using the <tt>QWS_MOUSE_PROTO</tt><a name="environment variable"></a> environm&#101;nt variable, whose value must have the syntax <span class="docEmphasis"><tt>type</tt></span><tt>:</tt><span class="docEmphasis"><tt>devi&#99;e</tt></span>, where <span class="docEmphasis"><tt>type</tt></span><a name="of the"></a> &#105;s one of &#116;he suppo&#114;ted dr&#105;vers and <span class="docEmphasis"><tt>d&#101;vice</tt></span><a name="the path"></a> is the path to the dev&#105;ce (e.g., <tt>QWS_MOUSE_PROTO=IntelliMouse:/dev/mouse</tt>). Keyboa&#114;ds are &#104;andle&#100; similarl&#121; through t&#104;e <tt>QWS_KEYBOARD</tt><a name="in the"></a> environment variabl&#101;. Input methods and window &#100;ecorations are set programmatically in the serve&#114; using <tt>QWSServer::setCurrentInputMethod()</tt> a&#110;d <tt>&#81;Ap&#112;lic&#97;tion::qwsS&#101;tDeco&#114;ation()</tt>.</p>
<p class="docText"><a name="set independently"></a>Window decora&#116;ion styles can be set independ&#101;nt&#108;y of the wid&#103;et style, &#119;hich is encapsul&#97;ted by a <tt>QStyle</tt><a name="the window"></a> subclass. For example, it is ent&#105;rely possible to set Windows as the wind&#111;w decoration style and Plastique as &#116;he widget style. If desired, decorations can be se&#116; on a per-w&#105;ndow ba&#115;is.</p>
<p class="docText">The <tt>Q&#87;SServer</tt><a name="window system"></a> c&#108;ass provides v&#97;rious functions for customizi&#110;g the window system. Applications that ru&#110; a&#115; Qt/Embe&#100;ded L&#105;nux servers can acc&#101;ss the unique <tt>QWSServ&#101;r</tt> instance through the <tt>QW&#83;Server::instance()</tt> static function.</p>
<p class="docText"><a name="Format "></a>Qt/Em&#98;edded Linux supports the following font formats: TrueTy&#112;e (TT&#70;), P&#111;st&#83;crip&#116; Type 1, Bitmap Distribu&#116;ion Format (BDF), and Qt Pre-rend&#101;red Fonts (QPF).</p>
<p class="docText"><a name="a raster"></a>Because QPF is &#97; raster fo&#114;mat, it &#105;s designe&#100; to be &#102;aster and more compact &#116;han vector formats such as TTF and &#84;ype 1 if we need it only at one or two different &#115;izes. The <tt>makeqpf</tt><a name="be used"></a> tool can be used to pre-render a &#84;TF or a &#84;ype 1 fi&#108;e and save t&#104;e resu&#108;t in QPF format. An altern&#97;tive is to run our applicati&#111;ns with the <tt>-savefonts</tt> command-l&#105;ne opti&#111;n.</p>

</div></div>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch24lev1sec1.html><img src="images/prev.gif" width="20" height="20" border="0" align="absmiddle" alt="Previous Page"></a>
<a href=ch24lev1sec3.html><img src="images/next.gif" width="20" height="20" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>