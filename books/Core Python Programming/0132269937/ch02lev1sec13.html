<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 2.13.&nbsp; for Loop and the range() Built-in Function</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch02lev1sec12.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch02lev1sec14.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><TD valign="top"><a name="ch02lev1sec13"></a>
<h3 id="title-IDADUFZF" class="docSection1Title">2.13. <tt>for</tt> Loop and the <tt>range()</tt> Built-in Function</H3>
<p class="docText">The <span class="docEmphStrong"><tt>for</tt></span> loop in Python is more like a <tt>foreach</tt> iterative-type loop in a shell scripting language than a traditional <tt>for</tt> conditional loop that works like a counter. Python's <span class="docEmphStrong"><tt>for</tt></span> takes an <span class="docEmphasis">iterable</span> (such as a sequence or iterator) and traverses each element once.</p>
<div class="docText"><pre>  &gt;&gt;&gt; <span class="docEmphStrong">print</span> 'I like to use the Internet for:'
  I like to use the Internet for:
  &gt;&gt;&gt; <span class="docEmphStrong">for</span> item <span class="docEmphStrong">in</span> ['e-mail', 'net-surfing', 'homework',
  'chat']:
  ...     <span class="docEmphStrong">print</span> item
  ...
  e-mail
  net-surfing
  homework
  chat</pre></div><BR>
<p class="docText">Our output in the previous example may look more presentable if we display the items on the same line rather than on separate lines. <span class="docEmphStrong"><tt>print</tt></span> statements by default automatically add a NEWLINE character at the end of every line. This can be suppressed by terminating the <span class="docEmphStrong"><tt>print</tt></span> statement with a comma ( , ).</P>
<div class="docText"><pre>   <span class="docEmphStrong">print</span> 'I like to use the Internet for:'
   <span class="docEmphStrong">for</span> item in ['e-mail', 'net-surfing', 'homework', 'chat']:
       <span class="docEmphStrong">print</span> item,
   <span class="docEmphStrong">print</span></pre></div><BR>
<p class="docText">The code required further modification to include an additional <span class="docEmphStrong"><tt>print</tt></span> statement with no arguments to flush our line of output with a terminating <a name="iddle2754"></a><a name="iddle3528"></a>NEWLINE; otherwise, the prompt will show up on the same line immediately after the last piece of data output. Here is the output with the modified code:</P>
<div class="docText"><pre>   I like to use the Internet for:
   e-mail net-surfing homework chat</pre></div><br>
<p class="docText">Elements in <span class="docEmphStrong"><tt>print</tt></span> statements separated by commas will automatically include a delimiting space between them as they are displayed.</p>
<p class="docText">Providing a string format gives the programmer the most control because it dictates the exact output layout, without having to worry about the spaces generated by commas. It also allows all the data to be grouped together in one placethe tuple or dictionary on the right-hand side of the format operator.</p>
<div class="docText"><pre>  &gt;&gt;&gt; who = 'knights'
  &gt;&gt;&gt; what = 'Ni!'
  &gt;&gt;&gt; <span class="docEmphStrong">print</span> 'We are the', who, 'who say', what, what, what, what
  We are the knights who say Ni! Ni! Ni! Ni!
  &gt;&gt;&gt; <span class="docEmphStrong">print</span> 'We are the %s who say %s' % \
  ... (who, ((what + ' ') * 4))
  We are the knights who say Ni! Ni! Ni! Ni!</pre></div><BR>
<p class="docText">Using the string format operator also allows us to do some quick string manipulation before the output, as you can see in the previous example.</p>
<p class="docText">We conclude our introduction to loops by showing you how we can make Python's <span class="docEmphStrong"><tt>for</tt></span> statement act more like a traditional loop, in other words, a numerical counting loop. Because we cannot change the behavior of a <span class="docEmphStrong"><tt>for</tt></span> loop (iterates over a sequence), we can manipulate our sequence so that it is a list of numbers. That way, even though we are still iterating over a sequence, it will at least appear to perform the number counting and incrementing that we envisioned.</P>
<div class="docText"><pre>  &gt;&gt;&gt; <span class="docEmphStrong">for</span> eachNum <span class="docEmphStrong">in</span> [0, 1, 2]:
  ...    <span class="docEmphStrong">print</span> eachNum
  ...
  0
  1
  2</pre></div><br>
<p class="docText">Within our loop, <tt>eachNum</tt> contains the integer value that we are displaying and can use it in any numerical calculation we wish. Because our range of numbers may differ, Python provides the <tt>range()</tt> built-in function to generate such a list for us. It does exactly what we want, taking a range of numbers and generating a list.</P>
<div class="docText"><pre>  &gt;&gt;&gt; <span class="docEmphStrong">for</span> eachNum <span class="docEmphStrong">in</span> range(3):
  ...     <span class="docEmphStrong">print</span> eachNum
  ...
    0
  1
  2</pre></div><br>
<p class="docText"><a name="iddle1809"></a><a name="iddle2658"></a><a name="iddle2680"></a>For strings, it is easy to iterate over each character:</P>
<div class="docText"><pre>  &gt;&gt;&gt; foo = 'abc'
  &gt;&gt;&gt; <span class="docEmphStrong">for</span> c <span class="docEmphStrong">in</span> foo:
  ...  <span class="docEmphStrong">print</span> c
  ...
  a
  b
  c</pre></div><BR>
<p class="docText">The <tt>range()</tt> function has been often seen with <tt>len()</tt> for indexing into a string. Here, we can display both elements and their corresponding index value:</p>
<div class="docText"><pre>  &gt;&gt;&gt; foo = 'abc'
  &gt;&gt;&gt; <span class="docEmphStrong">for</span> i <span class="docEmphStrong">in</span> range(len(foo)):
  ...  <span class="docEmphStrong">print</span> foo[i], '(%d)' % i
  ...
  a (0)
  b (1)
  c (2)</pre></div><br>
<p class="docText">However, these loops were seen as restrictiveyou either index by each element or by its index, but never both. This led to the <tt>enumerate()</tt> function (introduced in <a class="docLink" href="ch05lev1sec2.html#ch05lev3sec3">Python 2.3</a>) that does give both:</p>
<div class="docText"><pre>  &gt;&gt;&gt; <span class="docEmphStrong">for</span> i, ch <span class="docEmphStrong">in</span> enumerate(foo):
  ...  <span class="docEmphStrong">print</span> ch, '(%d)' % i
  ...
  a (0)
  b (1)
  c (2)</pre></div><br>

</TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch02lev1sec12.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch02lev1sec14.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>