<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 2.15.&nbsp; Files and the open() and file() Built-in Functions</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch02lev1sec14.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch02lev1sec16.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><TD valign="top"><a name="ch02lev1sec15"></a>
<h3 id="title-IDAX2BK" class="docSection1Title">2.15. Files and the <tt>open()</tt> and <tt>file()</tt> Built-in Functions</H3>
<p class="docText">File access is one of the more important aspects of a language once you are comfortable with the syntax; there is nothing like the power of persistent storage to get some real work done.</p>
<a name="ch02lev2sec1"></a>
<H4 id="title-IDAG3BK" class="docSection2Title">How to Open a File</H4>
<div class="docText"><pre>  <span class="docEmphasis">handle</span> = open(<span class="docEmphasis">file_name</span>, <span class="docEmphasis">access_mode</span> = 'r')</pre></div><BR>
<p class="docText">The <span class="docEmphasis"><tt>file_name</tt></span> variable contains the string name of the file we wish to open, and <span class="docEmphasis"><tt>access_mode</tt></span> is either <tt>'r'</tt> for read, <tt>'w'</tt> for write, or <tt>'a'</tt> for append. Other flags that can be used in the <span class="docEmphasis"><tt>access_mode</tt></span> string include the <tt>'+'</tt> for dual read-write access and the <tt>'b'</tt> for binary access. If the mode is not provided, a default of read-only (<tt>'r'</tt>) is used to open the file.</P>
<p class="docText">If <tt>open()</tt> is successful, a file object will be returned as the handle (<span class="docEmphasis"><tt>handle</tt></span>). All succeeding access to this file must go through its file handle. Once a file object is returned, we then have access to the other functionality through its methods such as <tt>readlines()</tt> and <tt>close()</tt>. Methods are <span class="docEmphasis">attributes</span> of file objects and must be accessed via the dotted attribute notation (see the following Core Note).</p>
<a name="ch02note05"></a><div class="docNote"><p class="docNoteTitle">Core Note: What are attributes?</p><p><table width="90%" border="0" cellspacing="0" cellpadding="1"><TR><td width="60" valign="top">

<img border="0" alt="" align="LEFT" width="50" height="50" SRC="images/core_note.jpg">


</TD><td valign="top"><p class="docText"><span class="docEmphasis">Attributes are items associated with a piece of data. Attributes can be simple data values or executable objects such as functions and methods. What kind of objects have attributes? Many. Classes, modules, files, and complex numbers just some of the Python objects that have attributes.</span></P><p class="docText"><a name="iddle1818"></a><a name="iddle1853"></a><a name="iddle1972"></a><a name="iddle1983"></a><a name="iddle4102"></a><a name="iddle4232"></a><span class="docEmphasis">How do I access object attributes? With the</span> dotted attribute notation, <span class="docEmphasis">that is, by putting together the object and attribute names, separated by a dot or period:</span> <tt>object.attribute.</tt></p></TD></TR></table></p></div><br>
<p class="docText">Here is some code that prompts the user for the name of a text file, then opens the file and displays its contents to the screen:</p>
<div class="docText"><pre>  filename = raw_input('Enter file name: ')
  fobj = open(filename, 'r')
  <span class="docEmphStrong">for</span> eachLine <span class="docEmphStrong">in</span> fobj:
     <span class="docEmphStrong">print</span> eachLine,
  fobj.close()</pre></div><br>
<p class="docText">Rather than looping to read and display one line at a time, our code does something a little different. We read all lines in one fell swoop, close the file, and <span class="docEmphasis">then</span> iterate through the lines of the file. One advantage to coding this way is that it permits the file access to complete more quickly. The output and file access do not have to alternate back and forth between reading a line and printing a line. It is cleaner and separates two somewhat unrelated tasks. The caveat here is the file size. The code above is reasonable for files with reasonable sizes. Very large data files may take up too much memory, in which case you would have to revert back to reading one line at a time. (A good example can be found in the next section.)</P>
<p class="docText">The other interesting statement in our code is that we are again using the comma at the end of the <span class="docEmphStrong"><tt>print</tt></span> statement to suppress the printing of the NEWLINE character. Why? Because each text line of the file already contains NEWLINEs at the end of every line. If we did not suppress the NEWLINE from being added by <span class="docEmphStrong"><tt>print</tt></span>, our display would be double-spaced.</p>
<p class="docText">The <tt>file()</tt> built-in function was recently added to Python. It is identical to <tt>open()</tt>, but is named in such a way to indicate that is a factory function (producing file objects), similar to how <tt>int()</tt> produces integers and <tt>dict()</tt> results in dictionary objects. In <a class="docLink" href="ch09.html#ch09">Chapter 9</a>, we cover file objects, their built-in methods attributes, and how to access your local file system. Please refer to <a class="docLink" href="ch09.html#ch09">Chapter 9</a> for all the details.</p>


<a href="14051536.html"><img src="images/pixel.jpg" alt="" width="1" height="1" border="0"></a></TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch02lev1sec14.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch02lev1sec16.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>