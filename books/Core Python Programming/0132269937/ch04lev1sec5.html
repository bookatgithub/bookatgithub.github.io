<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 4.5.&nbsp; Standard Type Operators</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch04lev1sec4.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch04lev1sec6.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><TD valign="top"><a name="ch04lev1sec5"></a>

<h3 id="700181-953" class="docSection1Title">4.5. Standard Type Operators</H3>
<a name="ch04lev2sec10"></a>
<h4 id="title-IDA430KN" class="docSection2Title">4.5.1. Object Value Comparison</H4>

<p class="docText">
<img border="0" alt="" id="195131084199" width="50" height="47" SRC="images/2_3.jpg"></P>


<p class="docText"><a name="iddle2347"></a><a name="iddle3168"></a><a name="iddle3202"></a><a name="iddle3207"></a><a name="iddle3930"></a><a name="iddle4411"></a><a name="iddle4416"></a>Comparison operators are used to determine equality of two data values between members of the same type. These comparison operators are supported for all built-in types. Comparisons yield Boolean <tt>TRue</tt> or <tt>False</tt> values, based on the validity of the comparison expression. (If you are using Python prior to 2.3 when the Boolean type was introduced, you will see integer values 1 for <tt>TRue</tt> and 0 for <tt>False</tt>.) A list of Python's value comparison operators is given in <a class="docLink" href="#ch04table01">Table 4.1</a>.</p>
<a name="ch04table01"></a><p><table cellspacing="0" FRAME="hsides" RULES="none" cellpadding="5"><caption><h5 class="docTableTitle">Table 4.1. Standard Type Value Comparison Operators</H5></caption><colgroup align="left" span="2"><col width="150"><col width="300"></colgroup><thead><tr><th class="thead" scope="col" align="left" valign="top"><p class="docText"><span class="docEmphasis">Operator</span></P></th><th class="thead" scope="col" align="left" valign="top"><p class="docText"><span class="docEmphasis">Function</span></p></th></TR></thead><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>expr1 &lt; expr2</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis">expr1</span> is less than <span class="docEmphasis">expr2</span></p></td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>expr1 &gt; expr2</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis">expr1</span> is greater than <span class="docEmphasis">expr2</span></p></TD></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>expr1 &lt;= expr2</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis">expr1</span> is less than or equal to <span class="docEmphasis">expr2</span></p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>expr1 &gt;= expr2</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis">expr1</span> is greater than or equal to <span class="docEmphasis">expr2</span></p></TD></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>expr1 == expr2</tt></P></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis">expr1</span> is equal to <span class="docEmphasis">expr2</span></P></TD></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>expr1 != expr2</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis">expr1</span> is not equal to <span class="docEmphasis">expr2</span> (C-style)</P></td></TR><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>expr1 &lt;&gt; expr2</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis">expr1</span> is not equal to <span class="docEmphasis">expr2</span> (ABC/Pascal-style)<sup class="docFootnote"><a class="docLink" href="#ch04fn01">[a]</a></sup></p></td></TR></table></p><br><blockquote><p class="docFootnote"><sup><a name="ch04fn01">[a]</a></sup> This &quot;not equal&quot; sign will be phased out in future version of Python. Use <tt>!=</tt> instead.</P></blockquote>
<p class="docText">Note that comparisons performed are those that are appropriate for each data type. In other words, numeric types will be compared according to numeric value in sign and magnitude, strings will compare lexicographically, etc.</p>
<div class="docText"><pre>&gt;&gt;&gt; 2 == 2
True
&gt;&gt;&gt; 2.46 &lt;= 8.33
True
&gt;&gt;&gt; 5+4j &gt;= 2-3j
True
&gt;&gt;&gt; 'abc' == 'xyz'
False
&gt;&gt;&gt; 'abc' &gt; 'xyz'
False
&gt;&gt;&gt; 'abc' &lt; 'xyz'
True
&gt;&gt;&gt; [3, 'abc'] == ['abc', 3]
False
&gt;&gt;&gt; [3, 'abc'] == [3, 'abc']
True</pre></div><br>
<p class="docText">Also, unlike many other languages, multiple comparisons can be made on the same line, evaluated in left-to-right order:</p>
<div class="docText"><pre>&gt;&gt;&gt; 3 &lt; 4 &lt; 7           # same as ( 3 &lt; 4 ) and ( 4 &lt; 7 )
True
&gt;&gt;&gt; 4 &gt; 3 == 3         # same as ( 4 &gt; 3 ) and ( 3 == 3 )
True
&gt;&gt;&gt; 4 &lt; 3 &lt; 5 != 2 &lt; 7
False</pre></div><BR>
<p class="docText">We would like to note here that comparisons are strictly between object values, meaning that the comparisons are between the data values and not the <a name="iddle3190"></a>actual data objects themselves. For the latter, we will defer to the object identity comparison operators described next.</P>

<a name="ch04lev2sec11"></a>
<h4 id="title-IDA2G1KN" class="docSection2Title">4.5.2. Object Identity Comparison</h4>
<p class="docText">In addition to value comparisons, Python also supports the notion of directly <span class="docEmphasis">comparing objects</span> themselves. Objects can be assigned to other variables (by reference). Because each variable points to the same (shared) data object, any change effected through one variable will change the object and hence be reflected through all references to the same object.</p>
<p class="docText">In order to understand this, you will have to think of variables as linking to objects now and be less concerned with the values themselves. Let us take a look at three examples.</p>
<p class="docText"><span class="docEmphBoldItalic">Example 1: foo1 and foo2 reference the same object</span></p>
<div class="docText"><pre>foo1 = foo2 = 4.3</pre></div><br>
<p class="docText">When you look at this statement from the value point of view, it appears that you are performing a multiple assignment and assigning the numeric value of 4.3 to both the <tt>foo1</tt> and <tt>foo2</tt> variables. This is true to a certain degree, but upon lifting the covers, you will find that a numeric object with the contents or value of 4.3 has been created. Then that object's reference is assigned to both <tt>foo1</tt> and <tt>foo2</tt>, resulting in both <tt>foo1</tt> and <tt>foo2</tt> aliased to the same object. <a class="docLink" href="#ch04fig01">Figure 4-1</a> shows an object with two references.</p>

<p class="docText"></p><a name="ch04fig01"></a><p><center>

<h5 class="docFigureTitle">Figure 4-1. <tt>foo1</tt> and <tt>foo2</tt> reference the same object</h5>

<p class="docText">
<img border="0" alt="" id="195131084199" width="200" height="73" SRC="images/chun_fig04_01.jpg"></p>


</center></P><br>
<p class="docText"><span class="docEmphBoldItalic">Example 2: foo1 and foo2 reference the same object</span></P>
<div class="docText"><pre>foo1 = 4.3
foo2 = foo1</pre></div><br>
<p class="docText">This example is very much like the first: A numeric object with value 4.3 is created, then assigned to one variable. When <tt>foo2 = foo1</tt> occurs, <tt>foo2</tt> is directed to the same object as <tt>foo1</tt> since Python deals with objects by passing references. <tt>foo2</tt> then becomes a new and additional reference for the original value. So both <tt>foo1</tt> and <tt>foo2</tt> now point to the same object. The same figure above applies here as well.</P>
<p class="docText"><span class="docEmphBoldItalic">Example 3: foo1 and foo2 reference different objects</span></p>
<div class="docText"><pre>foo1 = 4.3
foo2 = 1.3 + 3.0</pre></div><BR>
<p class="docText">This example is different. First, a numeric object is created, then assigned to <tt>foo1</tt>. Then a second numeric object is created, and this time assigned to <tt>foo2</tt>. Although both objects are storing the exact same value, there are indeed two distinct objects in the system, with <tt>foo1</tt> pointing to the first, and <tt>foo2</tt> being a reference to the second. <a class="docLink" href="#ch04fig02">Figure 4-2</a> shows we now have two distinct objects even though both objects have the same value.</p>
<a name="ch04fig02"></a><P><center>

<H5 class="docFigureTitle">Figure 4-2. <tt>foo1</tt> and <tt>foo2</tt> reference different objects</H5>

<p class="docText">
<img border="0" alt="" id="195131084199" width="400" height="74" SRC="images/chun_fig04_02.jpg"></P>


</center></p><br>
<p class="docText">Why did we choose to use boxes in our diagrams? Well, a good way to visualize this concept is to imagine a box (with contents inside) as an object. When a variable is assigned an object, that creates a &quot;label&quot; to stick on the box, indicating a reference has been made. Each time a new reference to the same object is made, another sticker is put on the box. When references are abandoned, then a label is removed. A box can be &quot;recycled&quot; only when all the labels have been peeled off the box. How does the system keep track of how many labels are on a box?</p>
<p class="docText"><a name="iddle2547"></a><a name="iddle2621"></a><a name="iddle2628"></a><a name="iddle2840"></a><a name="iddle3112"></a><a name="iddle3574"></a>Each object has associated with it a counter that tracks the total number of references that exist to that object. This number simply indicates how many variables are &quot;pointing to&quot; any particular object. This is the <span class="docEmphasis">reference count</span> that we introduced in <a class="docLink" href="ch03.html#ch03">Chapter 3</a>, <a class="docLink" href="ch03lev1sec5.html#ch03lev2sec22">Sections 3.5.5</a>- 3.5.7 Python provides the <span class="docEmphStrong"><tt>is</tt></span> and <span class="docEmphStrong"><tt>is not</tt></span> operators to test if a pair of variables do indeed refer to the same object. Performing a check such as</P>
<div class="docText"><pre>a <span class="docEmphStrong">is</span> b

is an equivalent expression to


id(a) == id(b)</pre></div><br>
<p class="docText">The object identity comparison operators all share the same precedence level and are presented in <a class="docLink" href="#ch04table02">Table 4.2</a>.</P>
<a name="ch04table02"></a><p><table cellspacing="0" FRAME="hsides" RULES="none" cellpadding="5"><caption><H5 class="docTableTitle">Table 4.2. Standard Type Object Identity Comparison Operators</h5></caption><colgroup align="left" span="2"><col width="150"><col width="250"></colgroup><thead><TR><th class="thead" scope="col" align="left" valign="top"><p class="docText"><span class="docEmphasis">Operator</span></P></th><th class="thead" scope="col" align="left" valign="top"><p class="docText"><span class="docEmphasis">Function</span></p></th></tr></thead><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis"><tt>obj1</tt></span> <span class="docEmphStrong"><tt>is</tt></span> <span class="docEmphasis"><tt>obj2</tt></span></P></td><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis">obj1</span> is the same object as <span class="docEmphasis">obj2</span></P></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis"><tt>obj1</tt></span> <span class="docEmphStrong"><tt>is not</tt></span> <span class="docEmphasis"><tt>obj2</tt></span></P></td><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis">obj1</span> is not the same object as <span class="docEmphasis">obj2</span></p></td></tr></table></p><br>
<p class="docText">In the example below, we create a variable, then another that points to the same object.</p>
<div class="docText"><pre>&gt;&gt;&gt; a = [ 5, 'hat', -9.3]
&gt;&gt;&gt; b = a
&gt;&gt;&gt; a <span class="docEmphStrong">is</span> b
True
&gt;&gt;&gt; a <span class="docEmphStrong">is not</span> b
False
&gt;&gt;&gt;
&gt;&gt;&gt; b = 2.5e-5
&gt;&gt;&gt; b
2.5e-005
&gt;&gt;&gt; a
[5, 'hat', -9.3]
&gt;&gt;&gt; a <span class="docEmphStrong">is</span> b
False
&gt;&gt;&gt; a <span class="docEmphStrong">is not</span> b
True</pre></div><br>
<p class="docText">Both the <span class="docEmphStrong"><tt>is</tt></span> and <span class="docEmphStrong"><tt>not</tt></span> identifiers are Python keywords.</p>
<a name="ch04note02"></a><div class="docNote"><p class="docNoteTitle">Core Note: Interning</p><p><table width="90%" border="0" cellspacing="0" cellpadding="1"><TR><td width="60" valign="top"><img border="0" alt="" id="195131084199" align="LEFT" width="50" height="50" SRC="images/core_note.jpg">


</TD><td valign="top"><p class="docText"><a name="iddle1081"></a><a name="iddle1218"></a><a name="iddle2526"></a><a name="iddle3166"></a><a name="iddle3244"></a><a name="iddle3330"></a><a name="iddle3925"></a><span class="docEmphasis">In the above examples with the</span> <tt>foo1</tt> <span class="docEmphasis">and</span> <tt>foo2</tt> <span class="docEmphasis">objects, you will notice that we use floating point values rather than integers. The reason for this is although integers and strings are immutable objects, Python sometimes caches them to be more efficient. This would have caused the examples to appear that Python is not creating a new object when it should have. For example:</span></P><div class="docText"><pre>&gt;&gt;&gt; a = 1
&gt;&gt;&gt; id(a)
8402824
&gt;&gt;&gt; b = 1
&gt;&gt;&gt; id(b)
8402824
&gt;&gt;&gt;
&gt;&gt;&gt; c = 1.0
&gt;&gt;&gt; id(c)
8651220
&gt;&gt;&gt; d = 1.0
&gt;&gt;&gt; id(d)
8651204</pre></div><br><p class="docText"><span class="docEmphasis">In the above example, <span class="docEmphasis"><tt>a</tt></span> and <span class="docEmphasis"><tt>b</tt></span> reference the same integer object, but <span class="docEmphasis"><tt>c</tt></span> and <span class="docEmphasis"><tt>d</tt></span> do not reference the same float object. If we were purists, we would want <span class="docEmphasis"><tt>a</tt></span> and <span class="docEmphasis"><tt>b</tt></span> to work just like <span class="docEmphasis"><tt>c</tt></span> and <span class="docEmphasis"><tt>d</tt></span> because we really did ask to create a new integer object rather than an alias, as in <span class="docEmphasis"><tt>b = a</tt>.</span></span></P><p class="docText"><span class="docEmphasis">Python caches or interns only simple integers that it believes will be used frequently in any Python application. At the time of this writing, Python interns integers in the <span class="docEmphasis"><tt>range(-1, 100)</tt></span> but this is subject to change, so do not code your application to expect this</span>.</p>
<p class="docText">
<img border="0" alt="" id="195131084199" width="50" height="47" SRC="images/2_3.jpg"></P>

<p class="docText"><span class="docEmphasis">In <a class="docLink" href="ch05lev1sec2.html#ch05lev3sec4">Python 2.3</a>, the decision was made to no longer intern strings that do not have at least one reference outside of the &quot;interned strings table.&quot; This means that without that reference, interned strings are no longer immortal and subject to garbage collection like everything else. A BIF introduced in 1.5 to request interning of strings,</span> <tt>intern()</tt><span class="docEmphasis">, has now been deprecated as a result</span>.</P></TD></TR></table></p></div><br>

<a name="ch04lev2sec12"></a>
<h4 id="title-IDATX1KN" class="docSection2Title">4.5.3. Boolean</H4>
<p class="docText">Expressions may be linked together or negated using the Boolean logical operators <span class="docEmphStrong"><tt>and, or</tt></span>, and <span class="docEmphStrong"><tt>not</tt></span>, all of which are Python keywords. These Boolean <a name="iddle1082"></a><a name="iddle2215"></a><a name="iddle3331"></a><a name="iddle3917"></a>operations are in highest-to-lowest order of precedence in <a class="docLink" href="#ch04table03">Table 4.3</a>. The <span class="docEmphStrong"><tt>not</tt></span> operator has the highest precedence and is immediately one level below all the comparison operators. The <span class="docEmphStrong"><tt>and</tt></span> and <span class="docEmphStrong"><tt>or</tt></span> operators follow, respectively.</p>
<a name="ch04table03"></a><P><table cellspacing="0" FRAME="hsides" RULES="none" cellpadding="5"><caption><h5 class="docTableTitle">Table 4.3. Standard Type Boolean Operators</H5></caption><colgroup align="left" span="2"><col width="150"><col width="300"></colgroup><thead><tr><th class="thead" scope="col" align="left" valign="top"><p class="docText"><span class="docEmphasis">Operator</span></P></th><th class="thead" scope="col" align="left" valign="top"><p class="docText"><span class="docEmphasis">Function</span></P></th></tr></thead><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphStrong"><tt>not</tt></span> <span class="docEmphasis"><tt>expr</tt></span></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Logical NOT of <span class="docEmphasis">expr</span> (negation)</p></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis"><tt>expr1</tt></span> <span class="docEmphStrong"><tt>and</tt></span> <span class="docEmphasis"><tt>expr2</tt></span></P></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Logical AND of <span class="docEmphasis">expr1</span> and <span class="docEmphasis">expr2</span> (conjunction)</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis"><tt>expr1</tt></span> <span class="docEmphStrong"><tt>or</tt></span><span class="docEmphasis"><tt>expr2</tt></span></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Logical OR of <span class="docEmphasis">expr1</span> and <span class="docEmphasis">expr2</span> (disjunction)</p></td></tr></table></P><br>
<div class="docText"><pre>&gt;&gt;&gt; x, y = 3.1415926536, -1024
&gt;&gt;&gt; x &lt; 5.0
True
&gt;&gt;&gt; <span class="docEmphStrong">not</span> (x &lt; 5.0)
False
&gt;&gt;&gt; (x &lt; 5.0) <span class="docEmphStrong">or</span> (y &gt; 2.718281828)
True
&gt;&gt;&gt; (x &lt; 5.0) <span class="docEmphStrong">and</span> (y &gt; 2.718281828)
False
&gt;&gt;&gt; <span class="docEmphStrong">not</span> (x <span class="docEmphStrong">is</span> y)
True</pre></div><BR>
<p class="docText">Earlier, we introduced the notion that Python supports multiple comparisons within one expression. These expressions have an implicit <span class="docEmphStrong"><tt>and</tt></span> operator joining them together.</p>
<div class="docText"><pre>&gt;&gt;&gt; 3 &lt; 4 &lt; 7    # same as "( 3 &lt; 4 ) <span class="docEmphStrong">and</span> ( 4 &lt; 7 )"
True</pre></div><BR>


</TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch04lev1sec4.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch04lev1sec6.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>