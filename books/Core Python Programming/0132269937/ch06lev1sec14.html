<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 6.14.&nbsp; List Type Built-in Methods</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch06lev1sec13.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch06lev1sec15.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><TD valign="top"><a href="14051536.html"><img src="images/pixel.jpg" alt="" width="1" height="1" border="0"></a><a name="ch06lev1sec14"></a>
<h3 id="title-IDAMOYSC" class="docSection1Title">6.14. List Type Built-in Methods</H3>
<p class="docText">Lists in Python have <span class="docEmphasis">methods</span>. We will go over methods more formally in an introduction to object-oriented programming in <a class="docLink" href="ch13.html#ch13">Chapter 13</a>, but for now think of methods as functions or procedures that apply only to specific objects. So the methods described in this section behave just like built-in functions except that they operate only on lists. Since these functions involve the mutability (or updating) of lists, none of them is applicable for tuples.</p>
<p class="docText">You may recall our earlier discussion of accessing object attributes using the dotted attribute notation: <span class="docEmphasis"><tt>object.attribute</tt></span>. List methods are no different, using <span class="docEmphasis"><tt>list.method()</tt></span>. We use the dotted notation to access the attribute (here it is a function), then use the function operators ( <span class="docEmphStrong"><tt>( )</tt></span> ) in a functional notation to invoke the methods.</P>
<p class="docText">We can use <tt>dir()</tt> on a list object to get its attributes including its methods:</P>
<div class="docText"><pre>&gt;&gt;&gt; dir(list)    # or dir([])
['__add__', '__class__', '__contains__', '__delattr__',
'__delitem__', '__delslice__', '__doc__', '__eq__',
'__ge__', '__getattribute__', '__getitem__',
'__getslice__', '__gt__', '__hash__', '__iadd__',
'__imul__', '__init__', '__iter__', '__le__', '__len__',
'__lt__', '__mul__', '__ne__', '__new__', '__reduce__',
'__reduce_ex__', '__repr__', '__reversed__', '__rmul__',
'__setattr__', '__setitem__', '__setslice__', '__str__',
'append', 'count', 'extend', 'index', 'insert', 'pop',
'remove', 'reverse', 'sort']</pre></div><BR>
<p class="docText"><a class="docLink" href="#ch06table11">Table 6.11</a> shows all the methods currently available for lists. Some examples of using various list methods are shown later.</P>

<p class="docText"></p><a name="ch06table11"></a><p><table cellspacing="0" FRAME="hsides" RULES="none" cellpadding="5"><caption><h5 class="docTableTitle">Table 6.11. List Type Built-in Methods</H5></caption><colgroup align="left" span="2"><col width="50"><col width="300"></colgroup><thead><tr><th class="thead" scope="col" align="left" valign="top"><p class="docText"><span class="docEmphasis">List Method</span></P></th><th class="thead" scope="col" align="left" valign="top"><p class="docText"><span class="docEmphasis">Operation</span></p></th></TR></thead><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis"><tt>list.</tt></span><tt>append(</tt><span class="docEmphasis"><tt>obj</tt></span><tt>)</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Adds <span class="docEmphasis"><tt>obj</tt></span> to the end of <span class="docEmphasis"><tt>list</tt></span></p></td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis"><tt>list.</tt></span><tt>count(</tt><span class="docEmphasis"><tt>obj</tt></span><tt>)</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Returns count of how many times <span class="docEmphasis"><tt>obj</tt></span> occurs in <span class="docEmphasis"><tt>list</tt></span></p></TD></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis"><tt>list.</tt></span><tt>extend(</tt><span class="docEmphasis"><tt>seq</tt></span><tt>)</tt><sup class="docFootnote"><a class="docLink" href="#ch06fna4">[a]</a></sup></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Appends contents of <span class="docEmphasis"><tt>seq</tt></span> to <span class="docEmphasis"><tt>list</tt></span></p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis"><tt>list.</tt></span><tt>index(</tt><span class="docEmphasis"><tt>obj, i=0, j=len(list)</tt></span><tt>)</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Returns lowest index <span class="docEmphasis"><tt>k</tt></span> where <span class="docEmphasis"><tt>list[k]==obj</tt></span> and <span class="docEmphasis"><tt>i&lt;= k&lt;j</tt></span>; otherwise <tt>ValueError</tt> raised</p></TD></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis"><tt>list.</tt></span><tt>insert(</tt><span class="docEmphasis"><tt>index, obj</tt></span><tt>)</tt></P></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Inserts <span class="docEmphasis"><tt>obj</tt></span> into <span class="docEmphasis"><tt>list</tt></span> at offset <span class="docEmphasis"><tt>index</tt></span></P></TD></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis"><tt>list.</tt></span><tt>pop(</tt><span class="docEmphasis"><tt>index=</tt></span><tt>-1)</tt><sup class="docFootnote"><a class="docLink" href="#ch06fna4">[a]</a></sup></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Removes and returns <span class="docEmphasis"><tt>obj</tt></span> at given or last <span class="docEmphasis"><tt>index</tt></span> from <span class="docEmphasis"><tt>list</tt></span></P></td></TR><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis"><tt>list.</tt></span><tt>remove(</tt><span class="docEmphasis"><tt>obj</tt></span><tt>)</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Removes object <span class="docEmphasis">obj</span> from <span class="docEmphasis"><tt>list</tt></span></p></td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis"><tt>list.</tt></span><tt>reverse()</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Reverses objects of <span class="docEmphasis"><tt>list</tt></span> in place</p></TD></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis"><tt>list.</tt></span><tt>sort(</tt><span class="docEmphasis"><tt>func=</tt></span><tt>None,</tt> <span class="docEmphasis"><tt>key=</tt></span><tt>None,</tt> <span class="docEmphasis"><tt>reverse=</tt></span><tt>False)</tt><sup class="docFootnote"><a class="docLink" href="#ch06fnb4">[b]</a></sup></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Sorts list members with optional comparison <span class="docEmphasis"><tt>func</tt></span>tion; <span class="docEmphasis"><tt>key</tt></span> is a callback when extracting elements for sorting, and if <span class="docEmphasis"><tt>reverse</tt></span> flag is <tt>true</tt>, then list is sorted in reverse order</p></td></tr></table></p><br><blockquote><p class="docFootnote"><sup><a name="ch06fna4">[a]</a></sup> New in Python 1.5.2.</p></blockquote><blockquote><p class="docFootnote"><sup><a name="ch06fnb4">[b]</a></sup> Support for <tt>key</tt> and <tt>reverse</tt> added in <a class="docLink" href="ch05lev1sec2.html#ch05lev3sec4">Python 2.4</a>.</P></blockquote>
<div class="docText"><pre>&gt;&gt;&gt; music_media = [45]
&gt;&gt;&gt; music_media
[45]
&gt;&gt;&gt;
&gt;&gt;&gt; music_media.insert(0, 'compact disc')
&gt;&gt;&gt; music_media
['compact disc', 45]
&gt;&gt;&gt;
&gt;&gt;&gt; music_media.append('long playing record')
&gt;&gt;&gt; music_media
['compact disc', 45, 'long playing record']
&gt;&gt;&gt;
&gt;&gt;&gt; music_media.insert(2, '8-track tape')
&gt;&gt;&gt; music_media
['compact disc', 45, '8-track tape', 'long playing record']</pre></div><br>
<p class="docText"><a name="iddle1925"></a><a name="iddle3014"></a><a name="iddle3197"></a><a name="iddle3648"></a><a name="iddle3656"></a><a name="iddle3882"></a>In the preceding example, we initiated a list with a single element, then checked the list as we either inserted elements within the list, or appended new items at the end. Let's now determine if elements are in a list and how to find out the location of where items are in a list. We do this by using the <span class="docEmphStrong"><tt>in</tt></span> operator and <tt>index()</tt> method.</P>
<div class="docText"><pre>&gt;&gt;&gt; 'cassette' <span class="docEmphStrong">in</span> music_media
False
&gt;&gt;&gt; 'compact disc' <span class="docEmphStrong">in</span> music_media
True
&gt;&gt;&gt; music_media.index(45)
1
&gt;&gt;&gt; music_media.index('8-track tape')
2
&gt;&gt;&gt; music_media.index('cassette')
Traceback (innermost last):
 File "&lt;interactive input&gt;", line 0, in ?
ValueError: list.index(x): x not in list</pre></div><br>
<p class="docText">Oops! What happened in that last example? Well, it looks like using <tt>index()</tt> to check if items are in a list is not a good idea, because we get an error. It would be safer to check using the membership operator <span class="docEmphStrong"><tt>in</tt></span> (or <span class="docEmphStrong"><tt>not in</tt></span>) first, and then using <tt>index()</tt> to find the element's location. We can put the last few calls to <tt>index()</tt> in a single <span class="docEmphStrong"><tt>for</tt></span> loop like this:</P>
<div class="docText"><pre><span class="docEmphStrong">for</span> eachMediaType <span class="docEmphStrong">in</span> (45, '8-track tape', 'cassette'):
   <span class="docEmphStrong">if</span> eachMediaType <span class="docEmphStrong">in</span> music_media:
       <span class="docEmphStrong">print</span> music_media.index(eachMediaType)</pre></div><br>
<p class="docText">This solution helps us avoid the error we encountered above because <tt>index()</tt> is not called unless the object was found in the list. We will find out later how we can take charge if the error occurs, instead of bombing out as we did above.</P>
<p class="docText">We will now test drive <tt>sort()</tt> and <tt>reverse()</tt>, methods that will sort and reverse the elements of a list, respectively.</p>
<div class="docText"><pre>&gt;&gt;&gt; music_media
['compact disc', 45, '8-track tape', 'long playing record']
&gt;&gt;&gt; music_media.sort()
&gt;&gt;&gt; music_media
[45, '8-track tape', 'compact disc', 'long playing record']
&gt;&gt;&gt; music_media.reverse()
&gt;&gt;&gt; music_media
['long playing record', 'compact disc', '8-track tape', 45]</pre></div><BR>
<a name="ch06note03"></a><div class="docNote"><p class="docNoteTitle">Core Note: Mutable object methods that alter the object have no return value!</P><P><table width="90%" border="0" cellspacing="0" cellpadding="1"><TR><td width="60" valign="top"><img border="0" alt="" align="LEFT" width="50" height="50" SRC="images/core_note.jpg">


</td><td valign="top"><p class="docText"><a name="iddle1567"></a><a name="iddle2653"></a><a name="iddle2667"></a><a name="iddle2690"></a><a name="iddle2700"></a><a name="iddle2704"></a><a name="iddle2713"></a><a name="iddle2714"></a><a name="iddle3906"></a><span class="docEmphasis">One very obvious place where new Python programmers get caught is when using methods that you</span> think <span class="docEmphasis">should return a value. The most obvious one is</span> <tt>sort()</tt><span class="docEmphasis">:</span></P><div class="docText"><pre>&gt;&gt;&gt; music_media.sort()        # where is the output?!?
&gt;&gt;&gt;</pre></div><br><p class="docText"><span class="docEmphasis">The caveat about mutable object methods like <tt>sort()</tt>, <tt>extend()</tt>, and <tt>reverse()</tt> is that these will perform their operation on a list in place, meaning that the contents of the existing list will be changed, but return <tt>None</tt>! Yes, it does fly in the face of string methods that</span> do <span class="docEmphasis">return values:</span></P><div class="docText"><pre>&gt;&gt;&gt; 'leanna, silly girl!'.upper()
'LEANNA, SILLY GIRL!'</pre></div><br><p class="docText"><span class="docEmphasis">Recall that strings are immutablemethods of immutable objects cannot modify them, so they do have to return a new object. If returning an object is a necessity for you, then we recommend that you look at the <tt>reversed()</tt> and <tt>sorted()</tt> built-in functions introduced in <a class="docLink" href="ch05lev1sec2.html#ch05lev3sec4">Python 2.4</a>.</span></P><p class="docText"><span class="docEmphasis">These work just like the list methods only they can be used in expressions because they do return objects. However, obviously the original list object is left as is, and you are getting a new object back.</span></p></TD></TR></table></p></div><br>
<p class="docText">Going back to the <tt>sort()</tt> method, the default sorting algorithm employed by the <tt>sort()</tt> method is a derivative of MergeSort (modestly named &quot;timsort&quot;), which is O(lg(n!)). We defer all other explanation to the build files where you can get all the detailssource code: <tt>Objects/listobject.c</tt> and algorithm description: <tt>Objects/listsort.txt</tt>.</p>
<p class="docText">The <tt>extend()</tt> method will take the contents of one list and append its elements to another list:</p>
<div class="docText"><pre>&gt;&gt;&gt; new_media = ['24/96 digital audio disc', 'DVD Audio
disc', 'Super Audio CD']
&gt;&gt;&gt; music_media.extend(new_media)
&gt;&gt;&gt; music_media
['long playing record', 'compact disc', '8-track tape',
45, '24/96 digital audio disc', 'DVD Audio disc', 'Super
Audio CD']</pre></div><BR>
<p class="docText">The argument to <tt>extend()</tt> can be any iterable, starting with 2.2. Prior to that, it had to be a sequence object, and prior to 1.6, it had to be a list. With an iterable (instead of a sequence), you can do more interesting things like:</p>
<div class="docText"><pre>&gt;&gt;&gt; motd = []
&gt;&gt;&gt; motd.append('MSG OF THE DAY')
&gt;&gt;&gt; f = open('/etc/motd', 'r')
&gt;&gt;&gt; motd.extend(f)
&gt;&gt;&gt; f.close()
&gt;&gt;&gt; motd
['MSG OF THE DAY', 'Welcome to Darwin!\n']</pre></div><br>
<p class="docText"><tt>pop()</tt>, introduced in 1.5.2, will either return the last or requested item from a list and return it to the caller. We will see the <tt>pop()</tt> method in <a class="docLink" href="ch06lev1sec15.html#ch06lev2sec33">Section 6.15.1</a> as well as in the Exercises.</P>

<a href="14051536.html"><img src="images/pixel.jpg" alt="" width="1" height="1" border="0"></a></TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch06lev1sec13.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch06lev1sec15.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>