<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 7.7.&nbsp; Set Type Operators</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch07lev1sec6.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch07lev1sec8.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><TD valign="top"><a name="ch07lev1sec7"></a>
<h3 id="title-IDATN3KN" class="docSection1Title">7.7. Set Type Operators</H3>
<a name="ch07lev2sec9"></a>
<h4 id="title-IDA2N3KN" class="docSection2Title">7.7.1. Standard Type Operators (all set types)</H4>
<a name="ch07lev3sec18"></a>
<H5 id="title-IDAFO3KN" class="docSection3Title">Membership (<span class="docEmphStrong"><tt>in, not in</tt></span>)</H5>
<p class="docText">As for sequences, Python's in and not in operators are used to determine whether an element is (or is not) a member of a set.</P>
<div class="docText"><pre>    &gt;&gt;&gt; s = set('cheeseshop')
    &gt;&gt;&gt; t = frozenset('bookshop')
    &gt;&gt;&gt; 'k' <span class="docEmphStrong">in</span> s
    False
    &gt;&gt;&gt; 'k' <span class="docEmphStrong">in</span> t
    True
    &gt;&gt;&gt; 'c'  <span class="docEmphStrong">not in</span> t
    True</pre></div><br>

<a name="ch07lev3sec19"></a>
<h5 id="title-IDALP3KN" class="docSection3Title">Set Equality/Inequality</h5>
<p class="docText"><a name="iddle1002"></a><a name="iddle1022"></a><a name="iddle1023"></a><a name="iddle1041"></a><a name="iddle1042"></a><a name="iddle2270"></a><a name="iddle2532"></a><a name="iddle2665"></a><a name="iddle3262"></a><a name="iddle3324"></a><a name="iddle3787"></a><a name="iddle3801"></a><a name="iddle3806"></a><a name="iddle4079"></a><a name="iddle4090"></a><a name="iddle4355"></a>Equality (or inequality) may be checked between the same or different set types. Two sets are equal if and only if every member of each set is a member of the other. You can also say that each set must be a(n improper) subset of the other, e.g., both expressions <tt>s &lt;= t</tt> and <tt>s &gt;= t</tt> are true, or (<tt>s &lt;= t</tt> <span class="docEmphStrong"><tt>and</tt></span> <tt>s &gt;= t</tt>) <span class="docEmphStrong"><tt>is</tt></span> <tt>TRue</tt>. Equality (or inequality) is independent of set type or ordering of members when the sets were createdit is all based on the set membership.</p>
<div class="docText"><pre>    &gt;&gt;&gt; s == t
    False
    &gt;&gt;&gt; s != t
    True
    &gt;&gt;&gt; u = frozenset(s)
    &gt;&gt;&gt; s == u
    True
    &gt;&gt;&gt; set('posh') == set('shop')
    True</pre></div><BR>

<a name="ch07lev3sec20"></a>
<h5 id="title-IDAWU3KN" class="docSection3Title">Subset Of/Superset Of</H5>
<p class="docText">Sets use the Python comparison operators to check whether sets are subsets or supersets of other sets. The &quot;less than&quot; symbols (<tt>&lt;, &lt;=</tt> ) are used for subsets while the &quot;greater than&quot; symbols (<tt>&gt;, &gt;=</tt> ) are used for supersets.</p>
<p class="docText">Less-than and greater-than imply strictness, meaning that the two sets being compared cannot be equal to each other. The equal sign allows for less strict improper subsets and supersets.</P>
<p class="docText">Sets support both proper (<tt>&lt;</tt> ) and improper (<tt>&lt;=</tt> ) subsets as well as proper (<tt>&gt;</tt> ) and improper (<tt>&gt;=</tt> ) supersets. A set is &quot;less than&quot; another set if and only if the first set is a proper subset of the second set (is a subset but not equal), and a set is &quot;greater than&quot; another set if and only if the first set is a proper superset of the second set (is a superset but not equal).</P>
<div class="docText"><pre>    &gt;&gt;&gt; set('shop') &lt; set('cheeseshop')
    True
    &gt;&gt;&gt; set('bookshop') &gt;= set('shop')
    True</pre></div><br>


<a name="ch07lev2sec10"></a>

<h4 id="title-IDAAW3KN" class="docSection2Title">7.7.2. Set Type Operators (All Set Types)</h4>
<a name="ch07lev3sec21"></a>
<h5 id="title-IDAJW3KN" class="docSection3Title">Union ( | )</H5>
<p class="docText"><a name="iddle1007"></a><a name="iddle1019"></a><a name="iddle1702"></a><a name="iddle2923"></a><a name="iddle3248"></a><a name="iddle3317"></a><a name="iddle3624"></a><a name="iddle3781"></a><a name="iddle3792"></a><a name="iddle3802"></a><a name="iddle4095"></a>The union operation is practically equivalent to the OR (or inclusive disjunction) of sets. The union of two sets is another set where each element is a member of at least one of the sets, i.e., a member of one set <span class="docEmphasis">or</span> the other. The union symbol has a method equivalent, <tt>union().</tt></p>
<div class="docText"><pre>    &gt;&gt;&gt; s | t
    set(['c', 'b', 'e', 'h', 'k', 'o', 'p', 's'])</pre></div><br>

<a name="ch07lev3sec22"></a>
<H5 id="title-IDAE03KN" class="docSection3Title">Intersection ( &amp; )</h5>
<p class="docText">You can think of the intersection operation as the AND (or conjunction) of sets. The intersection of two sets is another set where each element must be a member of at both sets, i.e., a member of one set <span class="docEmphasis">and</span> the other. The intersection symbol has a method equivalent, <tt>intersection()</tt>.</p>
<div class="docText"><pre>    &gt;&gt;&gt; s &amp; t
    set(['h', 's', 'o', 'p']</pre></div><br>

<a name="ch07lev3sec23"></a>
<H5 id="title-IDA303KN" class="docSection3Title">Difference/Relative Complement ( - )</H5>
<p class="docText">The difference, or relative complement, between two sets is another set where each element is in one set but not the other. The difference symbol has a method equivalent, <tt>difference()</tt>.</p>
<div class="docText"><pre>    &gt;&gt;&gt; s - t
    set(['c', 'e'])</pre></div><br>

<a name="ch07lev3sec24"></a>
<h5 id="title-IDAU13KN" class="docSection3Title">Symmetric Difference ( ^ )</h5>
<p class="docText">Similar to the other Boolean set operations, symmetric difference is the XOR (or exclusive disjunction) of sets. The symmetric difference between two sets is another set where each element is a member of one set but not the other. The symmetric difference symbol has a method equivalent, <tt>symmetric_difference()</tt>.</p>
<div class="docText"><pre>    &gt;&gt;&gt; s ^ t
    set(['k', 'b', 'e', 'c'])</pre></div><br>

<a name="ch07lev3sec25"></a>
<h5 id="title-IDAL23KN" class="docSection3Title">Mixed Set Type Operations</h5>
<p class="docText">In the above examples, <tt>s</tt> is a set while <tt>t</tt> is a frozenset. Note that each of the resulting sets from using the set operators above result in sets. However note that the resulting type is different when the operands are reversed:</p>
<div class="docText"><pre>    &gt;&gt;&gt; t | s
    frozenset(['c', 'b', 'e', 'h', 'k', 'o', 'p', 's'])
    &gt;&gt;&gt; t ^ s
    frozenset(['c', 'b', 'e', 'k'])
    &gt;&gt;&gt; t - s
    frozenset(['k', 'b'])</pre></div><br>
<p class="docText"><a name="iddle1003"></a><a name="iddle1703"></a><a name="iddle2533"></a><a name="iddle3017"></a><a name="iddle3249"></a><a name="iddle3263"></a><a name="iddle3293"></a><a name="iddle3318"></a><a name="iddle3325"></a><a name="iddle3326"></a><a name="iddle3647"></a><a name="iddle3782"></a><a name="iddle3788"></a><a name="iddle3799"></a><a name="iddle3803"></a><a name="iddle3807"></a><a name="iddle3808"></a><a name="iddle4096"></a><a name="iddle4356"></a><a name="iddle4373"></a>If both types are sets or frozensets, then the type of the result is the same type as each of the operands, but if operations are performed on mixed types (set and frozenset, and vice versa), the type of the resulting set is the same type as the left operand, which we can verify in the above.</p>
<p class="docText">And no, the plus sign is not an operator for the set types:</p>
<div class="docText"><pre>    &gt;&gt;&gt; v = s + t
    Traceback (most recent call last):
      File "&lt;stdin&gt;", line 1, in ?
    TypeError: unsupported operand type(s) for +: 'set' and
    'set'
    &gt;&gt;&gt; v = s | t
    &gt;&gt;&gt; v
    set(['c', 'b', 'e', 'h', 'k', 'o', 'p', 's'])
    &gt;&gt;&gt; len(v)
    8
    &gt;&gt;&gt; s &lt; v
    True</pre></div><BR>


<a name="ch07lev2sec11"></a>
<h4 id="title-IDALTL3D" class="docSection2Title">7.7.3. Set Type Operators (Mutable Sets Only)</H4>
<a name="ch07lev3sec26"></a>
<h5 id="title-IDAUTL3D" class="docSection3Title">(Union) Update ( <tt>| =</tt> )</H5>
<p class="docText">The update operation adds (possibly multiple) members from another set to the existing set. The method equivalent is <tt>update()</tt>.</p>
<div class="docText"><pre>    &gt;&gt;&gt; s = set('cheeseshop')
    &gt;&gt;&gt; u = frozenset(s)
    &gt;&gt;&gt; s |= set('pypi')
    &gt;&gt;&gt; s
    set(['c', 'e', 'i', 'h', 'o', 'p', 's', 'y'])</pre></div><BR>

<a name="ch07lev3sec27"></a>
<h5 id="title-IDANUL3D" class="docSection3Title">Retention/Intersection Update ( <tt>&amp; =</tt> )</H5>
<p class="docText">The retention (or intersection update) operation keeps only the existing set members that are also elements of the other set. The method equivalent is <tt>intersection_update()</tt>.</P>
<div class="docText"><pre>    &gt;&gt;&gt; s = set(u)
    &gt;&gt;&gt; s &amp;= set('shop')
    &gt;&gt;&gt; s
    set(['h', 's', 'o', 'p'])</pre></div><BR>

<a name="ch07lev3sec28"></a>
<H5 id="title-IDAIVL3D" class="docSection3Title">Difference Update ( <tt>- =</tt> )</h5>
<p class="docText"><a name="iddle1960"></a><a name="iddle2103"></a><a name="iddle2212"></a><a name="iddle2662"></a><a name="iddle3769"></a><a name="iddle3774"></a><a name="iddle3784"></a><a name="iddle3786"></a><a name="iddle3789"></a><a name="iddle3800"></a><a name="iddle3922"></a>The difference update operation returns a set whose elements are members of the original set after removing elements that are (also) members of the other set. The method equivalent is <tt>difference_update()</tt>.</p>
<div class="docText"><pre>    &gt;&gt;&gt; s = set(u)
    &gt;&gt;&gt; s -= set('shop')
    &gt;&gt;&gt; s
    set(['c', 'e'])</pre></div><br>

<a name="ch07lev3sec29"></a>
<H5 id="title-IDAZYL3D" class="docSection3Title">Symmetric Difference Update ( <tt>^ = </tt> )</h5>
<p class="docText">The symmetric difference update operation returns a set whose members are either elements of the original or other set but not both. The method equivalent is <tt>symmetric_difference_update()</tt>.</P>
<div class="docText"><pre>    &gt;&gt;&gt; s = set(u)
    &gt;&gt;&gt; t = frozenset('bookshop')
    &gt;&gt;&gt; s ^= t
    &gt;&gt;&gt; s
    set(['c', 'b', 'e', 'k'])</pre></div><br>



<a href="14051536.html"><img src="images/pixel.jpg" alt="" width="1" height="1" border="0"></a></TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch07lev1sec6.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch07lev1sec8.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>