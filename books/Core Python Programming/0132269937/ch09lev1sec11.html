<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 9.11.&nbsp; Exercises</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch09lev1sec10.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch10.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><TD valign="top"><a name="ch09lev1sec11"></a>
<h3 id="title-IDAA1K0D" class="docSection1Title">9.11. Exercises</H3>
<p><table border="0" cellspacing="16" cellpadding="0"><TR valign="top"><TD align="right" class="docText" width="50"><a name="ch09qa1q1"></a><B>9-1.</b></TD><td><p class="docText"><span class="docEmphasis">File Filtering</span>. Display all lines of a file, except those that <span class="docEmphasis">start</span> with a pound sign ( # ), the comment character for Python, Perl, Tcl, and most other scripting languages.</p>
<p class="docText">Extra credit: Also strip out comments that begin after the first character.</p>
</TD></tr><TR valign="top"><td align="right" class="docText" width="50"><a name="ch09qa1q2"></a><B><a class="docLink" href="app01lev1sec8.html#app01qa8q0a1">9-2.</a></b></td><TD><p class="docText"> <span class="docEmphasis">File Access</span>. Prompt for a number <span class="docEmphasis">N</span> and file <span class="docEmphasis">F</span>, and display the first <span class="docEmphasis">N</span> lines of <span class="docEmphasis">F</span>.</P>
</td></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch09qa1q3"></a><B>9-3.</b></td><td><p class="docText"><span class="docEmphasis">File Information.</span> Prompt for a filename and display the number of lines in that text file.</P>
</td></tr><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch09qa1q4"></a><B>9-4.</b></td><td><p class="docText"><span class="docEmphasis">File Access.</span> Write a &quot;pager&quot; program. Your solution should prompt for a filename, and display the text file 25 lines at a time, pausing each time to ask the user to &quot;press a key to continue.&quot;</p>
</td></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch09qa1q5"></a><b>9-5.</b></td><td><p class="docText"><span class="docEmphasis">Test Scores</span>. Update your solution to the test scores problems (<a class="docLink" href="ch05lev1sec9.html#ch05qa1q3">Exercises 5-3</a> and <a class="docLink" href="ch06lev1sec22.html#ch06qa1q4">6-4</a>) by allowing a set of test scores be loaded from a file. We leave the file format to your discretion.</p>
</td></TR><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch09qa1q6"></a><b>9-6.</b></TD><td><p class="docText"><span class="docEmphasis">File Comparison</span>. Write a program to compare two text files. If they are different, give the line and column numbers in the files where the first difference occurs.</P>
</td></TR><TR valign="top"><TD align="right" class="docText" width="50"><a name="ch09qa1q7"></a><B>9-7.</b></td><td><p class="docText"><span class="docEmphasis">Parsing Files</span>. Win32 users: Create a program that parses a Windows <tt>.ini</tt> file. POSIX users: Create a program that parses the <tt>/etc/services</tt> file. All other platforms: Create a program that parses a system file with some kind of structure to it.</p>
</TD></tr><TR><td></TD><td></TD></TR><tr valign="top"><td align="right" class="docText" width="50"><a name="ch09qa1q8"></a><b>9-8.</b></td><TD><p class="docText"><span class="docEmphasis">Module Introspection</span>. Extract module attribute information. Prompt the user for a module name (or accept it from the command line). Then, using <tt>dir()</tt> and other built-in functions, extract all its attributes, and display their names, types, and values.</p>
</td></TR><tr valign="top"><td align="right" class="docText" width="50"><a name="ch09qa1q9"></a><b>9-9.</b></TD><TD><p class="docText"><span class="docEmphasis">&quot;PythonDoc.&quot;</span> Go to the directory where your Python standard library modules are located. Examine each .<tt>py</tt> file and determine whether a <tt>__doc__</tt> string is available for that module. If so, format it properly and catalog it. When your program has completed, it should present a nice list of those modules that have documentation strings and what they are. There should be a trailing list showing which modules do not have documentation strings (the shame list). Extra credit: Extract documentation for all classes and functions within the standard library modules.</p>
</td></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch09qa1q10"></a><b>9-10.</b></td><td><p class="docText"><span class="docEmphasis">Home Finances</span>. Create a home finance manager. Your solution should be able to manage savings, checking, money market, certificate of deposit (CD), and similar accounts. Provide a menu-based interface to each account as well as operations such as deposits, withdrawals, debits, and credits. An option should be given to a user to remove transactions as well. The data should be stored to file when the user quits the application (but randomly during execution for backup purposes).</p>
</td></tr><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch09qa1q11"></a><b>9-11.</b></TD><td><p class="docText"><span class="docEmphasis">Web site Addresses.</span></P>
<div style="font-weight:bold"><ol class="docList" type="a"><li><div style="font-weight:normal"><p class="docList">Write a URL bookmark manager. Create a text-driven menu-based application that allows the user to add, update, or delete entries. Entries include a site name, Web site URL address, and perhaps a one-line description (optional). Allow search functionality so that a search &quot;word&quot; looks through both names and URLs for possible matches. Store the data to a disk file when the user quits the application, and load up the data when the user restarts.</P></div></li><LI><div style="font-weight:normal"><p class="docList">(b) Upgrade your solution to part (a) by providing output of the bookmarks to a legible and syntactically correct HTML file (.<tt>htm</tt> or .<tt>html</tt>) so that users can then point their browsers to this output file and be presented with a list of their bookmarks. Another feature to implement is allowing the creation of &quot;folders&quot; to allow grouping of related bookmarks. Extra credit: Read the literature on regular expressions and the Python <tt>re</tt> module. Add regular expression validation of URLs that users enter into their databases.</P></div></LI></ol></div>
</TD></tr><tr><td></TD><td></TD></tr><TR valign="top"><td align="right" class="docText" width="50"><a name="ch09qa1q12"></a><B>9-12.</b></TD><td><p class="docText"><span class="docEmphasis">Users and Passwords.</span></p>
<p class="docText">Do <a class="docLink" href="ch07lev1sec12.html#ch07qa1q5">Exercise 7-5</a>, which keeps track of usernames and passwords. Update your code to support a &quot;last login time&quot; (7-5a). See the documentation for the time module to obtain timestamps for when users &quot;log in&quot; to the system.</p>
<p class="docText">Also, create the concept of an &quot;administrative&quot; user that can dump a list of all the users, their passwords (you can add encryption on top of the passwords if you wish [7-5c]), and their last login times (7-5b).</p>
<div style="font-weight:bold"><ol class="docList" type="a"><LI><div style="font-weight:normal"><p class="docList">The data should be stored to disk, one line at a time, with fields delimited by colons ( : ), e.g., &quot;<tt>joe:boohoo:953176591.145</tt>&quot;, for each user. The number of lines in the file will be the number of users that are part of your system.</p></div></li><LI><div style="font-weight:normal"><p class="docList">Further update your example such that instead of writing out one line at a time, you pickle the entire data object and write that out instead. Read the documentation on the <tt>pickle</tt> module to find out how to flatten or serialize your object, as well as how to perform I/O using picked objects. With the addition of this new code, your solution should take up fewer lines than your solution in part (a).</p></div></li><li><div style="font-weight:normal"><p class="docList">Replace your login database and explicit use of <tt>pickle</tt> by converting your code to use <tt>shelve</tt> files. Your resulting source file should actually take up fewer lines than your solution to part (b) because some of the maintenance work is gone.</P></div></LI></ol></div>
</td></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch09qa1q13"></a><b><a class="docLink" href="app01lev1sec8.html#app01qa8q0a2">9-13.</a></b></td><td><p class="docText"><span class="docEmphasis">Command-Line Arguments</span>.</p>
<div style="font-weight:bold"><ol class="docList" type="a"><li><div style="font-weight:normal"><p class="docList">What are they, and why might they be useful?</p></div></li><li><div style="font-weight:normal"><p class="docList">Write code to display the command-line arguments which were entered.</P></div></li></ol></div>
</TD></tr><TR valign="top"><td align="right" class="docText" width="50"><a name="ch09qa1q14"></a><B>9-14.</b></td><TD><p class="docText"><span class="docEmphasis">Logging Results</span>. Convert your calculator program</P>
<p class="docText">(<a class="docLink" href="ch05lev1sec9.html#ch05qa1q6">Exercise  5-6</a>) to take input from the command line, i.e.,</P>
<div class="docText"><pre>$ calc.py 1 + 2</pre></div><BR>
<p class="docText">Output the result only. Also, write each expression and result to a disk file. Issuing a command of...</p>
<div class="docText"><pre>$ calc.py print</pre></div><br>
<p class="docText">... will cause the entire contents of the &quot;register tape&quot; to be dumped to the screen and file reset/truncated. Here is an example session:</p>
<div class="docText"><pre>$ calc.py 1 + 2
3
$ calc.py 3 ^ 3
27
$ calc.py print
1 + 2
3
3 ^ 3
27
$ calc.py print
$</pre></div><BR>
<p class="docText">Extra credit: Also strip out comments that begin after the first character.</p>
</TD></tr><TR valign="top"><td align="right" class="docText" width="50"><a name="ch09qa1q15"></a><B>9-15.</b></TD><td><p class="docText"><span class="docEmphasis">Copying Files</span>. Prompt for two filenames (or better yet, use command-line arguments). The contents of the first file should be copied to the second file.</p>
</td></tr><TR valign="top"><td align="right" class="docText" width="50"><a name="ch09qa1q16"></a><b>9-16.</b></TD><td><p class="docText"><span class="docEmphasis">Text Processing</span>. You are tired of seeing lines on your e-mail wrap because people type lines that are too long for your mail reader application. Create a program to scan a text file for all lines longer than 80 characters. For each of the offending lines, find the closest word before 80 characters and break the line there, inserting the remaining text to the next line (and pushing the previous next line down one). When you are done, there should be no lines longer than 80 characters.</p>
</td></TR><TR valign="top"><td align="right" class="docText" width="50"><a name="ch09qa1q17"></a><b>9-17.</b></td><td><p class="docText"><span class="docEmphasis">Text Processing</span>. Create a crude and elementary text file editor. Your solution is menu-driven, with the following options:</p>
<div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">create file [prompt for filename and any number of lines of input],</p></div></li><li><div style="font-weight:normal"><p class="docList">display file [dump its contents to the screen],</p></div></li><li><div style="font-weight:normal"><p class="docList">edit file (prompt for line to edit and allow user to make changes),</P></div></li><LI><div style="font-weight:normal"><p class="docList">save file, and</p></div></LI><li><div style="font-weight:normal"><p class="docList">quit.</P></div></li></ol></div>
</TD></TR><TR valign="top"><TD align="right" class="docText" width="50"><a name="ch09qa1q18"></a><b>9-18.</b></td><td><p class="docText"><span class="docEmphasis">Searching Files</span>. Obtain a byte value (0-255) and a filename. Display the number of times that byte appears in the file.</P>
</td></TR><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch09qa1q19"></a><b>9-19.</b></TD><TD><p class="docText"><span class="docEmphasis">Generating Files</span>. Create a sister program to the previous problem. Create a binary data file with random bytes, but one particular byte will appear in that file a set number of times. Obtain the following three values:</p>
<div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">a byte value (0-255),</p></div></li><LI><div style="font-weight:normal"><p class="docList">the number of times that byte should appear in the data file, and</p></div></li><LI><div style="font-weight:normal"><p class="docList">the total number of bytes that make up the data file.</p></div></li></ol></div>
<p class="docText">Your job is to create that file, randomly scatter the requested byte across the file, ensure that there are no duplicates, the file contains exactly the number of occurrences that byte was requested for, and that the resulting data file is exactly the size requested.</p>
</TD></TR><tr valign="top"><td align="right" class="docText" width="50"><a name="ch09qa1q20"></a><b>9-20.</b></td><td><p class="docText"><span class="docEmphasis">Compressed Files</span>. Write a short piece of code that will compress and decompress gzipped or bzipped files. Confirm your solution works by using the command-line <tt>gzip</tt> or <tt>bzip2</tt> programs or a GUI program like PowerArchiver, StuffIt, and/or WinZip.</p>
</td></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch09qa1q21"></a><b>9-21.</b></td><TD><p class="docText"><span class="docEmphasis">ZIP Archive Files</span>. Create a program that can extract files from or add files to, and perhaps creating, a ZIP archive file.</p>
</TD></tr><TR valign="top"><td align="right" class="docText" width="50"><a name="ch09qa1q22"></a><B>9-22.</b></td><TD><p class="docText"><span class="docEmphasis">ZIP Archive Files</span>. The <tt>unzip -l</tt> command to dump the contents of ZIP archive is boring. Create a Python script called <tt>lszip.py</tt> that gives additional information such as: the compressed file size, the compressed percentage of each file (by comparing the original and compressed file sizes), and a full <tt>time.ctime()</tt> timestamp instead of the unzip output (of just the date and HH:MM). Hint: The <tt>date_time</tt> attribute of an archived file does not contain enough information to feed to <tt>time.mktime()</tt>... it is up to you!</P>
</TD></TR><tr valign="top"><td align="right" class="docText" width="50"><a name="ch09qa1q23"></a><b>9-23.</b></TD><td><p class="docText"><span class="docEmphasis">TAR Archive Files</span>. Repeat the previous problem for TAR archive files. One difference between these two types of files is that ZIP files are generally compressed, but TAR files are not and usually require the support of <tt>gzip</tt> or <tt>bzip2</tt>. Add either type of compression support. Extra credit: Support both <tt>gzip</tt> and <tt>bzip2</tt>.</P>
</td></TR><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch09qa1q24"></a><B>9-24.</b></td><td><p class="docText"><span class="docEmphasis">File Transfer Between Archive Files</span>. Take your solutions from the previous two problems and write a program that moves files between ZIP (<tt>.zip</tt>) and TAR/gzip (<tt>.tgz/.tar.gz</tt>) or TAR/bzip2 (<tt>.tbz/.tar.bz2</tt>) archive files. The files may preexist; create them if necessary.</p>
</td></TR><tr valign="top"><td align="right" class="docText" width="50"><a name="ch09qa1q25"></a><B>9-25.</b></td><td><p class="docText"><span class="docEmphasis">Universal Extractor</span>. Create an application that will take any number of files in an archived and/or compression format, i.e., <tt>.zip</tt>, <tt>.tgz</tt>, <tt>.tar.gz</tt>, <tt>.gz</tt>, <tt>.bz2</tt>, <tt>.tar.bz2</tt>, <tt>.tbz</tt>, and a target directory. The program will uncompress the standalone files to the target while all archived files will be extracted into subdirectories named the same as the archive file without the file extension. For example, if the target directory was <tt>incoming</tt>, and the input files were <tt>header.txt.gz</tt> and <tt>data.tgz</tt>, <tt>header.txt</tt> will be extracted to <tt>incoming</tt> while the files in <tt>data.tgz</tt> will be pulled out into <tt>incoming/data</tt>.</p>
</TD></TR></table></p>

</TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch09lev1sec10.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch10.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>