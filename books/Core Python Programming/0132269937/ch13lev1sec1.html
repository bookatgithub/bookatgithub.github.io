<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 13.1.&nbsp; Introduction</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch13.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch13lev1sec2.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><TD valign="top"><a href="14051536.html"><img src="images/pixel.jpg" alt="" width="1" height="1" border="0"></a><a name="ch13lev1sec1"></a>

<h3 id="title-IDAQ2ZMF" class="docSection1Title">13.1. Introduction</H3>
<p class="docText"><a name="iddle1391"></a><a name="iddle2451"></a><a name="iddle2475"></a><a name="iddle3041"></a>Before we get into the nitty-gritty of OOP and classes, we begin with a high-level overview, then present some simple examples to get you warmed up. If you are new to object-oriented programming, you may wish to skim this section first, then begin the formal reading in <a class="docLink" href="ch13lev1sec2.html#ch13lev1sec2">Section 13.2</a>. If you are already familiar with object-oriented programming and want to see how it is done in Python, finish this section and go straight to <a class="docLink" href="ch13lev1sec3.html#ch13lev1sec3">Section 13.3</a> for more details.</p>
<p class="docText">The main two entities in Python object-oriented programming are classes and class instances (see <a class="docLink" href="#ch13fig01">Figure 13-1</a>).</P>
<a name="ch13fig01"></a><P><center>

<H5 class="docFigureTitle">Figure 13-1. <a name="iddle1388"></a><a name="iddle2857"></a><a name="iddle3710"></a>The factory manufacturing machines on the left are analogous to classes, while the toys produced are instances of their respective classes. Although each instance has the basic underlying structure, individual attributes like color or feet can be changedthese are similar to instance attributes.</H5>

<p class="docText">
<img border="0" alt="" width="500" height="856" SRC="images/chun_fig13_01a.jpg"></p>


</center></p><br>
<a name="ch13lev2sec1"></a>
<H4 id="title-IDA25ZMF" class="docSection2Title">Classes and Instances</h4>
<p class="docText">Classes and instances are related to each other: classes provide the definition of an object, and instances are &quot;the real McCoy,&quot; the objects specified in the class definition brought to life.</P>
<p class="docText">Here is an example of how to create a class:</p>
<div class="docText"><pre><span class="docEmphStrong">class</span> MyNewObjectType(<span class="docEmphasis">bases</span>):
    'define MyNewObjectType class'
    <span class="docEmphasis">class_suite</span></pre></div><BR>
<p class="docText">The keyword is <span class="docEmphStrong"><tt>class</tt></span>, followed by the class name. What follows is the suite of code that defines the class. This usually consists of various definitions and declarations. The biggest difference between declaring new-style classes and classic classes is that all new-style classes must inherit from at least one parent class. The <span class="docEmphasis"><tt>bases</tt></span> argument is one (single inheritance) or more (multiple inheritance) parent classes to derive from.</p>
<p class="docText">The &quot;mother of all classes&quot; is <tt>object</tt>. If you do not have any ancestor classes to inherit from, use <tt>object</tt> as your default. It must exist at the top of every class hierarchy. If you do not subclass <tt>object</tt> or a class that subclasses <tt>object</tt>, then you have defined a classic class:</P>
<div class="docText"><pre><span class="docEmphStrong">class</span> MyNewObjectType:
    'define MyNewObjectType classic class'
    <span class="docEmphasis">class_suite</span></pre></div><BR>
<p class="docText">Conversely, if you do not specify a parent class, or if you subclass a base class without a parent class, you have created a classic class. Most Python classes are still classic classes. There really is no problem with using them until they become obsolete in some future version of Python. We do recommend that you use new-style classes whenever possible, but for learning purposes, either type will suffice.</p>
<p class="docText">The process of creating an instance is called <span class="docEmphasis">instantiation</span>, and it is carried out like this (note the conspicuous absence of a <tt>new</tt> keyword):</p>
<div class="docText"><pre>    myFirstObject = MyNewObjectType()</pre></div><br>
<p class="docText">The class name is given as an &quot;invocation,&quot; using the familiar function operators ( <tt>( )</tt> ). You then typically assign that newly created instance to a variable. The assignment is not required syntactically, but if you do not save your instance to a variable, it will be of no use and will be automatically garbage-collected because there would no references to that instance. What you would be doing is allocating memory, then immediately deallocating it.</p>
<p class="docText">Classes can be as simple or as complicated as you wish them to be. At a very minimum, classes can be used as namespaces (see <a class="docLink" href="ch11.html#ch11">Chapter 11</a> for more on these). By this, we mean that you can store data into variables and group them in such a way that they all share the same relationshipa named relationship using the standard Python dotted-attribute notation. For example, you may have a class without any inherent attributes and merely use such a class to provide a namespace for data, giving your class characteristics similar to records in Pascal or structures in C, or, in other words, use the class simply as a container object with shared naming.</P>
<p class="docText">Here is an example:</p>
<div class="docText"><pre><span class="docEmphStrong">class</span> MyData(object):
    <span class="docEmphStrong">pass</span></pre></div><br>
<p class="docText">Recall that the <span class="docEmphStrong"><tt>pass</tt></span> statement is used where code is required syntactically, but no operation is desired. In this case, the required code is the class suite, but we do not wish to provide one. The class we just defined has no methods or any other attributes. We will now create an instance to use the class simply as a namespace container.</P>
<div class="docText"><pre>    &gt;&gt;&gt; mathObj = MyData()
    &gt;&gt;&gt; mathObj.x = 4
    &gt;&gt;&gt; mathObj.y = 5
    &gt;&gt;&gt; mathObj.x + mathObj.y
    9
    &gt;&gt;&gt; mathObj.x * mathObj.y
    20</pre></div><br>
<p class="docText">We could have used variables &quot;x&quot; and &quot;y&quot; to accomplish the same thing, but in our case, <tt>mathObj.x</tt> and <tt>mathObj.y</tt> are related by the instance name, <tt>mathObj.</tt> This is what we mean by using classes as namespace containers. <tt>mathObj.x</tt> and <tt>mathObj.y</tt> are known as <span class="docEmphasis">instance attributes</span> because they are only attributes of their instance object (<tt>mathObj</tt>), not of the class (<tt>MyData</tt>). As we will see later on in this chapter, these attributes really are dynamic in nature: you do not need to pre-declare or pre-assign them in the constructor or anywhere else.</p>

<a name="ch13lev2sec2"></a>
<h4 id="title-IDARE0MF" class="docSection2Title">Methods</H4>
<p class="docText">One way we can improve our use of classes is to add functions to them. These class functions are known by their more common name, <span class="docEmphasis">methods</span>. In Python, methods are defined as part of the class definition, but can be invoked only on an instance. In other words, the path one must take to finally be able to call a method goes like this: (1) define the class (and the methods), (2) create an instance, and finally, (3) invoke the method on that instance. Here is an example class with a method:</P>
<div class="docText"><pre><span class="docEmphStrong">class</span> MyDataWithMethod(object):  # define the class
     <span class="docEmphStrong">def</span> printFoo(self):     # define the method
          <span class="docEmphStrong">print</span> 'You invoked printFoo()!'</pre></div><br>
<p class="docText">You will notice the <tt>self</tt> argument, which must be present in all method declarations. That argument, representing the instance object, is passed to the method implicitly by the interpreter when you invoke a method on an instance, so you, yourself, do not have to worry about passing anything in (specifically <tt>self</tt>, which is automatically passed in for you).</p>
<p class="docText">For example, if you have a method that takes two arguments, all of your calls should only pass in the second argument. Python passes in self for you as the first. If you make a mistake, do not worry about it. When an error occurs, Python will tell you that you have passed in the wrong number of arguments. You may make this mistake only once anyway... you'll certainly remember each time after that!</p>
<p class="docText">The requirement of the instance (<tt>self</tt>) in each method's signature will be something new to those of you coming from C++ or Java, so be aware of that. It is all part of Python's philosophy of being explicitly clear. In those other languages, <tt>self</tt> is called &quot;<tt>this.</tt>&quot; You can find out more about <tt>self</tt> in the Core Note in <a class="docLink" href="ch13lev1sec7.html#ch13lev1sec7">Section 13.7</a> on page <a class="docLink" href="ch13lev1sec6.html#ch13lev3sec15">540</a>. Requiring the instance only applies to regular methods and not static or class methods, although the latter requires the class rather than the instance. You can find out more about static and class methods in <a class="docLink" href="ch13lev1sec8.html#ch13lev1sec8">Section 13.8</a> on page <a class="docLink" href="ch13lev1sec8.html#ch13lev1sec8">542</a>.</p>
<p class="docText">Now we will instantiate the class and invoke the method once we have an instance:</p>
<div class="docText"><pre>    &gt;&gt;&gt; myObj = MyDataWithMethod()   # create the instance
    &gt;&gt;&gt; myObj.printFoo()             # now invoke the method
    You invoked printFoo()!</pre></div><br>
<p class="docText"><a name="iddle1370"></a><a name="iddle1381"></a><a name="iddle1518"></a><a name="iddle2420"></a><a name="iddle2424"></a><a name="iddle2476"></a><a name="iddle3711"></a>We conclude this introductory section by giving you a slightly more complex example of what you can do with classes (and instances) and also introducing you to the special method <tt>__init__()</tt> as well as subclassing and inheritance.</p>
<p class="docText">For those of you who are already familiar with object-oriented programming, <tt>__init__()</tt> is similar to the <span class="docEmphasis">class constructor</span>. If you are new to the world of OOP, a constructor is simply a special method that is typically called to create a new object. In Python, <tt>__init__()</tt> is not really the constructor. You do not call &quot;<tt>new</tt>&quot; to create a new object. (Python does not even have a keyword called &quot;<tt>new</tt>&quot; anyway.) Instead, Python creates the instance for you and then calls <tt>__init__()</tt> during instantiation to define additional behavior that should occur when a class is instantiated, i.e., setting up initial values or running some preliminary diagnostic codebasically performing any special tasks or setup after the instance is created but before the new instance is returned from the instantiation call.</p>
<p class="docText">(We will add <span class="docEmphStrong"><tt>print</tt></span> statements to our methods to better illustrate when certain methods are called. It is generally not typical to have input or output statements in functions unless output is a predetermined characteristic of the body of code.)</p>

<a name="ch13lev2sec3"></a>
<h4 id="title-IDA4J0MF" class="docSection2Title">Creating a Class (Class Definition)</h4>
<div class="docText"><pre><span class="docEmphStrong">class</span> AddrBookEntry(object):            # class definition
    'address book entry class'
    <span class="docEmphStrong">def</span> __init__(self, nm, ph):         # define constructor
        self.name = nm                  # set name
        self.phone = ph                 # set phone#
        <span class="docEmphStrong">print</span> 'Created instance for:', self.name
    <span class="docEmphStrong">def</span> updatePhone(self, newph):       # define method
        self.phone = newph
        <span class="docEmphStrong">print</span> 'Updated phone# for:', self.name</pre></div><br>
<p class="docText">In the definition for the <tt>AddrBookEntry</tt> class, we define two methods: <tt>__init__()</tt> and <tt>updatePhone()</tt>. <tt>__init__()</tt> is called when instantiation occurs, that is, when <tt>AddrBookEntry()</tt> is invoked. You can think of instantiation as an implicit call to <tt>__init__()</tt> because the arguments given to <tt>AddrBookEntry()</tt> are exactly the same as those that are received by <tt>__init__()</tt> (except for <tt>self</tt>, which is passed automatically for you).</P>
<p class="docText">Recall that the <tt>self</tt> (instance object) argument is passed in automatically by the interpreter when the method is invoked on an instance, so in our <tt>__init__()</tt> above, the only required arguments are <tt>nm</tt> and <tt>ph</tt>, representing the name and telephone number, respectively. <tt>__init__()</tt> sets these <a name="iddle1519"></a><a name="iddle2449"></a><a name="iddle2465"></a><a name="iddle2470"></a><a name="iddle2472"></a><a name="iddle2868"></a><a name="iddle4322"></a>two instance attributes on instantiation so that they are available to the programmer by the time the instance is returned from the instantiation call.</p>
<p class="docText">As you may have surmised, the purpose of the <tt>updatePhone()</tt> method is to replace an address book entry's telephone number attribute.</P>

<a name="ch13lev2sec4"></a>
<h4 id="title-IDAZN0MF" class="docSection2Title">Creating Instances (Instantiation)</H4>
<div class="docText"><pre>    &gt;&gt;&gt; john = AddrBookEntry('John Doe', '408-555-1212')
    Created instance for: John Doe
    &gt;&gt;&gt; jane = AddrBookEntry('Jane Doe', '650-555-1212')
    Created instance for: Jane Doe</pre></div><br>
<p class="docText">These are our instantiation calls, which, in turn, invoke <tt>__init__()</tt>. Recall that an instance object is passed in automatically as <tt>self</tt>. So, in your head, you can replace <tt>self</tt> in methods with the name of the instance. In the first case, when object <tt>john</tt> is instantiated, it is <tt>john.name</tt> that is set, as you can confirm below.</P>
<p class="docText">Also, without the presence of default arguments, both parameters to <tt>__init__()</tt> are required as part of the instantiation.</p>

<a name="ch13lev2sec5"></a>
<H4 id="title-IDA3O0MF" class="docSection2Title">Accessing Instance Attributes</H4>
<div class="docText"><pre>    &gt;&gt;&gt; john
    &lt;__main__.AddrBookEntry instance at 80ee610&gt;
    &gt;&gt;&gt; john.name
    'John Doe'
    &gt;&gt;&gt; john.phone
    '408-555-1212'
    &gt;&gt;&gt; jane.name
    'Jane Doe'
    &gt;&gt;&gt; jane.phone
    '650-555-1212'</pre></div><BR>
<p class="docText">Once our instance was created, we can confirm that our instance attributes were indeed set by <tt>__init__()</tt> during instantiation. &quot;Dumping&quot; the instance within the interpreter tells us what kind of object it is. (We will discover later how we can customize our class so that rather than seeing the default &lt;<tt>...</tt>&gt; Python object string, a more desired output can be customized.)</P>

<a name="ch13lev2sec6"></a>
<h4 id="title-IDAWP0MF" class="docSection2Title">Method Invocation (via Instance)</h4>
<div class="docText"><pre>    &gt;&gt;&gt; john.updatePhone('415-555-1212')
    Updated phone# for: John Doe
    &gt;&gt;&gt; john.phone
    '415-555-1212'</pre></div><br>
<p class="docText"><a name="iddle2418"></a><a name="iddle3387"></a><a name="iddle4070"></a>The <tt>updatePhone()</tt> method requires one argument (in addition to <tt>self</tt>): the new phone number. We check our instance attribute right after the call to <tt>updatePhone()</tt>, making sure that it did what was advertised.</P>

<a name="ch13lev2sec7"></a>
<h4 id="title-IDAIR0MF" class="docSection2Title">Creating a Subclass</H4>
<p class="docText">Subclassing with inheritance is a way to create and customize a new class type with all the features of an existing class but without modifying the original class definition. The new <span class="docEmphasis">subclass</span> can be customized with special functionality unique only to that new class type. Aside from its relationship to its <span class="docEmphasis">parent</span> or <span class="docEmphasis">base class</span>, a subclass has all the same features as any regular class and is instantiated in the same way as all other classes. Note below that a parent class is part of the subclass declaration:</p>
<div class="docText"><pre><span class="docEmphStrong">class</span> EmplAddrBookEntry(AddrBookEntry):
    'Employee Address Book Entry class'
    <span class="docEmphStrong">def</span> __init__(self, nm, ph, id, em):
         AddrBookEntry.__init__(self, nm, ph)
         self.empid = id
         self.email = em

    <span class="docEmphStrong">def</span> updateEmail(self, newem):
         self.email = newem
         <span class="docEmphStrong">print</span> 'Updated e-mail address for:', self.name</pre></div><BR>
<p class="docText">We will now create our first subclass, <tt>EmplAddrBookEntry</tt>. In Python, when classes are derived, subclasses inherit the base class attributes, so in our case, we will not only define the methods <tt>__init__()</tt> and <tt>updateEmail()</tt>, but <tt>EmplAddrBookEntry</tt> will also inherit the <tt>updatePhone()</tt> method from <tt>AddrBookEntry</tt>.</p>
<p class="docText">Each subclass must define its own constructor if desired, otherwise the base class constructor will be called. However, if a subclass overrides a base class constructor, the base class constructor will <span class="docEmphasis">not</span> be called automaticallysuch a request must be made explicitly as we have above. For our subclass, we make an initial call to the base class constructor before performing any &quot;local&quot; tasks, hence the call to <tt>AddrBookEntry</tt>. <tt>__init__()</tt> to set the name and phone number. Our subclass sets two additional instance attributes, the employee ID and e-mail address, which are set by the remaining lines of our constructor.</P>
<p class="docText">Note how we have to explicitly pass the <tt>self</tt> instance object to the base class constructor because we are not invoking that method on an instance. We are invoking that method on an instance of a subclass. Because we are not invoking it via an instance, this <span class="docEmphasis">unbound method</span> call requires us to pass an acceptable instance (<tt>self</tt>) to the method.</P>
<p class="docText"><a name="iddle1167"></a><a name="iddle1392"></a><a name="iddle2870"></a><a name="iddle4067"></a><a name="iddle4076"></a>We close this section with examples of how to create an instance of the subclass, accessing its attributes and invoking its methods, including those inherited from the parent class.</p>

<a name="ch13lev2sec8"></a>
<h4 id="title-IDAYU0MF" class="docSection2Title">Using a Subclass</h4>
<div class="docText"><pre>    &gt;&gt;&gt; john = EmplAddrBookEntry('John Doe', '408-555-1212',
    42, 'john@spam.doe')
    Created instance for: John Doe
    &gt;&gt;&gt; john
    &lt;__main__.EmplAddrBookEntry object at 0x62030&gt;
    &gt;&gt;&gt; john.name
    'John Doe'
    &gt;&gt;&gt; john.phone
    '408-555-1212'
    &gt;&gt;&gt; john.email
    'john@spam.doe'
    &gt;&gt;&gt; john.updatePhone('415-555-1212')
    Updated phone# for: John Doe
    &gt;&gt;&gt; john.phone
    '415-555-1212'
    &gt;&gt;&gt; john.updateEmail('john@doe.spam')
    Updated e-mail address for: John Doe
    &gt;&gt;&gt; john.email
    'john@doe.spam'</pre></div><br>
<a name="ch13note01"></a><div class="docNote"><p class="docNoteTitle">Core Style: Naming classes, attributes, and methods</P><p><table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><TD width="60" valign="top"><img border="0" alt="" align="LEFT" width="50" height="46" SRC="images/core_style.jpg">


</td><td valign="top"><p class="docText"><span class="docEmphasis">Class names traditionally begin with a capital letter. This is the standard convention that will help you identify classes, especially during instantiation (which would look like a function call otherwise). In particular, data attributes should sound like data value names, and method names should indicate action toward a specific object or value. Another way to phrase this is: Use nouns for data value names and</span> predicates <span class="docEmphasis">(verbs plus direct objects) for methods. The data items are the objects acted upon, and the methods should indicate what action the programmer wants to perform on the object</span>.</p><p class="docText"><span class="docEmphasis">In the classes we defined above, we attempted to follow this guideline, with data values such as &quot;</span>name<span class="docEmphasis">,&quot; &quot;</span>phone<span class="docEmphasis">,&quot; and &quot;</span>email<span class="docEmphasis">,&quot; and actions such as &quot;</span>updatePhone<span class="docEmphasis">&quot; and &quot;</span>updateEmail<span class="docEmphasis">.&quot; This is known as &quot;</span>mixedCase<span class="docEmphasis">&quot; or &quot;</span>camelCase.<span class="docEmphasis">&quot; The Python Style Guide favors using underscores over camelCase, i.e,. &quot;</span>update_phone<span class="docEmphasis">,&quot; &quot;</span>update_email.<span class="docEmphasis">&quot; Classes should also be well named; some of those good names include &quot;</span>AddrBookEntry<span class="docEmphasis">,&quot; &quot;</span>RepairShop,<span class="docEmphasis">&quot; etc.</span></P></TD></tr></table></p></div><br>
<p class="docText"><a name="iddle3211"></a><a name="iddle3222"></a><a name="iddle3231"></a><a name="iddle3232"></a>We hope that you now have some understanding of how object-oriented programming is accomplished using Python. The remaining sections of this chapter will take you deeper into all the facets of object-oriented programming and Python classes and instances.</p>


<a href="14051536.html"><img src="images/pixel.jpg" alt="" width="1" height="1" border="0"></a></TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch13.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch13lev1sec2.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>