<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 15.5.&nbsp; Exercises</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch15lev1sec4.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch16.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><TD valign="top"><a name="ch15lev1sec5"></a>
<h3 id="title-IDAMP55H" class="docSection1Title">15.5. Exercises</H3>
<p class="docText"><span class="docEmphasis">Regular Expressions</span>. Create regular expressions in Exercises 15-1 to 15-12 to:</p>
<P><table border="0" cellspacing="16" cellpadding="0"><TR valign="top"><TD align="right" class="docText" width="50"><a name="ch15qa1q1"></a><B><a class="docLink" href="app01lev1sec14.html#app01qa14q0a1">15-1.</a></b></td><td><p class="docText">Recognize the following strings: &quot;bat,&quot; &quot;bit,&quot; &quot;but,&quot; &quot;hat,&quot; &quot;hit,&quot; or &quot;hut.&quot;</p></TD></tr><TR valign="top"><td align="right" class="docText" width="50"><a name="ch15qa1q2"></a><B><a class="docLink" href="app01lev1sec14.html#app01qa14q0a2">15-2.</a></b></td><TD><p class="docText">Match any pair of words separated by a single space, i.e., first and last names.</P></td></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch15qa1q3"></a><B><a class="docLink" href="app01lev1sec14.html#app01qa14q0a3">15-3.</a></b></td><td><p class="docText">Match any word and single letter separated by a comma and single space, as in last name, first initial.</P></td></tr><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch15qa1q4"></a><B>15-4.</b></td><td><p class="docText">Match the set of all valid Python identifiers.</p></td></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch15qa1q5"></a><b>15-5.</b></td><td><p class="docText">Match a street address according to your local format (keep your RE general enough to match any number of street words, including the type designation). For example, American street addresses use the format: 1180 Bordeaux Drive. Make your RE general enough to support multi-word street names like: 3120 De la Cruz Boulevard.</p></td></TR><tr><TD></td><TD></td></TR><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch15qa1q6"></a><B>15-6.</b></TD><TD><p class="docText">Match simple Web domain names that begin with &quot;www.&quot; and end with a &quot;.com&quot; suffix, e.g., www.yahoo.com. Extra credit if your RE also supports other high-level domain names: .edu, .net, etc., e.g., www.ucsc.edu.</p></td></tr><TR valign="top"><td align="right" class="docText" width="50"><a name="ch15qa1q7"></a><B>15-7.</b></td><TD><p class="docText">Match the set of the string representations of all Python integers.</p></TD></TR><tr valign="top"><td align="right" class="docText" width="50"><a name="ch15qa1q8"></a><b><a class="docLink" href="app01lev1sec14.html#app01qa14q0a4">15-8.</a></b></td><TD><p class="docText">Match the set of the string representations of all Python longs.</p></td></TR><tr valign="top"><td align="right" class="docText" width="50"><a name="ch15qa1q9"></a><b><a class="docLink" href="app01lev1sec14.html#app01qa14q0a5">15-9.</a></b></TD><TD><p class="docText">Match the set of the string representations of all Python floats.</p></td></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch15qa1q10"></a><b>15-10.</b></td><td><p class="docText">Match the set of the string representations of all Python complex numbers.</p></td></tr><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch15qa1q11"></a><b>15-11.</b></TD><td><p class="docText">Match the set of all valid e-mail addresses (start with a loose RE, then try to tighten it as much as you can, yet maintain correct functionality).</P></td></TR><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch15qa1q12"></a><B>15-12.</b></TD><TD><p class="docText">Match the set of all valid Web site addresses (URLs) (start with a loose RE, then try to tighten it as much as you can, yet maintain correct functionality).</p></td></tr><TR valign="top"><td align="right" class="docText" width="50"><a name="ch15qa1q13"></a><B>15-13.</b></td><TD><p class="docText"><span class="docEmphasis"><tt>type()</tt></span>. The <tt>type()</tt> built-in function returns a type object, which is displayed as a Pythonic-looking string:</p>
<div class="docText"><pre>&gt;&gt;&gt; type(0)
&lt;type
'int'&gt;
&gt;&gt;&gt; type(.34)
&lt;type
'float'&gt;
&gt;&gt;&gt; type(dir)
&lt;type 'builtin_function_or_method'&gt;</pre></div><BR>
<p class="docText">Create an RE that would extract out the actual type name from the string. Your function should take a string like this &quot;<tt>&lt;type 'int'&gt;</tt>&quot; and return &quot;<tt>int</tt>&quot;. (Ditto for all other types, i.e., 'float', 'builtin_function_or_method', etc.) Note: You are implementing the value that is stored in the <tt>__name__</tt> attribute for classes and some built-in types.</P></td></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch15qa1q14"></a><B>15-14.</b></td><td><p class="docText"><span class="docEmphasis">Regular Expressions</span>. In <a class="docLink" href="ch15lev1sec2.html#ch15lev1sec2">Section 15.2</a>, we gave you the RE pattern that matched the single- or double-digit string representations of the months January to September (&quot;<tt>0?[1-9]</tt>&quot;). Create the RE that represents the remaining three months in the standard calendar.</P></td></tr><tr><TD></TD><td></td></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch15qa1q15"></a><b>15-15.</b></td><td><p class="docText"><span class="docEmphasis">Regular Expressions</span>. Also in <a class="docLink" href="ch15lev1sec2.html#ch15lev1sec2">Section 15.2</a>, we gave you the RE pattern that matched credit card (CC) numbers (&quot;<tt>[0-9]{15,16}</tt>&quot;). However, this pattern does not allow for hyphens separating blocks of numbers. Create the RE that allows hyphens, but only in the correct locations. For example, 15-digit CC numbers have a pattern of 4-6-5, indicating four digits-hyphen-six digits-hyphen-five digits, and 16-digit CC numbers have a 4-4-4-4 pattern. Remember to &quot;balloon&quot; the size of the entire string correctly. Extra credit: There is a standard algorithm for determining whether a CC number is valid. Write some code not only to recognize a correctly formatted CC number, but also a valid one.</p></td></tr></table></p>
<p class="docText"><span class="docEmphasis">The next set of problems (15-16 through 15-27) deal specifically with the data that are generated by <tt>gendata.py</tt>. Before approaching problems 15-17 and 15-18, you may wish to do 15-16 and all the regular expressions first.</span></P>
<p><table border="0" cellspacing="16" cellpadding="0"><TR valign="top"><td align="right" class="docText" width="50"><a name="ch15qa1q16"></a><B>15-16.</b></td><TD><p class="docText">Update the code for <tt>gendata.py</tt> so that the data are written directly to <tt>redata.txt</tt> rather than output to the screen.</p></TD></TR><TR valign="top"><TD align="right" class="docText" width="50"><a name="ch15qa1q17"></a><b>15-17.</b></td><td><p class="docText">Determine how many times each day of the week shows up for any incarnation of <tt>redata.txt</tt>. (Alternatively, you can also count how many times each month of the year was chosen.)</P></td></TR><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch15qa1q18"></a><b>15-18.</b></TD><TD><p class="docText">Ensure there is no data corruption in <tt>redata.txt</tt> by confirming that the first integer of the integer field matches the timestamp given at the front of each output line.</p></td></tr></table></p>
<p class="docText"><span class="docEmphasis">Create regular expressions to:</span></P>
<p><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch15qa1q19"></a><b>15-19.</b></td><td><p class="docText">Extract the complete timestamps from each line.</P></TD></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch15qa1q20"></a><b>15-20.</b></td><td><p class="docText">Extract the complete e-mail address from each line.</p></td></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch15qa1q21"></a><b>15-21.</b></TD><td><p class="docText">Extract only the months from the timestamps.</P></td></TR><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch15qa1q22"></a><b>15-22.</b></TD><TD><p class="docText">Extract only the years from the timestamps.</P></TD></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch15qa1q23"></a><B>15-23.</b></td><TD><p class="docText">Extract only the time (HH:MM:SS) from the timestamps.</p></TD></tr><TR valign="top"><TD align="right" class="docText" width="50"><a name="ch15qa1q24"></a><b>15-24.</b></td><td><p class="docText">Extract only the login and domain names (both the main domain name and the high-level domain together) from the e-mail address.</p></TD></tr><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch15qa1q25"></a><b>15-25.</b></td><td><p class="docText">Extract only the login and domain names (both the main domain name and the high-level domain) from the e-mail address.</P></TD></tr><tr><td></td><td></td></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch15qa1q26"></a><b>15-26.</b></td><td><p class="docText">Replace the e-mail address from each line of data with your e-mail address.</P></td></TR><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch15qa1q27"></a><b>15-27.</b></TD><td><p class="docText">Extract the months, days, and years from the timestamps and output them in &quot;Mon Day, Year&quot; format, iterating over each line only once.</P></TD></TR></table></P>
<p class="docText"><span class="docEmphasis">For problems 15-28 and 15-29, recall the regular expression introduced in <a class="docLink" href="ch15lev1sec2.html#ch15lev1sec2">Section 15.2</a>, which matched telephone numbers but allowed for an optional area code prefix: <tt>\d{3}-\d{3}-\d{4}</tt>. Update this regular expression so that:</span></p>
<p><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch15qa1q28"></a><b>15-28.</b></TD><td><p class="docText">Area codes (the first set of three-digits and the accompanying hyphen) are optional, i.e., your RE should match both 800-555-1212 as well as just 555-1212.</P></td></TR><TR valign="top"><td align="right" class="docText" width="50"><a name="ch15qa1q29"></a><b>15-29.</b></td><td><p class="docText">Either parenthesized or hyphenated area codes are supported, not to mention optional; make your RE match 800-555-1212, 555-1212, and also (800) 555-1212.</P></td></tr></table></P>

<a href="14051536.html"><img src="images/pixel.jpg" alt="" width="1" height="1" border="0"></a></TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch15lev1sec4.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch16.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>