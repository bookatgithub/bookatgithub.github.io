<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 18.7.&nbsp; Exercises</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch18lev1sec6.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch19.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><TD valign="top"><a name="ch18lev1sec7"></a>
<h3 id="title-IDA1ORCH" class="docSection1Title">18.7. Exercises</H3>
<p><table border="0" cellspacing="16" cellpadding="0"><TR valign="top"><TD align="right" class="docText" width="50"><a name="ch18qa1q1"></a><B>18-1.</b></TD><td><p class="docText"><span class="docEmphasis">Processes versus Threads</span>. What are the differences between processes and threads?</p></td></TR><tr><TD></td><TD></td></TR><TR valign="top"><td align="right" class="docText" width="50"><a name="ch18qa1q2"></a><b><a class="docLink" href="app01lev1sec17.html#app01qa17q0a1">18-2.</a></b></td><td><p class="docText"><span class="docEmphasis">Python Threads</span>. Which type of multithreaded application will tend to fare better in Python, I/O-bound or CPU-bound?</P></td></tr><TR valign="top"><td align="right" class="docText" width="50"><a name="ch18qa1q3"></a><b>18-3.</b></td><TD><p class="docText"><span class="docEmphasis">Threads</span>. Do you think anything significant happens if you have multiple threads on a multiple CPU system? How do you think multiple threads run on these systems?</P></td></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch18qa1q4"></a><b>18-4.</b></td><td><p class="docText"><span class="docEmphasis">Threads and Files</span>. Update your solution to <a class="docLink" href="ch09lev1sec11.html#ch09qa1q9">Exercise 9-19</a>, which obtains a byte value and a file name, displaying the number of times that byte appears in the file. Let's suppose this is a really big file. Multiple readers in a file is acceptable, so create multiple threads that count in different parts of the file so that each thread is responsible for a certain part of the file. Collate the data from each thread and provide the summed-up result. Use your <tt>timeit()</tt> code to time both the single threaded version and your new multithreaded version and say something about the performance improvement.</p></td></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch18qa1q5"></a><B>18-5.</b></td><TD><p class="docText"><span class="docEmphasis">Threads, Files, and Regular Expressions</span>. You have a very large mailbox fileif you don't have one, put all of your e-mail messages together into a single text file. Your job is to take the regular expressions you designed in <a class="docLink" href="ch15.html#ch15">Chapter 15</a> that recognize e-mail addresses and Web site URLs, and use them to convert all e-mail addresses and URLs in this large file into live links so that when the new file is saved as an <tt>.html</tt> (or <tt>.htm</tt>) file, will show up in a Web browser as live and clickable. Use threads to segregate the conversion process across the large text file and collate the results into a single new <tt>.html</tt> file. Test the results on your Web browser to ensure the links are indeed working.</p></TD></tr><TR valign="top"><td align="right" class="docText" width="50"><a name="ch18qa1q6"></a><B>18-6.</b></TD><TD><p class="docText"><span class="docEmphasis">Threads and Networking</span>. Your solution to the chat service application in the previous chapter (<a class="docLink" href="ch16lev1sec7.html#ch16qa1q7">Exercises 16-7</a> to <a class="docLink" href="ch16lev1sec7.html#ch16qa1q10">16-10</a>) may have required you to use heavyweight threads or processes as part of your solution. Convert that to be multithreaded <tt>code</tt>.</P></td></tr><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch18qa1q7"></a><b>18-7.</b></TD><td><p class="docText">*<span class="docEmphasis">Threads and Web Programming</span>. The <tt>Crawler</tt> up ahead in <a class="docLink" href="ch19lev1sec3.html#ch19list01">Example 19.1</a> is a single-threaded application that downloads Web pages that would benefit from MT programming. Update <tt>crawl.py</tt> (you could call it <tt>mtcrawl.py</tt>) such that independent threads are used to download pages. Be sure to use some kind of locking mechanism to prevent conflicting access to the links queue.</P></td></TR><TR><td></td><td></td></TR><tr valign="top"><td align="right" class="docText" width="50"><a name="ch18qa1q8"></a><B>18-8.</b></td><td><p class="docText"><span class="docEmphasis">Thread Pools</span>. Instead of a producer thread and a consumer thread, change the code in <a class="docLink" href="ch18lev1sec5.html#ch18list09">Example 18.9</a>, <tt>prodcons.py</tt>, so that you have any number of consumer threads (a <span class="docEmphasis">thread pool</span>) which can process or consume more than one item from the <tt>Queue</tt> at any given moment.</p></TD></TR><tr valign="top"><td align="right" class="docText" width="50"><a name="ch18qa1q9"></a><b>18-9.</b></td><td><p class="docText"><span class="docEmphasis">Files</span>. Create a set of threads to count how many lines there are in a set of (presumably large) text files. You may choose the number of threads to use. Compare the performance against a single-threaded version of this code. Hint: Review <a class="docLink" href="ch09.html#ch09">Chapter 9</a> (Files and I/O) exercises.</p></td></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch18qa1q10"></a><b>18-10.</b></td><TD><p class="docText">Take your solution to the previous exercise and adopt it to a task of your selection, i.e., processing a set of e-mail messages, downloading Web pages, processing RSS or Atom feeds, enhancing message processing as part of a chat server, solving a puzzle, etc.</p></TD></tr></table></P>

</TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch18lev1sec6.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch19.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>