<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 22.1.&nbsp; Introduction/Motivation</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch22.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch22lev1sec2.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><TD valign="top"><a name="ch22lev1sec1"></a>
<h3 id="title-IDAZIWUD" class="docSection1Title">22.1. Introduction/Motivation</H3>
<a name="ch22lev2sec1"></a>
<h4 id="title-IDACJWUD" class="docSection2Title">22.1.1. What Are Extensions?</H4>
<p class="docText">In general, any code that you write that can be integrated or imported into another Python script can be considered an extension. This new code can be written in pure Python or in a compiled language like C and C++ (or Java for Jython and C# or VisualBasic.NET for IronPython).</P>
<p class="docText">One great feature of Python is that its extensions interact with the interpreter in exactly the same way as the regular Python modules. Python was designed so that the abstraction of module import hides the underlying implementation details from the code that uses such extensions. Unless the client programmer searches the file system, he or she simply cannot tell whether a module is written in Python or in a compiled language.</P>
<a name="ch22note01"></a><div class="docNote"><p class="docNoteTitle">Core Note: Creating extensions on different platforms</P>



<p class="docText"><a name="iddle1453"></a><a name="iddle1480"></a><a name="iddle1557"></a><a name="iddle1931"></a><a name="iddle1942"></a><a name="iddle2985"></a><a name="iddle4361"></a><a name="iddle4509"></a><span class="docEmphasis">We will note here that extensions are generally available in a development environment where you compile your own Python interpreter. There is a subtle relationship between manual compilation versus obtaining the binaries. Although compilation may be a bit trickier than just downloading and installing binaries, you have the most flexibility in customizing the version of Python you are using. If you intend to create extensions, you should perform this task in a similar environment.</span></p>
<p class="docText"><span class="docEmphasis">The examples in this chapter are built on a Unix-based system (which usually comes with a compilers), but, assuming you do have access to a C/C++ (or Java) compiler and a Python development environment in C/C++ (or Java), the only differences are in your compilation method. The actual code to make your extensions usable in the Python world is the same on any platform.</span></p>
<p class="docText"><span class="docEmphasis">If you are developing on a Win32 platform, you will need Visual C++ &quot;Developer Studio.&quot; The Python distribution comes with project files for version 7.1, but you may use older versions of VC++. More information on building extensions on Win32 can be found at:</span></p>
<p class="docText"><a class="docLink" target="_blank" href="http://docs.python.org/ext/building-on-windows.html">http://docs.python.org/ext/building-on-windows.html</a></P>
<p class="docText"><span class="docEmphasis">Caution:Although we know enough not to move binaries between different hosts, it is also a good idea just to compile on the same box and not move extensions between boxes either, even if they are of the same architecture. Sometimes slight differences of compiler or CPU will cause code not to work consistently.</span></p>
</div><BR>

<a name="ch22lev2sec2"></a>
<h4 id="title-IDAZLWUD" class="docSection2Title">22.1.2. Why Extend Python?</H4>
<p class="docText">Throughout the brief history of software engineering, programming languages have always been taken at face value. What you see is what you get; it was impossible to add new functionality to an existing language. In today's programming environment, however, the ability to customize one's programming environment is now a desired feature; it also promotes code reuse. Languages such as TCL and Python are among the first languages to provide the ability to extend the base language. So why would you want to extend a language like Python, which is already feature-rich? There are several good reasons:</p>
<UL><LI><p class="docList"><span class="docEmphStrong">Added/extra (non-Python) functionality</span></p><p class="docList">One reason for extending Python is the need to have new functionality not provided by the core part of the language. This can be accomplished in either pure Python or as a compiled extension,<a name="iddle1445"></a><a name="iddle1481"></a><a name="iddle1938"></a><a name="iddle1950"></a><a name="iddle2530"></a><a name="iddle2646"></a><a name="iddle2651"></a><a name="iddle3410"></a><a name="iddle3458"></a><a name="iddle3465"></a><a name="iddle3471"></a><a name="iddle3484"></a> but there are certain things such as creating new data types or embedding Python in an existing application which must be compiled.</p></li><li><p class="docList"><span class="docEmphStrong">Bottleneck performance improvement</span></P><p class="docList">It is well known that interpreted languages do not perform as fast as compiled languages due to the fact that translation must happen on the fly and during runtime. In general, moving a body of code into an extension will improve overall performance. The problem is that it is sometimes not advantageous if the cost is high in terms of resources.</p><p class="docList">Percentage-wise, it is a wiser bet to do some simple profiling of the code to identify what the bottlenecks are, and move <span class="docEmphasis">those</span> pieces of code out to an extension. The gain can be seen more quickly and without expending as much in terms of resources.</p></LI><li><p class="docList"><span class="docEmphStrong">Keep proprietary source code private</span></p><p class="docList">Another important reason to create extensions is due to one side effect of having a scripting language. For all the ease-of-use such languages bring to the table, there really is no privacy as far as source code is concerned because the executable <span class="docEmphasis">is</span> the source code.</p><p class="docList">Code that is moved out of Python and into a compiled language helps keep proprietary code private because you ship a binary object. Because these objects are compiled, they are not as easily reverse-engineered; thus, the source remains more private. This is key when it involves special algorithms, encryption or software security, etc.</P><p class="docList">Another alternative to keeping code private is to ship pre-compiled .<tt>pyc</tt> files only. It serves as a good middle ground between releasing the actual source (.<tt>py</tt> files) and having to migrate that code to extensions.</P></li></ul>


<a href="14051536.html"><img src="images/pixel.jpg" alt="" width="1" height="1" border="0"></a></TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch22.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch22lev1sec2.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>