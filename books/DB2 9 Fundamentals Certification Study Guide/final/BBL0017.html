<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Authorities and Privileges</title>
<link rel="STYLESHEET" type="text/css" href="images/css1.css">
<link rel="STYLESHEET" type="text/css" href="images/css2.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=BBL0016.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=BBL0018.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><div class="chapter">
<a name=""></a>
<div class="section">
<h2 class="first-section-title">
<a name="228"></a><a name="ch03le"></a>Authorities and Privileges</h2>
<p class="first-para">Once a user has been authenticated and an attachment to an instance or a connection to a database has been established, the DB2 Database Manger evaluates any <i class="emphasis">authorities</i> and <i class="emphasis">privileges</i> that have been assigned to the user to determine what operations the user is allowed to perform. Privileges convey the rights to perform certain actions against specific database resources (such as tables and views). Authorities convey a set of privileges or the right to perform high-level administrative and maintenance/utility operations on an instance or a database. Authorities and privileges can be assigned directly to a user, or they can be obtained indirectly from the authorities and privileges that have been assigned to a group of which the user is a member. Together, authorities and privileges act to control access to the DB2 Database Manager for an instance, to one or more databases running under that instance's control, and to a particular database's objects. Users can only work with those objects for which they have been given the appropriate authorization-that is, the required authority or privilege. <a class="internaljump" href="#ch0">Figure 3-1</a> provides a hierarchical view of the authorities and privileges that are recognized by DB2 9.</p>
<div class="figure">
<a name="229"></a><a name="ch0"></a><span class="figuremediaobject"><a href="images/fig123_01_0.jpg" NAME="IMG_42" target="_parent"><img alt="Image from book" id="IMG_42" src="images/fig123_01.jpg" height="441" width="350" title="Click To expand" border="0"></a></span>
<br style="line-height: 1">
<span class="figure-title"><span class="figure-titlelabel">Figure 3-1: </span>Hierarchy of the authorities and privileges available with DB2 9.</span>
</div>
<a name="230"></a><a name=""></a><a name="231"></a><a name=""></a>
<div class="section">
<h3 class="sect3-title">
<a name="232"></a><a name="ch03le"></a>Authorities</h3>
<p class="first-para">DB2 9 uses seven different levels of authority to control how users perform administrative and/or maintenance operations against an instance or a database. These levels are:</p>
<ul class="itemizedlist">
<li class="first-listitem">
<p class="first-para">System Administrator (<span class="fixed">SYSADM</span>) authority</p>
</li>
<li class="listitem">
<p class="first-para">System Control (<span class="fixed">SYSCTRL</span>) authority</p>
</li>
<li class="listitem">
<p class="first-para">System Maintenance (<span class="fixed">SYSMAINT</span>) authority</p>
</li>
<li class="listitem">
<p class="first-para">System Monitor (<span class="fixed">SYSMON</span>) authority</p>
</li>
<li class="listitem">
<p class="first-para">Database Administrator (<span class="fixed">DBADM</span>) authority</p>
</li>
<li class="listitem">
<p class="first-para">Security Administrator (<span class="fixed">SECADM</span>) authority</p>
</li>
<li class="listitem">
<p class="first-para">Load (<span class="fixed">LOAD</span>) authority</p>
</li>
</ul>
<p class="para">Four of these levels apply to the DB2 Database Manager instance (and to all databases that are under that instance's control), while three apply only to specific databases within a particular instance. The instance-level authorities can only be assigned to groups; the names of the groups that are assigned these authorities are stored in the DB2 Database Manager configuration file that is associated with the instance. Conversely, the database-level authorities can be assigned to individual users and, in some cases, groups; groups and users that have been assigned database-level authorities are recorded in the system catalog tables of the database to which the authority applies.</p>
<div class="section">
<h4 class="sect4-title">
<a name="233"></a><a name="ch03le"></a>System Administrator Authority</h4>
<p class="first-para">System Administrator (<span class="fixed">SYSADM</span>) authority is the highest level of administrative authority available. Users who have been given this authority are allowed to run any DB2 utility, execute any DB2 command, and perform any SQL/XQuery operation that does not attempt to access data that is protected by Label-Based Access Control (LBAC). Users with this authority also have the ability to control all database objects within an instance, including databases, database partition groups, buffer pools, table spaces, schemas, tables, views, indexes, aliases, servers, data types, functions, procedures, triggers, packages, and event monitors. Additionally, users who have been given this authority are allowed to perform the following tasks:</p>
<a name="234"></a><a name=""></a>
<ul class="itemizedlist">
<li class="first-listitem">
<p class="first-para">Migrate an existing database from a previous version of DB2 to DB2 Version 9.</p>
</li>
<li class="listitem">
<p class="first-para">Modify the parameter values of the DB2 Database Manager configuration file associated with an instance-including specifying which groups have System Administrator, System Control, System Maintenance, and System Monitor authority. (The DB2 Database Manager configuration file is used to control the amount of system resources allocated to a single instance.)</p>
</li>
<li class="listitem">
<p class="first-para">Give (grant) Database Administrator authority and Security Administrator authority to individual users and/or groups.</p>
</li>
<li class="listitem">
<p class="first-para">Revoke Database Administrator authority and/or Security Administrator authority from individual users and/or groups.</p>
</li>
</ul>
<p class="para">System Administrator authority can only be assigned to a group; this assignment is made by storing the appropriate group name in the <span class="fixed">sysadm_group</span> parameter of the DB2 Database Manager configuration file associated with an instance. Individual membership in the group itself is controlled through the security facility provided by the operating system used on the workstation where the instance has been defined. Users who possess System Administrator authority are responsible both for controlling the DB2 Database Manager associated with an instance and for ensuring the safety and integrity of the data contained in databases that fall under the instance's control.</p>
<p class="last-para">Users who hold System Administrator authority are implicitly given the rights granted by System Control, System Maintenance, System Monitor, and Database Administrator authority. However, they are not implicitly given the rights granted by Security Administrator authority.</p>
</div>
<div class="section">
<h4 class="sect4-title">
<a name="235"></a><a name="ch03le"></a>System Control Authority</h4>
<p class="first-para">System Control (<span class="fixed">SYSCTRL</span>) authority is the highest level of system or instance control authority available. Users who have been given this authority are allowed to perform maintenance and utility operations both on a DB2 Database Manager instance and on any databases that fall under that instance's control. However, because System Control authority is designed to allow special users to maintain an instance that contains sensitive data that they most likely do not have the right to view or modify, users who are granted this authority do not implicitly receive authority to access the data stored in the databases that are controlled by the <a name="236"></a><a name=""></a>instance. On the other hand, because a connection to a database is required in order to perform some of the utility operations available, users who are granted System Control authority for a particular instance also receive the privileges needed to connect to each database under that instance's control.</p>
<p class="para">Users with System Control authority (or higher) are allowed to perform the following tasks:</p>
<ul class="itemizedlist">
<li class="first-listitem">
<p class="first-para">Update a database, node, or database connection services (DCS) directory (by cataloging/uncataloging databases, nodes, or DCS databases).</p>
</li>
<li class="listitem">
<p class="first-para">Modify the parameter values in one or more database configuration files. (A database configuration file is used to control the amount of system resources that are allocated to a single database during normal operation.)</p>
</li>
<li class="listitem">
<p class="first-para">Force users off the system.</p>
</li>
<li class="listitem">
<p class="first-para">Create or destroy (drop) a database.</p>
</li>
<li class="listitem">
<p class="first-para">Create, alter, or drop a table space.</p>
</li>
<li class="listitem">
<p class="first-para">Make a backup image of a database or a table space.</p>
</li>
<li class="listitem">
<p class="first-para">Restore an existing database using a backup image.</p>
</li>
<li class="listitem">
<p class="first-para">Restore a table space using a backup image.</p>
</li>
<li class="listitem">
<p class="first-para">Create a new database from a database backup image.</p>
</li>
<li class="listitem">
<p class="first-para">Perform a roll-forward recovery operation on a database.</p>
</li>
<li class="listitem">
<p class="first-para">Start or stop a DB2 Database Manager instance.</p>
</li>
<li class="listitem">
<p class="first-para">Run a trace on a database operation.</p>
</li>
<li class="listitem">
<p class="first-para">Take database system monitor snapshots of a DB2 Database Manager instance or any database under the instance's control.</p>
</li>
<li class="listitem">
<p class="first-para">Query the state of a table space.</p>
</li>
<li class="listitem">
<p class="first-para">Update recovery log history files.</p>
</li>
<li class="listitem">
<p class="first-para">Quiesce (restrict access to) a table space.</p>
</li>
<li class="listitem">
<p class="first-para">Reorganize a table.</p>
</li>
<li class="listitem">
<p class="first-para">Collect catalog statistics using the <span class="fixed">RUNSTATS</span> utility.</p>
</li>
</ul>
<a name="237"></a><a name=""></a>
<p class="last-para">Like System Administrator authority, System Control authority can only be assigned to a group. This assignment is made by storing the appropriate group name in the <span class="fixed">sysadm_group</span> parameter of the DB2 Database Manager configuration file that is associated with a particular instance. Again, individual membership in the group itself is controlled through the security facility that is used on the workstation where the instance has been defined.</p>
</div>
<div class="section">
<h4 class="sect4-title">
<a name="238"></a><a name="ch03le"></a>System Maintenance Authority</h4>
<p class="first-para">System Maintenance (<span class="fixed">SYSMAINT</span>) authority is the second highest level of system or instance control authority available. Users who have been given this authority are allowed to perform maintenance and utility operations both on a DB2 Database Manager instance on and any databases that fall under that instance's control. System Maintenance authority is designed to allow special users to maintain a database that contains sensitive data that they most likely do not have the right to view or modify. Therefore, users who are granted this authority do not implicitly receive authority to access the data stored in the databases they are allowed to perform maintenance on. However, because a connection to a database must exist before some utility operations can be performed, users who are granted System Maintenance authority for a particular instance automatically receive the privileges needed to connect to each database that falls under that instance's control.</p>
<p class="para">Users with System Maintenance authority (or higher) are allowed to perform the following tasks:</p>
<ul class="itemizedlist">
<li class="first-listitem">
<p class="first-para">Modify the parameter values of one or more DB2 database configuration files.</p>
</li>
<li class="listitem">
<p class="first-para">Make a backup image of a database or a table space.</p>
</li>
<li class="listitem">
<p class="first-para">Restore an existing database using a backup image.</p>
</li>
<li class="listitem">
<p class="first-para">Restore a table space using a backup image.</p>
</li>
<li class="listitem">
<p class="first-para">Perform a roll-forward recovery operation on a database.</p>
</li>
<li class="listitem">
<p class="first-para">Start or stop a DB2 Database Manager instance.</p>
</li>
<li class="listitem">
<p class="first-para">Run a trace on a database operation.</p>
</li>
<li class="listitem">
<p class="first-para">Take database system monitor snapshots of a DB2 Database Manager instance or any database under the instance's control.</p>
<a name="239"></a><a name=""></a>
</li>
<li class="listitem">
<p class="first-para">Query the state of a table space.</p>
</li>
<li class="listitem">
<p class="first-para">Update recovery history log files.</p>
</li>
<li class="listitem">
<p class="first-para">Quiesce (restrict access to) a table space.</p>
</li>
<li class="listitem">
<p class="first-para">Reorganize a table.</p>
</li>
<li class="listitem">
<p class="first-para">Collect catalog statistics using the <span class="fixed">RUNSTATS</span> utility.</p>
</li>
</ul>
<p class="last-para">Like System Administrator and System Control authority, System Maintenance authority can only be assigned to a group. This assignment is made by storing the appropriate group name in the <span class="fixed">sysmaint_group</span> parameter of the DB2 Database Manager configuration file that is associated with a particular instance. Again, individual membership in the group itself is controlled through the security facility that is used on the workstation where the instance has been defined.</p>
</div>
<div class="section">
<h4 class="sect4-title">
<a name="240"></a><a name="ch03le"></a>System Monitor Authority</h4>
<p class="first-para">System Monitor (<span class="fixed">SYSMON</span>) authority is the third highest level of system or instance control authority available with DB2. Users who have been given this authority are allowed to take system monitor snapshots for a DB2 Database Manager instance and/or for one or more databases that fall under that instance's control. System Monitor authority is designed to allow special users to monitor the performance of a database that contains sensitive data that they most likely do not have the right to view or modify. Therefore, users who are granted this authority do not implicitly receive authority to access the data stored in the databases they are allowed to collect snapshot monitor information on. However, because a connection to a database must exist before the snapshot monitor SQL table functions can be used, users who are granted System Monitor authority for a particular instance automatically receive the privileges needed to connect to each database under that instance's control.</p>
<p class="para">Users with System Monitor authority (or higher) are allowed to perform the following tasks:</p>
<ul class="itemizedlist">
<li class="first-listitem">
<p class="first-para">Obtain the current settings of the snapshot monitor switches.</p>
</li>
<li class="listitem">
<p class="first-para">Modify the settings of one or more snapshot monitor switches.</p>
</li>
<li class="listitem">
<p class="first-para">Reset all counters used by the snapshot monitor.</p>
<a name="241"></a><a name=""></a>
</li>
<li class="listitem">
<p class="first-para">Obtain a list of active databases.</p>
</li>
<li class="listitem">
<p class="first-para">Obtain a list of active applications, including DCS applications.</p>
</li>
<li class="listitem">
<p class="first-para">Collect snapshot monitor data.</p>
</li>
<li class="listitem">
<p class="first-para">Use the snapshot monitor SQL table functions.</p>
</li>
</ul>
<p class="last-para">Like System Administrator, System Control, and System Maintenance authority, System Monitor authority can only be assigned to a group. This assignment is made by storing the appropriate group name in the <span class="fixed">sysmon_group</span> parameter of the DB2 Database Manager configuration file that is associated with a particular instance. Again, individual membership in the group itself is controlled through the security facility that is used on the workstation where the instance has been defined.</p>
</div>
<div class="section">
<h4 class="sect4-title">
<a name="242"></a><a name="ch03le"></a>Database Administrator Authority</h4>
<p class="first-para">Database Administrator (<span class="fixed">DBADM</span>) authority is the second highest level of administrative authority available (just below System Administrator authority). Users who have been given this authority are allowed to run most DB2 utilities, issue database-specific DB2 commands, perform most SQL/XQuery operations, and access data stored in any table in a database-provided that data is not protected by LBAC. (To access data protected by LBAC, a user must have the appropriate LBAC credentials.) However, they can perform these functions only on the database for which Database Administrator authority is held.</p>
<p class="para">Additionally, users with Database Administrator authority (or higher) are allowed to perform the following tasks:</p>
<ul class="itemizedlist">
<li class="first-listitem">
<p class="first-para">Read database log files.</p>
</li>
<li class="listitem">
<p class="first-para">Create, activate, and drop event monitors.</p>
</li>
<li class="listitem">
<p class="first-para">Query the state of a table space.</p>
</li>
<li class="listitem">
<p class="first-para">Update recovery log history files.</p>
</li>
<li class="listitem">
<p class="first-para">Quiesce (restrict access to) a table space.</p>
</li>
<li class="listitem">
<p class="first-para">Reorganize a table.</p>
</li>
<li class="listitem">
<p class="first-para">Collect catalog statistics using the <span class="fixed">RUNSTATS</span> utility.</p>
</li>
</ul>
<p class="para">Unlike System Administrator, System Control, System Maintenance, and System Monitor authority, Database Administrator authority can be assigned to both individual users and groups. This assignment is made by executing the appropriate <a name="243"></a><a name=""></a>form of the <span class="fixed">GRANT</span> SQL statement (which we will look at shortly). When a user is given Database Administrator authority for a particular database, they automatically receive all database privileges available for that database as well.</p>
<table border="0" cellspacing="0" cellpadding="0" class="tip">
<tr>
<td valign="top" class="admon-check"></td><td valign="top" class="admon-title">Tip&nbsp;</td><td valign="top" class="admon-body">
<p class="first-para">Any time a user with SYSADM or SYSCTRL authority creates a new database, that user automatically receives DBADM authority on that database. Furthermore, if a user with SYSADM or SYSCTRL authority creates a database and is later removed from the SYSADM or SYSCTRL group (i.e., the user's SYSADM or SYSCTRL authority is revoked), the user retains DBADM authority for that database until it is explicitly removed (revoked).removed (revoked).</p>
</td>
</tr>
</table>
</div>
<div class="section">
<h4 class="sect4-title">
<a name="244"></a><a name="ch03le"></a>Security Administrator Authority</h4>
<p class="first-para">Security Administrator (<span class="fixed">SECADM</span>) authority is a special database level of authority that is designed to allow special users to configure various label-based access control (LBAC) elements to restrict access to one or more tables that contain data to which they most likely do not have access themselves. Users who are granted this authority do not implicitly receive authority to access the data stored in the databases for which they manage data access. In fact, users with Security Administrator authority are only allowed to perform the following tasks:</p>
<ul class="itemizedlist">
<li class="first-listitem">
<p class="first-para">Create and drop security policies.</p>
</li>
<li class="listitem">
<p class="first-para">Create and drop security labels.</p>
</li>
<li class="listitem">
<p class="first-para">Grant and revoke security labels to/from individual users.</p>
</li>
<li class="listitem">
<p class="first-para">Grant and revoke LBAC rule exemptions.</p>
</li>
<li class="listitem">
<p class="first-para">Grant and revoke <span class="fixed">SETSESSIONUSER</span> privileges.</p>
</li>
<li class="listitem">
<p class="first-para">Transfer ownership of any object not owned by the Security Administrator by executing the <span class="fixed">TRANSFER OWNERSHIP</span> SQL statement.</p>
</li>
</ul>
<p class="para">No other authority provides a user with these abilities, including System Administrator authority.</p>
<a name="245"></a><a name=""></a>
<p class="last-para">Security Administrator authority can only be assigned to individual users; it cannot be assigned to groups (including the group <span class="fixed">PUBLIC</span>). This assignment is made by executing the appropriate form of the <span class="fixed">GRANT</span> SQL statement, and only users with System Administrator authority are allowed to grant this authority.</p>
</div>
<div class="section">
<h4 class="sect4-title">
<a name="246"></a><a name="ch03le"></a>Load Authority</h4>
<p class="first-para">Load (<span class="fixed">LOAD</span>) authority is a special database level of administrative authority that has a much smaller scope than <span class="fixed">DBADM</span> authority. Users that have been given this authority, along with <span class="fixed">INSERT</span> and in some cases <span class="fixed">DELETE</span> privileges, on a particular table are allowed to bulk-load data into that table, using either the AutoLoader utility (<span class="fixed">db2atld</span> command) or the <span class="fixed">LOAD</span> command/API. Load authority is designed to allow special users to perform bulk-load operations against a database that they most likely cannot do anything else with. This authority provides a way for Database Administrators to allow more users to perform special database operations, such as Extraction-Transform-Load (ETL) operations, without having to sacrifice control.</p>
<p class="para">In addition to being able to load data into a database table, users with Load authority (or higher) are allowed to perform the following tasks:</p>
<ul class="itemizedlist">
<li class="first-listitem">
<p class="first-para">Query the state of a table space using the <span class="fixed">LIST TABLESPACES</span> command.</p>
</li>
<li class="listitem">
<p class="first-para">Quiesce (restrict access to) a table space.</p>
</li>
<li class="listitem">
<p class="first-para">Perform bulk load operations using the <span class="fixed">LOAD</span> utility. (If exception tables are used as part of a load operation, the user must have <span class="fixed">INSERT</span> privilege on the exception tables used as well as <span class="fixed">INSERT</span> privilege on the table being loaded.)</p>
</li>
<li class="listitem">
<p class="first-para">Collect catalog statistics using the <span class="fixed">RUNSTATS</span> utility.</p>
</li>
</ul>
<p class="para">Like Database Administrator authority, Load authority can be assigned to both individual users and groups. This assignment is made by executing the appropriate form of the <span class="fixed">GRANT</span> SQL statement.</p>
<a name="247"></a><a name=""></a>
</div>
</div>
<div class="section">
<h3 class="sect3-title">
<a name="248"></a><a name="ch03le"></a>Privileges</h3>
<p class="first-para">As mentioned earlier, privileges are used to convey the rights to perform certain actions on specific database resources to both individual users and groups. With DB2 9, two distinct types of privileges exist: <i class="emphasis">database privileges</i> and <i class="emphasis">object</i> <i class="emphasis">privileges</i>.</p>
<div class="section">
<h4 class="sect4-title">
<a name="249"></a><a name="ch03le"></a>Database Privileges</h4>
<p class="first-para">Database privileges apply to a database as a whole, and in many cases, they act as a second security checkpoint that must be cleared before access to data is provided. <a class="internaljump" href="#ch0">Figure 3-2</a> shows the different types of database privileges available.</p>
<div class="figure">
<a name="250"></a><a name="ch0"></a><span class="figuremediaobject"><img alt="Image from book" id="IMG_43" src="images/fig132_01.jpg" height="282" width="340" title="" border="0"></span>
<br style="line-height: 1">
<span class="figure-title"><span class="figure-titlelabel">Figure 3-2: </span>Database privileges available with DB2 9.</span>
</div>
<p class="para">As you can see in <a class="internaljump" href="#ch0">Figure 3-2</a>, eight different database privileges exist. They are:</p>
<ul class="simple-list">
<li class="first-listitem">
<p class="para">
<b><span class="fixed">CONNECT</span>:</b> Allows a user to establish a connection to the database.</p>
</li>
<li class="listitem">
<p class="para">
<b><span class="fixed">QUIESCE_CONNECT</span>:</b> Allows a user to establish a connection to the database while it is in a quiesced state (i.e., while access to it is restricted).</p>
</li>
<li class="listitem">
<p class="para">
<b><span class="fixed">IMPLICIT_SCHEMA</span>:</b> Allows a user to create a new schema in the database implicitly by creating an object and assigning that object a schema name that is different from any of the schema names that already exist in the database.</p>
</li>
<li class="listitem">
<p class="para">
<b><span class="fixed">CREATETAB</span>:</b> Allows a user to create new tables in the database.</p>
</li>
<li class="listitem">
<p class="para">
<b><span class="fixed">BINDADD</span>:</b> Allows a user to create packages in the database (by precompiling embedded SQL application source code files against the database or by binding application bind files to the database).</p>
</li>
<li class="listitem">
<p class="para">
<b><span class="fixed">CREATE_EXTERNAL_ROUTINE</span>:</b> Allows a user to create user-defined functions (UDFs) and/or procedures and store them in the database so that they can be used by other users and applications.</p>
</li>
<li class="listitem">
<p class="para">
<b><span class="fixed">CREATE_NOT_FENCED_ROUTINE</span>:</b> Allows a user to create unfenced UDFs and/or procedures and store them in the database. (Unfenced UDFs and stored procedures are UDFs/procedures that are considered "safe" enough to be run in the DB2 Database Manager operating environment's process or address space. Unless a UDF/procedure is registered as unfenced, the DB2 Database Manager insulates the UDF/procedure's internal resources in such a way that it cannot be run in the DB2 Database Manager's address space.)</p>
<a name="251"></a><a name=""></a>
</li>
<li class="listitem">
<p class="para">
<b><span class="fixed">LOAD</span>:</b> Allows a user to bulk-load data into one or more existing tables in the database.</p>
</li>
</ul>
<p class="last-para">At a minimum, a user must have <span class="fixed">CONNECT</span> privilege on a database before he can work with any object contained in that database.</p>
</div>
<div class="section">
<h4 class="sect4-title">
<a name="252"></a><a name="ch03le"></a>Object Privileges</h4>
<p class="first-para">Unlike database privileges, which apply to a database as a whole, object privileges only apply to specific objects within a database. These objects include table spaces, schemas, tables, views, indexes, sequences, routines, packages, servers, and nicknames. Because the nature of each database object available varies, the individual privileges that exist for each object can vary as well. The following sections describe the different sets of object privileges that are available with DB2 9.</p>
<p class="para">
<b class="bold">Table space privileges:</b> Table space privileges control what users can and cannot do with a particular table space. (Table spaces are used to control where data in a database physically resides.) <a class="internaljump" href="#ch0">Figure 3-3</a> shows the only table space privilege available.</p>
<div class="figure">
<a name="253"></a><a name="ch0"></a><span class="figuremediaobject"><img alt="Image from book" id="IMG_44" src="images/fig133_01.jpg" height="154" width="251" title="" border="0"></span>
<br style="line-height: 1">
<span class="figure-title"><span class="figure-titlelabel">Figure 3-3: </span>Table space privilege available with DB2 9.</span>
</div>
<p class="para">As you can see in <a class="internaljump" href="#ch0">Figure 3-3</a>, only one table space privilege exists. That privilege is the <span class="fixed">USE</span> privilege, which, when granted, allows a user to create tables and indexes in the table space. The owner of a table space (usually the individual who created the table space) automatically receives <span class="fixed">USE</span> privilege for that table space.</p>
<a name="254"></a><a name=""></a>
<table border="0" cellspacing="0" cellpadding="0" class="tip">
<tr>
<td valign="top" class="admon-check"></td><td valign="top" class="admon-title">Tip&nbsp;</td><td valign="top" class="admon-body">
<p class="first-para">The USE privilege cannot be used to provide a user with the ability to create tables in the SYSCATSPACE table space or in any temporary table space that might exist.</p>
</td>
</tr>
</table>
<p class="para">
<b class="bold">Schema privileges:</b> Schema privileges control what users can and cannot do with a particular schema. (A schema is an object that is used to logically classify and group other objects in the database; most objects are named using a naming convention that consists of a schema name, followed by a period, followed by the object name.) <a class="internaljump" href="#ch0">Figure 3-4</a> shows the different types of schema privileges available.</p>
<div class="figure">
<a name="255"></a><a name="ch0"></a><span class="figuremediaobject"><img alt="Image from book" id="IMG_45" src="images/fig134_01.jpg" height="202" width="255" title="" border="0"></span>
<br style="line-height: 1">
<span class="figure-title"><span class="figure-titlelabel">Figure 3-4: </span>Schema privileges available with DB2 9.</span>
</div>
<p class="para">As you can see in <a class="internaljump" href="#ch0">Figure 3-4</a>, three different schema privileges exist. They are:</p>
<ul class="simple-list">
<li class="first-listitem">
<p class="para">
<b><span class="fixed">CREATEIN</span>:</b> Allows a user to create objects within the schema.</p>
</li>
<li class="listitem">
<p class="para">
<b><span class="fixed">ALTERIN</span>:</b> Allows a user to change the comment associated with any object in the schema or to alter any object that resides within the schema.</p>
</li>
<li class="listitem">
<p class="para">
<b><span class="fixed">DROPIN</span>:</b> Allows a user to remove (drop) any object within the schema.</p>
</li>
</ul>
<p class="para">Objects that can be manipulated within a schema include tables, views, indexes, packages, user-defined data types, user-defined functions, triggers, stored procedures, and aliases. The owner of a schema (usually the individual who created the schema) automatically receives all privileges available for that schema, along with the right to grant any combination of those privileges to other users and groups.</p>
<p class="para">
<b class="bold">Table privileges</b>: Table privileges control what users can and cannot do with a particular table in a database. (A table is a logical structure that is used to present data as a collection of unordered rows with a fixed number of columns.) <a class="internaljump" href="#ch0">Figure 3-5</a> shows the different types of table privileges available.</p>
<div class="figure">
<a name="256"></a><a name="ch0"></a><span class="figuremediaobject"><img alt="Image from book" id="IMG_46" src="images/fig135_01.jpg" height="372" width="269" title="" border="0"></span>
<br style="line-height: 1">
<span class="figure-title"><span class="figure-titlelabel">Figure 3-5: </span>Table privileges available with DB2 9.</span>
</div>
<a name="257"></a><a name=""></a>
<p class="para">As you can see in <a class="internaljump" href="#ch0">Figure 3-5</a>, eight different table privileges exist. They are:</p>
<ul class="simple-list">
<li class="first-listitem">
<p class="para">
<b><span class="fixed">CONTROL</span>:</b> Provides a user with every table privilege available, allows the user to remove (drop) the table from the database, and gives the user the ability to grant and revoke one or more table privileges (except the <span class="fixed">CONTROL</span> privilege) to/from other users and groups. (<span class="fixed">CONTROL</span> privilege is not recognized by DB2 for iSeries and DB2 for zSeries.)</p>
</li>
<li class="listitem">
<p class="para">
<b><span class="fixed">ALTER</span>:</b> Allows a user to execute the <span class="fixed">ALTER TABLE</span> SQL statement against the table. In other words, allows a user to add columns to the table, add or change comments associated with the table or any of its columns, create a primary key for the table, create a unique constraint for the table, create or drop a check constraint for the table, and create triggers for the table (provided the user holds the appropriate privileges for every object referenced by the trigger).</p>
</li>
<li class="listitem">
<p class="para">
<b><span class="fixed">SELECT</span>:</b> Allows a user to execute a <span class="fixed">SELECT</span> SQL statement against the table. In other words, this privilege allows a user to retrieve data from a table, create a view that references the table, and run the <span class="fixed">EXPORT</span> utility against the table.</p>
</li>
<li class="listitem">
<p class="para">
<b><span class="fixed">INSERT</span>:</b> Allows a user to execute the <span class="fixed">INSERT</span> SQL statement against the table. In other words, this privilege allows a user to add data to the table and run the <span class="fixed">IMPORT</span> utility against the table.</p>
</li>
<li class="listitem">
<p class="para">
<b><span class="fixed">UPDATE</span>:</b> Allows a user to execute the <span class="fixed">UPDATE</span> SQL statement against the table. In other words, this privilege allows a user to modify data in the table. (This privilege can be granted for the entire table or limited to one or more columns within the table.)</p>
</li>
<li class="listitem">
<p class="para">
<b><span class="fixed">DELETE</span>:</b> Allows a user to execute the <span class="fixed">DELETE</span> SQL statement against the table. In other words, allows a user to remove rows of data from the table.</p>
</li>
<li class="listitem">
<p class="para">
<b><span class="fixed">INDEX</span>:</b> Allows a user to create an index for the table.</p>
</li>
<li class="listitem">
<p class="para">
<b><span class="fixed">REFERENCES</span>:</b> Allows a user to create and drop foreign key constraints that reference the table in a parent relationship. (This privilege can be granted for the entire table or limited to one or more columns within the table, in which case only those columns can participate as a parent key in a referential constraint.)</p>
</li>
</ul>
<a name="258"></a><a name=""></a>
<p class="para">The owner of a table (usually the individual who created the table) automatically receives all privileges available for that table (including <span class="fixed">CONTROL</span> privilege), along with the right to grant any combination of those privileges (except <span class="fixed">CONTROL</span> privilege) to other users and groups. If the <span class="fixed">CONTROL</span> privilege is later revoked from the table owner, all other privileges that were automatically granted to the owner for that particular table are not automatically revoked. Instead, they must be explicitly revoked in one or more separate operations.</p>
<p class="para">
<b class="bold">View privileges</b>: View privileges control what users can and cannot do with a particular view. (A view is a virtual table residing in memory that provides an alternative way of working with data that resides in one or more base tables. For this reason, views can be used to prevent access to select columns in a table.) <a class="internaljump" href="#ch0">Figure 3-6</a> shows the different types of view privileges available.</p>
<div class="figure">
<a name="259"></a><a name="ch0"></a><span class="figuremediaobject"><img alt="Image from book" id="IMG_47" src="images/fig136_01.jpg" height="300" width="270" title="" border="0"></span>
<br style="line-height: 1">
<span class="figure-title"><span class="figure-titlelabel">Figure 3-6: </span>View privileges available with DB2 9.</span>
</div>
<p class="para">As you can see in <a class="internaljump" href="#ch0">Figure 3-6</a>, five different view privileges exist. They are:</p>
<ul class="simple-list">
<li class="first-listitem">
<p class="para">
<b><span class="fixed">CONTROL</span>:</b> Provides a user with every view privilege available, allows the user to remove (drop) the view from the database, and gives the user the ability to grant and revoke one or more view privileges (except the <span class="fixed">CONTROL</span> privilege) to/from other users and groups. (<span class="fixed">CONTROL</span> privilege is not recognized by DB2 for iSeries and DB2 for zSeries.)</p>
</li>
<li class="listitem">
<p class="para">
<b><span class="fixed">SELECT</span>:</b> Allows a user to retrieve data from the view, create a second view that references the view, and run the <span class="fixed">EXPORT</span> utility against the view.</p>
</li>
<li class="listitem">
<p class="para">
<b><span class="fixed">INSERT</span>:</b> Allows a user to execute the <span class="fixed">INSERT</span> SQL statement against the view. In other words, allows a user to add data to the view.</p>
</li>
<li class="listitem">
<p class="para">
<b><span class="fixed">UPDATE</span>:</b> Allows a user to execute the <span class="fixed">UPDATE</span> SQL statement against the view. In other words, this privilege allows a user to modify data in the view. (This privilege can be granted for the entire view or limited to one or more columns within the view.)</p>
<a name="260"></a><a name=""></a>
</li>
<li class="listitem">
<p class="para">
<b><span class="fixed">DELETE</span>:</b> Allows a user to execute the <span class="fixed">DELETE</span> SQL statement against the views. In other words, this privilege allows a user to remove rows of data from the view.</p>
</li>
</ul>
<p class="para">In order to create a view, a user must hold appropriate privileges (at a minimum, <span class="fixed">SELECT</span> privilege) on each base table the view references. The owner of a view (usually the individual who created the view) automatically receives all privileges available-with the exception of the <span class="fixed">CONTROL</span> privilege-for that view, along with the right to grant any combination of those privileges (except <span class="fixed">CONTROL</span> privilege) to other users and groups. A view owner will only receive <span class="fixed">CONTROL</span> privilege for a view if they also hold <span class="fixed">CONTROL</span> privilege for every base table the view references.</p>
<p class="para">
<b class="bold">Index privileges</b>: Index privileges control what users can and cannot do with a particular index. (An index is an ordered set of pointers that refer to one or more key columns in a base table; indexes are used to improve query performance.) <a class="internaljump" href="#ch0">Figure 3-7</a> shows the only index privilege available.</p>
<div class="figure">
<a name="261"></a><a name="ch0"></a><span class="figuremediaobject"><img alt="Image from book" id="IMG_48" src="images/fig137_01.jpg" height="172" width="281" title="" border="0"></span>
<br style="line-height: 1">
<span class="figure-title"><span class="figure-titlelabel">Figure 3-7: </span>Index privilege available with DB2 9.</span>
</div>
<p class="para">As you can see in <a class="internaljump" href="#ch0">Figure 3-7</a>, only one index privilege exists. That privilege is the <span class="fixed">CONTROL</span> privilege, which, when granted, allows a user to remove (drop) the index from the database. Unlike the <span class="fixed">CONTROL</span> privilege for other objects, the <span class="fixed">CONTROL</span> privilege for an index does not give a user the ability to grant and revoke index privileges to/from other users and groups. That's because the <span class="fixed">CONTROL</span> privilege is the only index privilege available, and only users who hold System Administrator or Database Administrator authority are allowed to grant and revoke <span class="fixed">CONTROL</span> privileges for an object.</p>
<p class="para">The owner of an index (usually the individual who created the index) automatically receives <span class="fixed">CONTROL</span> privilege for that index.</p>
<a name="262"></a><a name=""></a>
<p class="para">It is important to note that this index privilege is available only with DB2 for Linux, UNIX, and Windows; <span class="fixed">CONTROL</span> privilege is not recognized by DB2 for iSeries and DB2 for zSeries.</p>
<p class="para">
<b class="bold">Sequence privileges</b>: Sequence privileges control what users can and cannot do with a particular sequence. (A sequence is an object that can be used to generate values automatically. Sequences are ideal for generating unique key values, and they can be used to avoid the possible concurrency and performance problems that can occur when unique counters residing outside the database are used for data generation.) <a class="internaljump" href="#ch0">Figure 3-8</a> shows the different types of sequence privileges available.</p>
<div class="figure">
<a name="263"></a><a name="ch0"></a><span class="figuremediaobject"><img alt="Image from book" id="IMG_49" src="images/fig138_01.jpg" height="179" width="252" title="" border="0"></span>
<br style="line-height: 1">
<span class="figure-title"><span class="figure-titlelabel">Figure 3-8: </span>Sequence privileges available with DB2 9.</span>
</div>
<p class="para">As you can see in <a class="internaljump" href="#ch0">Figure 3-8</a>, two different sequence privileges exist. They are:</p>
<ul class="simple-list">
<li class="first-listitem">
<p class="para">
<b><span class="fixed">USAGE</span>:</b> Allows a user to use the <span class="fixed">PREVIOUS VALUE</span> and <span class="fixed">NEXT VALUE</span> expressions that are associated with the sequence. (The <span class="fixed">PREVIOUS VALUE</span> expression returns the most recently generated value for the specified sequence; the <span class="fixed">NEXT VALUE</span> expression returns the next value for the specified sequence.)</p>
</li>
<li class="listitem">
<p class="para">
<b><span class="fixed">ALTER</span>:</b> Allows a user to perform administrative tasks such as restarting the sequence, changing the increment value for the sequence, and adding or changing the comment associated with the sequence.</p>
</li>
</ul>
<p class="para">The owner of a sequence (usually the individual who created the sequence) automatically receives all privileges available for that sequence, along with the right to grant any combination of those privileges to other users and groups.</p>
<p class="para">
<b class="bold">Routine privileges</b>: Routine privileges control what users can and cannot do with a particular routine. (A routine can be a user-defined function, a stored procedure, or a method that can be invoked by several different users.) <a class="internaljump" href="#ch0">Figure 3-9</a> shows the only routine privilege available.</p>
<div class="figure">
<a name="264"></a><a name="ch0"></a><span class="figuremediaobject"><img alt="Image from book" id="IMG_50" src="images/fig139_01.jpg" height="152" width="250" title="" border="0"></span>
<br style="line-height: 1">
<span class="figure-title"><span class="figure-titlelabel">Figure 3-9: </span>Routine privilege available with DB2 9.</span>
</div>
<a name="265"></a><a name=""></a>
<p class="para">As you can see in <a class="internaljump" href="#ch0">Figure 3-9</a>, only one routine privilege exists. That privilege is the <span class="fixed">EXECUTE</span> privilege, which, when granted, allows a user to invoke the routine, create a function that is sourced from the routine (provided the routine is a function), and reference the routine in any Data Definition Language SQL statement (for example, <span class="fixed">CREATE VIEW</span> and <span class="fixed">CREATE TRIGGER</span>).</p>
<p class="para">The owner of a routine (usually the individual who created the routine) automatically receives <span class="fixed">EXECUTE</span> privilege for that routine.</p>
<p class="para">
<b class="bold">Package privileges:</b> Package privileges control what users can and cannot do with a particular package. (A package is an object that contains the information needed by the DB2 Database Manager to process SQL statements in the most efficient way possible on behalf of an embedded SQL application.) <a class="internaljump" href="#ch0">Figure 3-10</a> shows the different types of package privileges available.</p>
<div class="figure">
<a name="266"></a><a name="ch0"></a><span class="figuremediaobject"><img alt="Image from book" id="IMG_51" src="images/fig139_02.jpg" height="237" width="254" title="" border="0"></span>
<br style="line-height: 1">
<span class="figure-title"><span class="figure-titlelabel">Figure 3-10: </span>Package privileges available with DB2 9.</span>
</div>
<p class="para">As you can see in <a class="internaljump" href="#ch0">Figure 3-10</a>, three different package privileges exist. They are:</p>
<ul class="simple-list">
<li class="first-listitem">
<p class="para">
<b><span class="fixed">CONTROL</span>:</b> Provides a user with every package privilege available, allows the user to remove (drop) the package from the database, and gives the user the ability to grant and revoke one or more table privileges (except the <span class="fixed">CONTROL</span> privilege) to/from other users and groups. (<span class="fixed">CONTROL</span> privilege is not recognized by DB2 for iSeries and DB2 for zSeries.)</p>
</li>
<li class="listitem">
<p class="para">
<b><span class="fixed">BIND</span>:</b> Allows a user to rebind or add new package versions to a package that has already been bound to a database. (In addition to the <span class="fixed">BIND</span> package privilege, a user must hold the privileges needed to execute the SQL statements that make up the package before the package can be successfully rebound.)</p>
</li>
<li class="listitem">
<p class="para">
<b><span class="fixed">EXECUTE</span>:</b> Allows a user to execute the package. (A user that has <span class="fixed">EXECUTE</span> privilege for a particular package can execute that package, even if the user does not have the privileges that are needed to execute the SQL statements stored in the package. That is because any privileges needed to execute the SQL statements are implicitly granted to the package user. It is important to note that for privileges to be implicitly granted, the creator of the package must hold privileges as an individual user or as a member of the group <span class="fixed">PUBLIC</span>-not as a member of another named group.)</p>
</li>
</ul>
<a name="267"></a><a name=""></a>
<p class="para">The owner of a package (usually the individual who created the package) automatically receives all privileges available for that package (including <span class="fixed">CONTROL</span> privilege), along with the right to grant any combination of those privileges (except <span class="fixed">CONTROL</span> privilege) to other users and groups. If the <span class="fixed">CONTROL</span> privilege is later revoked from the package owner, all other privileges that were automatically granted to the owner for that particular package are not automatically revoked. Instead, they must be explicitly revoked in one or more separate operations.</p>
<table border="0" cellspacing="0" cellpadding="0" class="tip">
<tr>
<td valign="top" class="admon-check"></td><td valign="top" class="admon-title">Tip&nbsp;</td><td valign="top" class="admon-body">
<p class="first-para">Users who have <span class="fixed">EXECUTE</span> privilege for a package that contains nicknames do not need additional authorities or privileges for the nicknames in the package; however, they must be able to pass any authentication checks performed at the data source(s) in which objects referenced by the nicknames are stored and they must hold the appropriate authorizations and privileges needed to access all objects referenced.</p>
</td>
</tr>
</table>
<p class="para">
<b class="bold">Server privileges</b>: Server privileges control what users can and cannot do with a particular federated database server. (A DB2 federated system is a distributed computing system that consists of a DB2 server, known as a <i class="emphasis">federated</i> <i class="emphasis">server,</i> and one or more data sources to which the federated server sends queries. Each data source consists of an instance of some supported relational database management system-such as Oracle-plus the database or databases that the instance supports.) <a class="internaljump" href="#ch0">Figure 3-11</a> shows the only server privilege available.</p>
<div class="figure">
<a name="268"></a><a name="ch0"></a><span class="figuremediaobject"><img alt="Image from book" id="IMG_52" src="images/fig141_01.jpg" height="148" width="242" title="" border="0"></span>
<br style="line-height: 1">
<span class="figure-title"><span class="figure-titlelabel">Figure 3-11: </span>Server privilege available with DB2 9.</span>
</div>
<a name="269"></a><a name=""></a>
<p class="para">As you can see in <a class="internaljump" href="#ch0">Figure 3-11</a>, only one server privilege exists. That privilege is the <span class="fixed">PASSTHRU</span> privilege, which, when granted, allows a user to issue Data Definition Language (DDL) and Data Manipulation Language (DML) SQL statements (as pass-through operations) directly to a data source via a federated server.</p>
<p class="para">
<b class="bold">Nickname privileges</b>: Nickname privileges control what users can and cannot do with a particular nickname. (When a client application submits a distributed request to a federated database server, the server forwards the request to the appropriate data source for processing. However, such a request does not identify the data source itself; instead, it references tables and views within the data source by using <i class="emphasis">nicknames</i> that map to specific table and view names in the data source. Nicknames are not alternate names for tables and views in the same way that aliases are; instead, they are pointers by which a federated server references external objects.) <a class="internaljump" href="#ch0">Figure 3-12</a> shows the different types of nickname privileges available.</p>
<div class="figure">
<a name="270"></a><a name="ch0"></a><span class="figuremediaobject"><img alt="Image from book" id="IMG_53" src="images/fig141_02.jpg" height="377" width="273" title="" border="0"></span>
<br style="line-height: 1">
<span class="figure-title"><span class="figure-titlelabel">Figure 3-12: </span>Nickname privileges available with DB2 9.</span>
</div>
<p class="para">As you can see in <a class="internaljump" href="#ch0">Figure 3-12</a>, eight different nickname privileges exist. They are:</p>
<ul class="simple-list">
<li class="first-listitem">
<p class="first-para">
<b class="bold"><span class="fixed">CONTROL</span></b><b class="bold">:</b> Provides a user with every nickname privilege available, allows the user to remove (drop) the nickname from the database, and gives the user the ability to grant and revoke one or more nickname privileges (except the <span class="fixed">CONTROL</span> privilege) to/from other users and groups. (<span class="fixed">CONTROL</span> privilege is not recognized by DB2 for iSeries and DB2 for zSeries.)</p>
</li>
<li class="listitem">
<p class="first-para">
<b class="bold"><span class="fixed">ALTER</span></b><b class="bold">:</b> Allows a user to execute the <span class="fixed">ALTER NICKNAME</span> SQL statement against the nickname. In other words, this privilege allows a user to change column names in the nickname, add or change the DB2 data type that a particular nickname column's data type maps to, and specify column options for a specific nickname column.</p>
<a name="271"></a><a name=""></a>
</li>
<li class="listitem">
<p class="first-para">
<b class="bold"><span class="fixed">SELECT</span></b><b class="bold">:</b> Allows a user to execute a <span class="fixed">SELECT</span> SQL statement against the nickname. In other words, this privilege allows a user to retrieve data from the table or view within a federated data source that the nickname refers to.</p>
</li>
<li class="listitem">
<p class="first-para">
<b class="bold"><span class="fixed">INSERT</span></b><b class="bold">:</b> Allows a user to execute the <span class="fixed">INSERT</span> SQL statement against the nickname. In other words, this privilege allows a user to add data to the table or view within a federated data source that the nickname refers to.</p>
</li>
<li class="listitem">
<p class="first-para">
<b class="bold"><span class="fixed">UPDATE</span></b><b class="bold">:</b> Allows a user to execute the <span class="fixed">UPDATE</span> SQL statement against the nickname. In other words, this privilege allows a user to modify data in the table or view within a federated data source that the nickname refers to. (This privilege can be granted for the entire table or limited to one or more columns within the table.)</p>
</li>
<li class="listitem">
<p class="first-para">
<b class="bold"><span class="fixed">DELETE</span></b><b class="bold">:</b> Allows a user to execute the <span class="fixed">DELETE</span> SQL statement against the nickname. In other words, allows a user to remove rows of data from the table or view within a federated data source that the nickname refers to.</p>
</li>
<li class="listitem">
<p class="first-para">
<b class="bold"><span class="fixed">INDEX</span></b><b class="bold">:</b> Allows a user to create an index specification for the nickname.</p>
</li>
<li class="listitem">
<p class="first-para">
<b class="bold"><span class="fixed">REFERENCES</span></b><b class="bold">:</b> Allows a user to create and drop foreign key constraints that reference the nickname in a parent relationship.</p>
</li>
</ul>
<p class="last-para">The owner of a nickname (usually the individual who created the table) automatically receives all privileges available for that nickname (including <span class="fixed">CONTROL</span> privilege), along with the right to grant any combination of those privileges (except <span class="fixed">CONTROL</span> privilege) to other users and groups. If the <span class="fixed">CONTROL</span> privilege is later revoked from the nickname owner, all other privileges that were automatically granted to the owner for that particular table are not automatically revoked. Instead, they must be explicitly revoked in one or more separate operations.</p>
</div>
</div>
</div>
</div>
</div>
</DIV>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=BBL0016.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=BBL0018.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>