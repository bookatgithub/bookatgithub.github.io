<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>A Quick Review of Schemas</title>
<link rel="STYLESHEET" type="text/css" href="images/css1.css">
<link rel="STYLESHEET" type="text/css" href="images/css2.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=BBL0043.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=BBL0045.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><div class="chapter">
<a name=""></a>
<div class="section">
<h2 class="first-section-title">
<a name="765"></a><a name="ch06le"></a>A Quick Review of Schemas</h2>
<a name="766"></a><a name=""></a>
<p class="para">In <a href="BBL0021.html#346" target="_parent" class="chapterjump">Chapter 4</a>, "<a href="BBL0060.html#942" target="_parent" class="chapterjump">Working with Databases and Database Objects</a>," we saw that schemas are objects that are used to logically classify and group other objects in the database. Schemas also make it possible to create multiple objects in a database without encountering namespace collisions. Most objects in a DB2 database are named using a two-part naming convention. The first (leftmost) part of the name is called the <i class="emphasis">schema name</i> or <i class="emphasis">qualifier</i>, and the second (rightmost) part is called the <i class="emphasis">object name</i>. Syntactically, these two parts are concatenated and delimited with a period (for example, <span class="fixed">PAYROLL.STAFF</span>). When any object that can be qualified by a schema name (such as a table, view, index, user-defined data type, user-defined function, nickname, package, or trigger) is first created, it is assigned to a particular schema based on the qualifier in its name. <a class="internaljump" href="#ch0">Figure 6-15</a> illustrates how a table named <span class="fixed">EMPLOYEES</span> would be assigned to the <span class="fixed">HR</span> schema during the table creation process.</p>
<div class="figure">
<a name="767"></a><a name="ch0"></a><span class="figuremediaobject"><a href="images/fig437_01_0.jpg" NAME="IMG_111" target="_parent"><img alt="Image from book" id="IMG_111" src="images/fig437_01.jpg" height="264" width="350" title="Click To expand" border="0"></a></span>
<br style="line-height: 1">
<span class="figure-title"><span class="figure-titlelabel">Figure 6-15: </span>Assigning a table object to a schema.</span>
</div>
<a name="768"></a><a name=""></a>
<p class="para">The <span class="fixed">CURRENT SCHEMA</span> (or <span class="fixed">CURRENT_SCHEMA</span>) special register contains a value that identifies the schema name that is to be used to qualify references to database objects if no schema/qualifier name is specified. (With DB2 for z/OS, the <span class="fixed">CURRENT SQLID</span>, or <span class="fixed">CURRENT_SQLID</span>, special register is used instead.) The initial value of the <span class="fixed">CURRENT SCHEMA</span> register is the authorization ID of the current session user. However, this value can be changed by executing the <span class="fixed">SET SCHEMA</span> SQL statement. The syntax for the <span class="fixed">SET SCHEMA</span> SQL statement is:</p>
<div class="informalexample">
<pre class="literallayout">
SET &lt;CURRENT&gt; SCHEMA &lt;=&gt;
  [[<i class="emphasis">'SchemaName'</i>]|
  USER |
  SESSION_USER |
  SYSTEM_USER |
  CURRENT_USER]
</pre>
</div>
<p class="para">where:</p>
<div class="informaltable">
<table border="0">
<tbody>
<tr valign="top">
<td class="td" align="left">
<p class="table-para">
<i class="emphasis">SchemaName</i>
</p>
</td><td class="td" align="left">
<p class="table-para">Identifies the name of an existing schema. (The name specified must be enclosed in single quotes and cannot exceed 30 characters in length.)</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="para">Thus, if you wanted to change the value of the <span class="fixed">CURRENT SCHEMA</span> register from the authentication ID of the current user to "<span class="fixed">PAYROLL</span>", you could do so by executing a <span class="fixed">SET SCHEMA</span> SQL statement that looks something like this:</p>
<div class="informalexample">
<pre class="literallayout">
SET CURRENT SCHEMA = 'PAYROLL'
</pre>
</div>
<p class="last-para">It is important to note that the value assigned to the <span class="fixed">CURRENT SCHEMA</span> special register is not persistent across database restarts. Therefore, if you assign a value to the <span class="fixed">CURRENT SCHEMA</span> special register, disconnect from the database, and reconnect, the <span class="fixed">CURRENT SCHEMA</span> special register will contain your authentication ID, not the value you assigned it earlier.</p>
</div>
</div>
</div>
</DIV>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=BBL0043.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=BBL0045.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>