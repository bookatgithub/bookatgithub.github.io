<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Using Client/Server Programming Languages</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body >
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="ch14lev1sec1.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="ch14lev1sec3.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="ch14lev1sec2"></A><H3 class="docSection1Title">Using Client/Server Programming Languages</H3>
<P class="docText">Distributed processing and client/server processing are quite widespread in the data processing community. Distributed processing describes the interaction of multiple computers working together to solve a business problem. Client/server processing is a specific type of distributed processing in which a client computer requests services from a server. The client is typically a personal computer with a graphical user interface (GUI). DB2 is a popular candidate as a database server.<A NAME="ch14index22"></A><A NAME="ch14index23"></A><A NAME="ch14index24"></A><A NAME="ch14index25"></A></P>
<P class="docText">The popularity of client/server development has an impact on the DB2 application development environment. Often, DB2 developers access DB2 using a client/server application development product that communicates to DB2 using a gateway product. Popular client/server programming languages include PowerBuilder, Visual Basic, Visual C++, VisualAge, Kylix, and Delphi.</P>
<A NAME="ch14lev2sec2"></A><H4 class="docSection2Title">Connecting to DB2</H4>
<P class="docText">Applications that run on a non-S/390 platform require DB2 Connect and CAE to access DB2 for OS/390 data. IBM's DB2 Connect is available to enable applications written for Windows, OS/2, and Unix. You can use this gateway product to connect client applications directly to DB2 for z/OS and OS/390. The Client Application Enabler (CAE) is also required and available on Windows, OS/2, and multiple Unix variants.<A NAME="ch14index26"></A><A NAME="ch14index27"></A><A NAME="ch14index28"></A><A NAME="ch14index29"></A><A NAME="ch14index30"></A><A NAME="ch14index31"></A></P>
<P class="docText">The application (or ODBC driver) calls CAE, which in turn sends the request to the DB2 Connect gateway. DB2 Connect passes the call to DB2 for OS/390 in the form of a DRDA request, as illustrated in <A class="docLink" HREF="#ch14fig01">Figure 14.1</A>. CAE and DB2 Connect enable your applications or third-party products such as Microsoft Access and Lotus Approach running on the Windows platform to access DB2 for z/OS directly.</P>
<A NAME="ch14fig01"></A><p><CENTER><H5 class="docFigureTitle">Figure 14.1. Using DB2 Connect and CAE to Connect to DB2 for z/OS.</H5>
<p class="docText"><IMG BORDER="0" width="400" height="336" SRC="images/0672326132/graphics/14fig01.gif" ALT="graphics/14fig01.gif"></p></CENTER></p><br>
<P class="docText">Actually, there are two options for client applications:</P>
<UL><LI><P class="docList">Use CAE and DB2 Connect Personal Edition on the client machine.</P></LI><LI><P class="docList">Use a server machine where DB2 Connect Enterprise Edition is installed. Then the client machine requires only CAE. CAE is connected to the server machine through NetBIOS, IPX, or TCP/IP.</P></LI></UL>
<P class="docText">Regardless of which of the above option is deployed, the DB2 for z/OS location name must be defined in CAE. For additional information and guidelines on using DB2 Connect please refer to <A class="docLink" HREF="ch43.html#ch43">Chapter 43</A>, "DB2 Connect."</P>
<P class="docText">Of course, DB2 Connect is not the only gateway product on the market. Other popular gateway products exist for connecting DB2 for z/OS to client/server applications, such as Neon Systems' Shadow Direct gateway product.<A NAME="ch14index32"></A><A NAME="ch14index33"></A><A NAME="ch14index34"></A></P>
<A NAME="ch14lev2sec3"></A><H4 class="docSection2Title">Client/Server Guidelines</H4>
<P class="docText">Building client/server applications requires knowledge of multiple platforms and the network used to connect them. The following tips and tricks can be useful when building applications that span platforms.</P>
<A NAME="ch14lev4sec5"></A><H5 class="docSection3Title">Be Aware of SQL Anomalies</H5>
<P class="docText">GUI-based client/server development tools may not offer SQL that is completely compatible with DB2 for z/OS. As such, certain features discussed in the DB2 manuals (and this book) may not be available when you're using a client/server language.<A NAME="ch14index35"></A><A NAME="ch14index36"></A></P>
<P class="docText">Likewise, some client/server languages require a call level interface to SQL (such as ODBC). This requirement causes the application to use dynamic SQL with all the performance implications as discussed in <A class="docLink" HREF="ch12.html#ch12">Chapter 12</A>, "Dynamic SQL Programming."</P>
<A NAME="ch14lev4sec6"></A><H5 class="docSection3Title">Consult the Documentation for the Tools Being Used</H5>
<P class="docText">Some of the rules and advice laid out in the preceding three chapters of <A class="docLink" HREF="part02.html#part02">Part II</A> may not hold true for client/server programming with DB2. For example, the client/server development tool might build SQL statements for you and submit them to DB2 through the gateway. Sometimes, odd constructs, such as allowing <TT>SELECT ... INTO</TT> for multiple rows can be permitted because the gateway provides buffering services and automatically handles building cursors. It is imperative that you understand not only how your client/server development tools work to create applications, but how they interface to the database management system, which in this case is DB2 for z/OS.<A NAME="ch14index37"></A><A NAME="ch14index38"></A></P>
<A NAME="ch14lev4sec7"></A><H5 class="docSection3Title">Be Aware of the Complex Nature of Client/Server Computing</H5>
<P class="docText">Additionally, the client/server environment relies upon a complex network of computing resources.</P>
<P class="docText">Mainframes, midranges, PCs, and workstations are commonly networked together, as illustrated in <A class="docLink" HREF="#ch14fig02">Figure 14.2</A>.<A NAME="ch14index39"></A><A NAME="ch14index40"></A></P>
<A NAME="ch14fig02"></A><p><CENTER><H5 class="docFigureTitle">Figure 14.2. A complex client/server environment.</H5>
<p class="docText"><IMG BORDER="0" width="500" height="387" SRC="images/0672326132/graphics/14fig02.gif" ALT="graphics/14fig02.gif"></p></CENTER></p><br>
<P class="docText">In a client/server environment, rely on the documentation that came with your application development tool and middleware product(s).</P>
<A NAME="ch14lev4sec8"></A><H5 class="docSection3Title">Use Stored Procedures</H5>
<P class="docText">Minimize network traffic by implementing stored procedures for frequently executed pieces of code. If you concentrate multiple SQL statements within a stored procedure, less data needs to be sent across the network. Network traffic is usually the single most important determinant of client/server application performance.<A NAME="ch14index41"></A><A NAME="ch14index42"></A><A NAME="ch14index43"></A></P>
<A NAME="ch14lev4sec9"></A><H5 class="docSection3Title">Use Triggers</H5>
<P class="docText">By using triggers to maintain database integrity you can further minimize SQL requests over the network. When data integrity routines exist within the database, application programs do not need to check for invalid data because the database will ensure only valid data is entered. By doing more work within the DB2 database and requiring fewer program requests the performance of a client/server application can be improved.<A NAME="ch14index44"></A><A NAME="ch14index45"></A><A NAME="ch14index46"></A></P>
<A NAME="ch14lev4sec10"></A><H5 class="docSection3Title">Consolidate SQL Requests When Possible</H5>
<P class="docText">Consolidate related SQL statements into a single request to reduce the number of requests and responses transmitted across the network. For example, change<A NAME="ch14index47"></A><A NAME="ch14index48"></A><A NAME="ch14index49"></A><A NAME="ch14index50"></A></P>
<pre>

</pre><BR><pre>
SELECT EMPNO, LASTNAME FROM EMP WHERE EMPNO &lt; '001000';
SELECT EMPNO, LASTNAME FROM EMP WHERE EMPNO &gt; '009000';
</pre><BR>
<P class="docText">into</P>
<pre>

</pre><BR><pre>
SELECT EMPNO, LASTNAME
FROM   EMP
WHERE  EMPNO &lt; '001000'
OR     EMPNO &gt; '009000';
</pre><BR>
<P class="docText">One SQL statement sends fewer requests across the network. You can use this technique on all SQL statements, not just <TT>SELECT</TT> statements.</P>
<A NAME="ch14lev4sec11"></A><H5 class="docSection3Title">Ensure <TT>FOR READ ONLY</TT> for Distributed Cursors</H5>
<P class="docText">Be sure that the <TT>FOR READ ONLY</TT> (or <TT>FOR FETCH ONLY)</TT> is used on each <TT>DECLARE CURSOR</TT> statement. Failure to do so has a negative impact on performance by disabling efficient block fetching. The <TT>FOR READ ONLY</TT> clause is ODBC-compliant and therefore more appropriate in a complex client/server environment.<A NAME="ch14index51"></A><A NAME="ch14index52"></A><A NAME="ch14index53"></A><A NAME="ch14index54"></A></P>
<P class="docText">Consult <A class="docLink" HREF="ch41.html#ch41">Chapter 41</A>, "DRDA," <A class="docLink" HREF="ch42.html#ch42">Chapter 42</A>, "Distributed DB2," <A class="docLink" HREF="ch43.html#ch43">Chapter 43</A>, "DB2 Connect," and <A class="docLink" HREF="ch44.html#ch44">Chapter 44</A>, "Distribution Guidelines," for more information on the following topics:</P>
<UL><LI><P class="docList">DB2 distributed database support</P></LI><LI><P class="docList">The use of DB2 as a database server</P></LI><LI><P class="docList">Techniques for deploying DB2 Connect</P></LI><LI><P class="docList">General distribution techniques and guidelines</P></LI></UL>
<ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="ch14lev1sec1.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="ch14lev1sec3.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
</body>
</html>
