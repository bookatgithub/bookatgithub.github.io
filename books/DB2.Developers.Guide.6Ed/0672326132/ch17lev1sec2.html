<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Accessing DB2 Over the Internet</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body >
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="ch17lev1sec1.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="ch17lev1sec3.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="ch17lev1sec2"></A><H3 class="docSection1Title">Accessing DB2 Over the Internet</H3>
<P class="docText">Allowing for Web-based access to valuable corporate data stored in relational databases makes this data more readily accessible to more people. Companies can obtain a competitive advantage by making their data available to employees over an intranet, or to customers and partners over an extranet.<A NAME="ch17index32"></A><A NAME="ch17index33"></A><A NAME="ch17index34"></A></P>
<A NAME="ch17note01"></A><div class="docNote"><p class="docNoteTitle">NOTE</p>

<P class="docText">An intranet is a special Internet adaptation that can only be accessed by internal employees. Likewise, an extranet extends the accessibility in a secure manner only to authorized individuals.<A NAME="ch17index35"></A><A NAME="ch17index36"></A></P></div><br>
<P class="docText">One option IBM provides for accessing DB2 data over the Web is called Net.Data.</P>
<A NAME="ch17lev2sec5"></A><H4 class="docSection2Title">Using Net.Data to Connect to the Internet</H4>
<P class="docText">Net.Data is an IBM product that provides developers the ability to build Web applications using data from DB2 and other enterprise databases. Using Net.Data, you can build interactive Web sites with data included dynamically from a variety of data sources, including relational and non-relational data and flat file data.<A NAME="ch17index37"></A><A NAME="ch17index38"></A><A NAME="ch17index39"></A><A NAME="ch17index40"></A></P>
<P class="docText">Net.Data is a macro processor that executes as middleware on a Web server. Using a Web browser and Net.Data, it is possible to rapidly develop applications that use the Internet as a front-end to DB2 databases.</P>
<P class="docText">Net.Data applications are macro files containing named sections specifying Web page text, HTML, the SQL statement to be executed, programs and scripts to be called, and application control logic.</P>
<P class="docText">Using Net.Data macros, you can develop programs that access and manipulate variables, call functions, and use report-generating tools. Net.Data processes the macro and produces output that can be displayed by a Web browser. Macros provide the developer with the simplicity of HTML coupled with the advanced functionality of Web server programs.</P>
<P class="docText">Simply stated, developers can use Net.Data to present data stored in DB2 tables to users in the style of a Web page. This lets savvy Internet users quickly come up to speed at accessing DB2 data.</P>
<P class="docText"><A class="docLink" HREF="#ch17fig03">Figure 17.3</A> outlines the flow of a Net.Data process. The entire flow can be broken down into a simple eight-step process:<A NAME="ch17index41"></A><A NAME="ch17index42"></A></P>
<A NAME="ch17pr01"></A>







<div style="font-weight:bold"><OL class="docList" START="1"><LI value="1"><div style="font-weight:normal">A user issues a request by specifying a URL in his Web browser. The URL points to a Net.Data macro.<BR><BR></div></LI><LI value="2"><div style="font-weight:normal">The Web server receives the request for the URL and invokes Net.Data, passing the name of the macro to be invoked.<BR><BR></div></LI><LI value="3"><div style="font-weight:normal">Net.Data creates the HTML for the input form and sends it to the browser via the Web server.<BR><BR></div></LI><LI value="4"><div style="font-weight:normal">The person using the Web browser fills in the input form and submits it to the Web server.<A NAME="ch17index43"></A><A NAME="ch17index44"></A><A NAME="ch17index45"></A><A NAME="ch17index46"></A><BR><BR></div></LI><LI value="5"><div style="font-weight:normal">Net.Data receives the input form and interprets it to access the requested data.<BR><BR></div></LI><LI value="6"><div style="font-weight:normal">Net.Data invokes the appropriate language environment. The language environment, in turn, processes the information by accessing DB2. It then returns the results to Net.Data.<BR><BR></div></LI><LI value="7"><div style="font-weight:normal">Net.Data creates the HTML for the output report form and sends it with the data retrieved from the database through the Web server to the Web browser.<BR><BR></div></LI><LI value="8"><div style="font-weight:normal">The results are formatted by the Web browser and the requesting user has retrieved DB2 data over the Web.<A NAME="ch17index47"></A><A NAME="ch17index48"></A><BR><BR></div></LI></OL></div>
<A NAME="ch17fig03"></A><p><CENTER><H5 class="docFigureTitle">Figure 17.3. How Net.Data works.</H5>
<p class="docText"><div class="v1"><a target="_blank" href="images/0672326132/graphics/17fig03_alt.gif">[View full size image]</a></div><IMG BORDER="0"  width="500" height="403" SRC="images/0672326132/graphics/17fig03.gif" ALT="graphics/17fig03.gif"></p></CENTER></p><br>
<P class="docText">Because Net.Data applications use native HTML and SQL, developers do not need to learn complex new languages and syntax to connect DB2 databases to the Web. Furthermore, SQL <TT>SELECT</TT>, <TT>INSERT</TT>, <TT>UPDATE</TT>, and <TT>DELETE</TT> statements are supported for both data query and modification.</P>
<P class="docText">You can use Net.Data to support two-tier and three-tier client/server environments. In a two-tier environment, the database resides on the Internet server and client Web browsers access the data. For DB2 running on OS/390, this is applicable only if you use the mainframe as your Internet server. In a two-tier z/OS environment, Net.Data communicates with DB2 for z/OS through RRS or the Call Attach Facility (CAF).<A NAME="ch17index49"></A><A NAME="ch17index50"></A><A NAME="ch17index51"></A><A NAME="ch17index52"></A><A NAME="ch17index53"></A></P>
<P class="docText">In a three-tier environment, the data can reside on both the local Internet server and a remote platform. This requires DB2 Connect, CAE (Client Application Enabler), or DataJoiner. The three-tier setup is useful when your Internet server is a Unix or Windows NT machine, and you need to access DB2 data from the mainframe.<A NAME="ch17index54"></A><A NAME="ch17index55"></A><A NAME="ch17index56"></A><A NAME="ch17index57"></A><A NAME="ch17index58"></A><A NAME="ch17index59"></A></P>
<P class="docText">In a three-tier environment, Net.Data macros can access a variety of data sources such as DB2, Oracle, Sybase, and ODBC. In a two-tier environment, Net.Data for z/OS can access DB2 for z/OS and IMS.<A NAME="ch17index60"></A><A NAME="ch17index61"></A><A NAME="ch17index62"></A><A NAME="ch17index63"></A></P>
<A NAME="ch17lev2sec6"></A><H4 class="docSection2Title">Net.Data Guidelines</H4>
<P class="docText">The following guidelines can help you to implement Net.Data effectively in your organization.</P>
<A NAME="ch17lev4sec1"></A><H5 class="docSection3Title">Consider Using Stored Procedures</H5>
<P class="docText">In addition to regular SQL <TT>SELECT</TT>, <TT>INSERT</TT>, <TT>UPDATE</TT>, and <TT>DELETE</TT> statements, Net.Data can invoke stored procedures. Consider calling stored procedures to quickly extend the functionality of Net.Data applications. Furthermore, stored procedures use static SQL, which, at times, can provide enhanced performance. Stored procedures also can be used to minimize network traffic.<A NAME="ch17index64"></A><A NAME="ch17index65"></A><A NAME="ch17index66"></A></P>
<P class="docText">Finally, remember that DB2 stored procedures can return result sets, if necessary.</P>
<A NAME="ch17lev4sec2"></A><H5 class="docSection3Title">Provide Net.Data Macro Language Training</H5>
<P class="docText">Net.Data programs are written in Net.Data's macro language. A Net.Data macro is a mixture of HTML and Net.Data-specific keywords. Although macros can be easy to develop, it is wise to provide an appropriate level of Net.Data macro language training for your Net.Data developers before they develop any Net.Data applications.<A NAME="ch17index67"></A><A NAME="ch17index68"></A></P>
<P class="docText">Net.Data macros can invoke programs written in other languages, such as Perl, REXX, and C. Net.Data also can be used to invoke DB2 stored procedures. Keep in mind that these features can complicate relatively simple Net.Data macros.</P>
<A NAME="ch17lev4sec3"></A><H5 class="docSection3Title">Enhance Net.Data Using Java Applets and JavaScripts</H5>
<P class="docText">Net.Data provides Java applet and JavaScript interfaces to enhance the Web client's ability to perform client-side processing. You can use a Java applet to enhance the results of a Net.Data application with graphical elements such as charts and graphs.<A NAME="ch17index69"></A><A NAME="ch17index70"></A><A NAME="ch17index71"></A><A NAME="ch17index72"></A><A NAME="ch17index73"></A></P>
<P class="docText">IBM provides sample Java applets and JavaScripts on the Net.Data Web site at the following link:</P>
<P class="docText"><A class="docLink" target="_blank" HREF="http://www.ibm.com/software/data/net.data/">http://www.ibm.com/software/data/net.data/</A></P>
<A NAME="ch17lev4sec4"></A><H5 class="docSection3Title">Use Direct Requests When Possible</H5>
<P class="docText">Direct requests improve performance because Net.Data does not have to read and process a macro file. The SQL, ODBC, System, Perl, and REXX Net.Data-supplied language environments support direct requests.<A NAME="ch17index74"></A><A NAME="ch17index75"></A><A NAME="ch17index76"></A></P>
<A NAME="ch17lev4sec5"></A><H5 class="docSection3Title">Consider Net.Data Live Connections</H5>
<P class="docText">Before a query can be executed, the process must identify itself and connect to DB2. This can cause performance problems.<A NAME="ch17index77"></A><A NAME="ch17index78"></A></P>
<P class="docText">Net.Data can be used to establish a live connection by continuously running processes to perform the startup tasks. Once started, the process waits to execute subsequent requests.</P>
<A NAME="ch17note02"></A><div class="docNote"><p class="docNoteTitle">NOTE</p>

<P class="docText">Live connections are required for API connections, but can be used for CGI connections, too.</P></div><br>
<A NAME="ch17lev4sec6"></A><H5 class="docSection3Title">Use Good Programming Techniques</H5>
<P class="docText">Be sure to use your standard application development and programming techniques when developing Net.Data macros. Make sure to include comments in the macro file indicating the purpose of the program, as well as a log of changes.<A NAME="ch17index79"></A><A NAME="ch17index80"></A></P>
<P class="docText">Additionally, follow the SQL formulation guidelines covered in <A class="docLink" HREF="ch01.html#ch01">Chapters 1</A>, "The Magic Words," and <A class="docLink" HREF="ch02.html#ch02">2</A>, "Data Manipulation Guidelines," and the application programming techniques outlined in <A class="docLink" HREF="ch11.html#ch11">Chapter 11</A>, "Using DB2 in an Application Program."</P>
<A NAME="ch17lev4sec7"></A><H5 class="docSection3Title">Design Web Applications with the User in Mind</H5>
<P class="docText">Be aware that the equipment on which you are developing your Web-based applications is probably more state-of-the-art than the equipment on which the application will be used. It is common for developers to have access to high-resolution monitors and a lot of memory. Be sure to test the application on PC setups with less memory and on monitors of varying dot pitch and resolution.<A NAME="ch17index81"></A><A NAME="ch17index82"></A></P>
<A NAME="ch17lev4sec8"></A><H5 class="docSection3Title">Plan Your Security Requirements</H5>
<P class="docText">When developing DB2 applications that are accessible using the Internet, be sure to plan adequate security into the application. Net.Data provides authorization features that should be utilized to ensure that only authorized users are permitted access.<A NAME="ch17index83"></A><A NAME="ch17index84"></A></P>
<A NAME="ch17lev2sec7"></A><H4 class="docSection2Title">Using Java and DB2</H4>
<P class="docText">Java is an increasingly popular language for DB2 application development. Part of its popularity is its ability to make Web applications dynamic. For Java usage guidelines, please refer back to <A class="docLink" HREF="ch14.html#ch14">Chapter 14</A>, "Alternative DB2 Application Development Methods."<A NAME="ch17index85"></A><A NAME="ch17index86"></A><A NAME="ch17index87"></A><A NAME="ch17index88"></A></P>
<A NAME="ch17lev2sec8"></A><H4 class="docSection2Title">General DB2-Internet Guidelines</H4>
<P class="docText">The following guidelines can be applied to DB2 applications that are written to exploit the Internet.</P>
<A NAME="ch17lev4sec9"></A><H5 class="docSection3Title">Minimize Network Traffic</H5>
<P class="docText">The biggest potential for degrading the performance of DB2 Internet applications is network traffic. In general, the fewer network calls required to perform the same amount of work, the better performance will be.<A NAME="ch17index89"></A><A NAME="ch17index90"></A><A NAME="ch17index91"></A><A NAME="ch17index92"></A><A NAME="ch17index93"></A></P>
<P class="docText">Consider the following ideas for minimizing network traffic in your DB2-Internet applications:</P>
<UL><LI><P class="docList">Use stored procedures to process SQL and consolidate results. Stored procedures are especially helpful for pieces of code that can be executed many times from many different places. Putting the logic into a stored procedure can reduce network calls.</P></LI><LI><P class="docList">Consider using <TT>BEFORE</TT> triggers to validate data. Doing so removes the need to code intensive data validation logic running on the client.</P></LI><LI><P class="docList">Consider using user-defined functions (UDFs) to offload work from the client to the server. A good use of UDFs is to reformat data. Perhaps you have data that is stored differently than it needs to be displayed (onscreen or in a report). A UDF can be written to perform the formatting—and that removes the need to write repetitive client code.</P></LI></UL>
<A NAME="ch17lev4sec10"></A><H5 class="docSection3Title">Keep Up-to-Date</H5>
<P class="docText">Make sure that you are using the most up-to-date versions of software, including JDKs, drivers, and compilers. Running with outdated software likely means that you are forgoing performance upgrades that can be accrued by using the latest versions.<A NAME="ch17index94"></A><A NAME="ch17index95"></A><A NAME="ch17index96"></A><A NAME="ch17index97"></A></P>
<ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="ch17lev1sec1.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="ch17lev1sec3.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
</body>
</html>
