<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Chapter 21. The Optimizer</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body >
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="ch20lev1sec2.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="ch21lev1sec1.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="ch21"></A>
<H2 class="docChapterTitle">Chapter 21. The Optimizer</H2>

<P class="docText"><span class="docEmphStrong">IN THIS CHAPTER</span></P>
<UL><LI><P class="docList"><A class="docLink" HREF="ch21lev1sec1.html#ch21lev1sec1">Physical Data Independence</A></P></LI><LI><P class="docList"><A class="docLink" HREF="ch21lev1sec2.html#ch21lev1sec2">How the Optimizer Works</A></P></LI><LI><P class="docList"><A class="docLink" HREF="ch21lev1sec3.html#ch21lev1sec3">Filter Factors</A></P></LI><LI><P class="docList"><A class="docLink" HREF="ch21lev1sec4.html#ch21lev1sec4">Access Path Strategies</A></P></LI><LI><P class="docList"><A class="docLink" HREF="ch21lev1sec5.html#ch21lev1sec5">Other Operations Performed by the Optimizer</A></P></LI><LI><P class="docList"><A class="docLink" HREF="ch21lev1sec6.html#ch21lev1sec6">Access Path Strategy Compatibility</A></P></LI></UL>
<P class="docText">The optimizer is the heart and soul of DB2. Before any SQL statement is run, the optimizer analyzes the SQL and determines the most efficient access path available for satisfying the statement. It accomplishes this by parsing the SQL statement to determine which tables and columns must be accessed. It then queries statistics stored in the DB2 Catalog to determine the best method of accomplishing the tasks necessary to satisfy the SQL request.</P>
<P class="docText">Statistics used by the optimizer include information about the current status of the tables, indexes, columns, and tablespaces (including partitioning information) that need to be accessed. The optimizer plugs this information into a series of complex formulas that it uses as it builds optimized access paths, as shown in <A class="docLink" HREF="#ch21fig01">Figure 21.1</A>. In addition to the DB2 Catalog statistics, the optimizer will take into account other system information, such as the CPU being used and the size of your buffer pools. This approach allows the optimizer to estimate the number of rows that qualify for each predicate, and then use the proper algorithm to access the required data.<A NAME="ch21index01"></A></P>
<A NAME="ch21fig01"></A><p><CENTER><H5 class="docFigureTitle">Figure 21.1. The DB2 optimizer.</H5>
<p class="docText"><div class="v1"><a target="_blank" href="images/0672326132/graphics/21fig01_alt.gif">[View full size image]</a></div><IMG BORDER="0" width="500" height="394" SRC="images/0672326132/graphics/21fig01.gif" ALT="graphics/21fig01.gif"></p></CENTER></p><br>
<P class="docText">The optimizer basically works like an expert system. An expert system is a set of standard rules that when combined with situational data can return an expert opinion. For example, a medical expert system takes the set of rules determining which medication is useful for which illness, combines it with data describing the symptoms of ailments, and applies that knowledge base to a list of input symptoms. The DB2 optimizer renders expert opinions on data retrieval methods for SQL queries based on the situational data housed in the DB2 Catalog. In this chapter, you discover the methods and strategies used by the optimizer as it creates optimized access paths for SQL statements.</P>

<ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="ch20lev1sec2.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="ch21lev1sec1.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
</body>
</html>
