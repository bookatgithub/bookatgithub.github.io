<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>The REPORT RECOVERY Utility</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body >
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="ch32lev1sec8.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="ch32lev1sec10.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="ch32lev1sec9"></A><H3 class="docSection1Title">The <TT>REPORT RECOVERY</TT> Utility</H3>
<P class="docText">The <TT>REPORT RECOVERY</TT> utility is the second type of <TT>REPORT</TT> utility provided by DB2. It can be used to generate a report on table space or index recovery information. The report contains information from the DB2 Directory, the DB2 Catalog, and the BSDS. The input to the utility is either a table space, a single partition of a partitioned table space, or an index.<A NAME="ch32index475"></A><A NAME="ch32index476"></A><A NAME="ch32index477"></A></P>
<P class="docText"><TT>REPORT RECOVERY</TT> has several options, including the following:</P>
<UL><LI><P class="docList">Providing recovery information to the last recoverable point, which is the last execution of a full image copy, <TT>LOAD REPLACE LOG YES</TT>, or <TT>REORG LOG YES</TT></P></LI><LI><P class="docList">Providing all recovery information for a table space (or index), not just information to the last recoverable point</P></LI><LI><P class="docList">Providing a list of volume serial numbers for the image copy data sets and archive log data sets needed for recovery</P></LI></UL>
<P class="docText">The output of <TT>REPORT RECOVERY</TT> is a report of all related DB2 recovery information, including image copy information, log RBA information, and archive log information needed to recover the requested table space (or index).</P>
<P class="docText">The sample JCL in <A class="docLink" HREF="#ch32list11">Listing 32.10</A> produces a report up to the last recoverable point for the sample table space <TT>DSN8D81A.DSN8S81C</TT>.<A NAME="ch32index478"></A><A NAME="ch32index479"></A><A NAME="ch32index480"></A><A NAME="ch32index481"></A></P>
<A NAME="ch32list11"></A><H5 class="docExampleTitle">Listing 32.10. <TT>REPORT RECOVERY</TT> JCL</H5>

<PRE>
//DB2JOBU  JOB  (UTILITY),'DB2 REPRT RCVRY',MSGCLASS=X,CLASS=X,
//          NOTIFY=USER
//*
//****************************************************************
//*
//*         DB2 REPORT RECOVERY UTILITY
//*
//****************************************************************
//*
//UTIL EXEC DSNUPROC,SYSTEM=DB2T,UID='REPORTRC',UTPROC="
//DSNUPROC.SYSIN    DD  *
    REPORT RECOVERY TABLESPACE DSN8D81A.DSN8S81E
/*
//
</PRE><BR>

<A NAME="ch32lev2sec26"></A><H4 class="docSection2Title"><TT>REPORT RECOVERY</TT> Locking Considerations</H4>
<P class="docText">The <TT>REPORT</TT> utility is compatible with all other utilities. It functions like any other process that reads DB2 data.<A NAME="ch32index482"></A><A NAME="ch32index483"></A><A NAME="ch32index484"></A><A NAME="ch32index485"></A></P>
<A NAME="ch32lev2sec27"></A><H4 class="docSection2Title"><TT>REPORT RECOVERY</TT> Guideline</H4>
<P class="docText">The <TT>REPORT RECOVERY</TT> utility can be used to determine which data sets will be needed by the <TT>RECOVERY</TT> utility before recovering a table space. This can be useful when you must determine whether the requisite data sets are still cataloged or available.<A NAME="ch32index486"></A><A NAME="ch32index487"></A><A NAME="ch32index488"></A></P>
<ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="ch32lev1sec8.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="ch32lev1sec10.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
</body>
</html>
