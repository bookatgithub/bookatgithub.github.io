<html xmlns="http://www.w3.org/1999/xhtml">
   
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      
      <title>Preface</title>
      
      <link href="9780133085013.css" rel="stylesheet" type="text/css" />
      
      <link href="page-template.xpgt" rel="stylesheet" type="application/vnd.adobe-page-template+xml" />
      
      <meta content="urn:uuid:767ce45a-85bb-4273-91f5-801bab42906b" name="Adept.expected.resource" />
      
   </head>
   
   <body>
      
      <h2><a id="page_xv"></a><a id="pref01"></a>Preface
      </h2>
      
      <p class="indent4"><em>Caveat Emptor: The cost of software<br />maintenance increases with the square of<br />the programmer’s creativity</em>.
      </p>
      
      <p class="indent4">First Law of Programmer Creativity,<br />Robert D. Bliss, 1992
      </p>
      
      <p class="noindent">This is a collection of small programming tricks that I have come across over many
         years. Most of them will work only on computers that represent integers in two’s-complement
         form. Although a 32-bit machine is assumed when the register length is relevant, most
         of the tricks are easily adapted to machines with other register sizes.
      </p>
      
      <p class="indent">This book does not deal with large tricks such as sophisticated sorting and compiler
         optimization techniques. Rather, it deals with small tricks that usually involve individual
         computer words or instructions, such as counting the number of 1-bits in a word. Such
         tricks often use a mixture of arithmetic and logical instructions.
      </p>
      
      <p class="indent">It is assumed throughout that integer overflow interrupts have been masked off, so
         they cannot occur. C, Fortran, and even Java programs run in this environment, but
         Pascal and Ada users beware!
      </p>
      
      <p class="indent">The presentation is informal. Proofs are given only when the algorithm is not obvious,
         and sometimes not even then. The methods use computer arithmetic, “floor” functions,
         mixtures of arithmetic and logical operations, and so on. Proofs in this domain are
         often difficult and awkward to express.
      </p>
      
      <p class="indent">To reduce typographical errors and oversights, many of the algorithms have been executed.
         This is why they are given in a real programming language, even though, like every
         computer language, it has some ugly features. C is used for the high-level language
         because it is widely known, it allows the straightforward mixture of integer and bit-string
         operations, and C compilers that produce high-quality object code are available.
      </p>
      
      <p class="indent">Occasionally, machine language is used, employing a three-address format, mainly for
         ease of readability. The assembly language used is that of a fictitious machine that
         is representative of today’s RISC computers.
      </p>
      
      <p class="indent">Branch-free code is favored, because on many computers, branches slow down instruction
         fetching and inhibit executing instructions in parallel. Another problem with branches
         is that they can inhibit compiler optimizations such as instruction scheduling, commoning,
         and register allocation. That is, the compiler may be more effective at these optimizations
         with a program that consists of a few large basic blocks rather than many small ones.
      </p>
      
      <p class="indent"><a id="page_xvi"></a>The code sequences also tend to favor small immediate values, comparisons to zero
         (rather than to some other number), and instruction-level parallelism. Although much
         of the code would become more concise by using table lookups (from memory), this is
         not often mentioned. This is because loads are becoming more expensive relative to
         arithmetic instructions, and the table lookup methods are often not very interesting
         (although they <em>are</em> often practical). But there are exceptional cases.
      </p>
      
      <p class="indent">Finally, I should mention that the term “hacker” in the title is meant in the original
         sense of an aficionado of computers—someone who enjoys making computers do new things,
         or do old things in a new and clever way. The hacker is usually quite good at his
         craft, but may very well not be a professional computer programmer or designer. The
         hacker’s work may be useful or may be just a game. As an example of the latter, more
         than one determined hacker has written a program which, when executed, writes out
         an exact copy of itself.<sup><a id="pref01fna1"></a><a href="footnotes.html#pref01fn1">1</a></sup> This is the sense in which we use the term “hacker.” If you’re looking for tips on
         how to break into someone else’s computer, you won’t find them here.
      </p>
      
      <h3><strong>Acknowledgments</strong></h3>
      
      <p class="noindent">First, I want to thank Bruce Shriver and Dennis Allison for encouraging me to publish
         this book. I am indebted to many colleagues at IBM, several of whom are cited in the
         Bibliography. One deserves special mention: Martin E. Hopkins, whom I think of as
         “Mr. Compiler” at IBM, has been relentless in his drive to make every cycle count,
         and I’m sure some of his spirit has rubbed off on me. Addison-Wesley’s reviewers have
         improved the book immensely. Most of their names are unknown to me, but the review
         by one whose name I did learn was truly outstanding: Guy L. Steele, Jr., completed
         a 50-page review that included new subject areas to address, such as bit shuffling
         and unshuffling, the sheep and goats operation, and many others. He suggested algorithms
         that beat the ones I used. He was extremely thorough. For example, I had erroneously
         written that the hexadecimal number AAAAAAAA factors as 2 · 3 · 17 · 257 · 65537;
         Guy pointed out that the 3 should be a 5. He suggested improvements to style and did
         not shirk from mentioning minutiae. Wherever you see “parallel prefix” in this book,
         the material is due to Guy.
      </p>
      
      <p class="indent4">H. S. Warren, Jr.<br />Yorktown, New York<br />June 2012
      </p>
      
      <div class="sidebar">
         <hr />
         
         <p class="sidebarpara">See <a href="http://www.HackersDelight.org">www.HackersDelight.org</a> for additional material related to this book.
         </p>
         
         <hr />
      </div>
      
   </body>
   
</html>