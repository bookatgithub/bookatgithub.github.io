<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>2.3. Marking Text to Delete, Move, or Copy</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body >
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="gnu3-CHP-2-SECT-2.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="gnu3-CHP-2-SECT-4.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="gnu3-CHP-2-SECT-3"></A>
<H3 class="docSection1Title">2.3. Marking Text to Delete, Move, or Copy</H3>

<P class="docText">What if the text you want to <A NAME="gnu3-CHP-2-ITERM-1714"></A><A NAME="gnu3-CHP-2-ITERM-1715"></A><A NAME="gnu3-CHP-2-ITERM-1716"></A><A NAME="gnu3-CHP-2-ITERM-1717"></A><A NAME="gnu3-CHP-2-ITERM-1718"></A>delete is just a phrase? Or
half a paragraph? Or several paragraphs? In Emacs, you select
<A NAME="gnu3-CHP-2-ITERM-1719"></A><A NAME="gnu3-CHP-2-ITERM-1720"></A>text
by defining an area called a <span class="docEmphasis">region</span>. You can
mark regions with the mouse or by using the keyboard. What happens
with the mouse is a bit complicated, so we describe it later in this
chapter, following our discussion of the system clipboard.</P>

<P class="docText">To define a region using the keyboard, you use
<A NAME="gnu3-CHP-2-ITERM-1721"></A><A NAME="gnu3-CHP-2-ITERM-1722"></A><A NAME="gnu3-CHP-2-ITERM-1723"></A>a
secondary pointer called a <span class="docEmphasis">mark</span>. Some versions
of Emacs display the mark on the screen; unfortunately, in GNU Emacs,
the mark is invisible.</P>

<P class="docText">You set the mark at one end of the region by pressing <span class="docEmphBold">C-Space</span> or
<span class="docEmphBold">C-@</span>, then move the cursor to the other
<A NAME="gnu3-CHP-2-ITERM-1724"></A>end of the region. (The cursor
is sometimes also referred to as <span class="docEmphasis">point</span>. There is
one minor but important difference between the cursor and the point,
however. The cursor is on top of a character; in Emacs, the point is
actually in between the character the cursor is on and the previous
character. As we said, this difference is minor, but it helps you to
visualize where the cursor should be when you mark a region.) <A class="docLink" HREF="#gnu3-CHP-2-FIG-5">Figure 2-5</A> illustrates point, mark, and region.</P>

<A NAME="gnu3-CHP-2-FIG-5"></A><p><CENTER>
<H5 class="docFigureTitle">Figure 2-5. Point, mark, and region</H5>
<IMG BORDER="0"  width="430" height="192" SRC="images/0596006489/figs/ge3_fig0205.gif" ALT=""></CENTER></p><br>

<P class="docText">Let's mark a sample region. In this example, we
remove the phrase "it was the worst of
times." First, we find the beginning of the phrase.
Then we set the mark, move forward to the end of the phrase, and cut.</P>

<A NAME="ch02-8-fm2xml"></A><P><TABLE CELLSPACING="0" BORDER="1" RULES="all" CELLPADDING="4" WIDTH="100%"><COLGROUP><COL></COLGROUP><THEAD></THEAD><TR><TD class="docTableCell">
<P class="docText">Move to the beginning of "it" and
press <span class="docEmphBold">C-Space</span>.</P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText"><IMG BORDER="0"  width="425" height="189" SRC="images/0596006489/figs/ge3_ch02scrn04.gif" ALT=""></P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText">Set the mark; <span class="docEmphBold">Mark set</span> appears in
the minibuffer.</P>
</TD></TR></TABLE></P><br>

<P class="docText">Move to the "i" in
"it was the age of wisdom." Because
the point is really just before the
"i," this placement will be just
right.</P>

<A NAME="ch02-9-fm2xml"></A><P><TABLE CELLSPACING="0" BORDER="1" RULES="all" CELLPADDING="4" WIDTH="100%"><COLGROUP><COL></COLGROUP><THEAD></THEAD><TR><TD class="docTableCell">
<P class="docText">Move to the "i" in
"it was the age of wisdom"</P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText"><IMG BORDER="0"  width="425" height="189" SRC="images/0596006489/figs/ge3_ch02scrn05.gif" ALT=""></P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText">The point is at the end of the region to be marked.</P>
</TD></TR></TABLE></P><br>

<P class="docText">Now the region is marked. If the region is not highlighted,
you'll want to make sure it is marked correctly
before giving the delete command. Press <span class="docEmphBold">C-x
C-x</span> (for <span class="docEmphBold">exchange-point-and-mark</span>); this command swaps
the locations of the mark and the point. If the cursor moves to where
you thought the mark was, the region is marked correctly. Especially
because you can't see the mark,
it's a good habit to check its location using
<span class="docEmphBold">C-x C-x</span> before deleting a region.
People who have used Emacs for years still forget to set the mark and
then make a deletion without knowing what they've
just deleted. (The undo command, bound to <span class="docEmphBold">C-_</span> and <span class="docEmphBold">C-x
u</span>, comes in handy in such a case.)</P>

<P class="docText">To cut the region,
<A NAME="gnu3-CHP-2-ITERM-1725"></A><A NAME="gnu3-CHP-2-ITERM-1726"></A>press
<span class="docEmphBold">C-w</span> (for <span class="docEmphBold">kill-region</span>). (The scissors icon on the
toolbar also works.)</P>

<A NAME="ch02-10-fm2xml"></A><P><TABLE CELLSPACING="0" BORDER="1" RULES="all" CELLPADDING="4" WIDTH="100%"><COLGROUP><COL></COLGROUP><THEAD></THEAD><TR><TD class="docTableCell">
<P class="docText">Press: <span class="docEmphBold">C-w</span></P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText"><IMG BORDER="0"  width="425" height="189" SRC="images/0596006489/figs/ge3_ch02scrn06.gif" ALT=""></P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">C-w</span> cuts the region.</P>
</TD></TR></TABLE></P><br>

<P class="docText">If you're not sure of what you
<A NAME="gnu3-CHP-2-ITERM-1727"></A><A NAME="gnu3-CHP-2-ITERM-1728"></A>deleted,
just press <span class="docEmphBold">C-_</span> to undo it. The text
is still marked, and you can delete it again with <span class="docEmphBold">C-w</span> if you want to. To move text, mark it,
press <span class="docEmphBold">C-w</span> to cut the region, then
move the cursor to the place you want to insert the text, and press
<span class="docEmphBold">C-y</span>. If you yank the text back into
the wrong location, just type <span class="docEmphBold">C-_</span> to
undo it, then move to the place you really wanted to put the text,
and press <span class="docEmphBold">C-y</span> again.</P>

<P class="docText">When you're defining a region, you normally set the
mark at one end and then move the cursor to the other end of the
region. A few shortcuts are helpful in some of the most common
situations. To mark a <A NAME="gnu3-CHP-2-ITERM-1729"></A><A NAME="gnu3-CHP-2-ITERM-1730"></A><A NAME="gnu3-CHP-2-ITERM-1731"></A>paragraph,
press <span class="docEmphBold">M-h</span>. This sets the mark at the
end of the paragraph and places the cursor at the beginning
automatically. Similarly, <span class="docEmphBold">C-x h</span> (for
<span class="docEmphBold">mark-whole-buffer</span>) marks the entire
buffer; the cursor goes to the beginning, and the mark is placed at
the end. Finally, <span class="docEmphBold">C-x C-p</span> marks the
current page, with <span class="docEmphasis">pages</span> being defined by the
<span class="docEmphBold">C-l</span> character if you are in text
mode. Of course, marking a paragraph, page, or buffer is usually only
the prelude to some other operation, like killing (<span class="docEmphBold">C-w</span>).</P>

<A NAME="gnu3-CHP-2-SECT-3.1"></A>
<H4 class="docSection2Title">2.3.1 Copying Text</H4>

<P class="docText">To copy text, mark a <A NAME="gnu3-CHP-2-ITERM-1732"></A><A NAME="gnu3-CHP-2-ITERM-1733"></A>region,
then press <span class="docEmphBold">M-w</span> (for <span class="docEmphBold">kill-ring-save</span>; the toolbar icon with two
pieces of paper also runs this command). Move the cursor to the place
where you want to insert the copied text and press <span class="docEmphBold">C-y</span>. Copying text is exactly the same as
killing it, except that Emacs doesn't delete
anything. The text you have copied is placed in the kill ring, so you
can use <span class="docEmphBold">C-y</span> to access it as often as
you like.</P>

<P class="docText">One advantage to <span class="docEmphBold">M-w</span> is that it
works on read-only files and buffers. For example, if you wanted to
create a file of Emacs hints, you could use <span class="docEmphBold">M-w</span> to copy some text from online help into
one of your buffers.</P>

<P class="docText">Here are the steps for some common deletion tasks.</P>

<P class="docText">To mark a
<A NAME="gnu3-CHP-2-ITERM-1734"></A><A NAME="gnu3-CHP-2-ITERM-1735"></A><A NAME="gnu3-CHP-2-ITERM-1736"></A><A NAME="gnu3-CHP-2-ITERM-1737"></A>region:</P>

<div style="font-weight:bold"><OL class="docList" TYPE="1"><LI><div style="font-weight:normal"><P class="docList">Move the cursor to the beginning of the area you want to delete.</P></div></LI><LI><div style="font-weight:normal"><P class="docList">Press <span class="docEmphBold">C-Space</span>. Emacs displays the
message <span class="docEmphBold">Mark set</span>.</P></div></LI><LI><div style="font-weight:normal"><P class="docList">Move the cursor to the end of the region you want to delete.</P></div></LI></OL></div>
<P class="docText">To delete
a<A NAME="gnu3-CHP-2-ITERM-1738"></A><A NAME="gnu3-CHP-2-ITERM-1739"></A><A NAME="gnu3-CHP-2-ITERM-1740"></A><A NAME="gnu3-CHP-2-ITERM-1741"></A>
region:</P>

<div style="font-weight:bold"><OL class="docList" TYPE="1"><LI><div style="font-weight:normal"><P class="docList">Mark the region to be deleted.</P></div></LI><LI><div style="font-weight:normal"><P class="docList">Press <span class="docEmphBold">C-w</span> to delete the region.</P></div></LI></OL></div>
<P class="docText">To move
<A NAME="gnu3-CHP-2-ITERM-1742"></A><A NAME="gnu3-CHP-2-ITERM-1743"></A>text:</P>

<div style="font-weight:bold"><OL class="docList" TYPE="1"><LI><div style="font-weight:normal"><P class="docList">Delete the text you want to move using the procedures for marking and
deleting a region.</P></div></LI><LI><div style="font-weight:normal"><P class="docList">Move the cursor where you want to insert the text.</P></div></LI><LI><div style="font-weight:normal"><P class="docList">Press <span class="docEmphBold">C-y</span>. Emacs inserts the text
you deleted.</P></div></LI></OL></div>
<P class="docText">To copy
<A NAME="gnu3-CHP-2-ITERM-1744"></A><A NAME="gnu3-CHP-2-ITERM-1745"></A>text:</P>

<div style="font-weight:bold"><OL class="docList" TYPE="1"><LI><div style="font-weight:normal"><P class="docList">Mark the region you want to copy.</P></div></LI><LI><div style="font-weight:normal"><P class="docList">Press <span class="docEmphBold">M-w</span> to copy the text.</P></div></LI><LI><div style="font-weight:normal"><P class="docList">Move the cursor where you want to insert the copied text and press
<span class="docEmphBold">C-y</span>. Emacs inserts the text you
copied.</P></div></LI></OL></div>

<A NAME="gnu3-CHP-2-SECT-3.2"></A>
<H4 class="docSection2Title">2.3.2 Recovering Earlier Deletions</H4>

<P class="docText">Earlier we mentioned
<A NAME="gnu3-CHP-2-ITERM-1746"></A><A NAME="gnu3-CHP-2-ITERM-1747"></A><A NAME="gnu3-CHP-2-ITERM-1748"></A>the kill ring, a temporary storage
area in which Emacs saves the stuff you delete. So far,
we've assumed that you're
interested in resurrecting what you've most recently
killed. However, the kill ring does a lot more. It actually stores
your last 30 deletions. We've seen that <span class="docEmphBold">C-y</span> restores the text you deleted most
recently. Typing <span class="docEmphBold">M-y</span> deletes the
text you just yanked and gets the next most recent text from the kill
ring.</P>

<P class="docText">Here's how it works. In <A class="docLink" HREF="#gnu3-CHP-2-TABLE-4">Table 2-4</A>, assume that you've just
killed the words "most recent."
<span class="docEmphBold">C-y</span> retrieves these words from the
kill ring. When you press <span class="docEmphBold">M-y</span>, Emacs
gets rid of "most recent" and gets
the next <A NAME="gnu3-CHP-2-ITERM-1749"></A>entry from the kill ring
("second-last").</P>

<A NAME="gnu3-CHP-2-TABLE-4"></A><P><TABLE CELLSPACING="0" BORDER="1" RULES="all" CELLPADDING="4" WIDTH="100%"><CAPTION><h5 class="docTableTitle">Table 2-4. The kill ring in action</h5></CAPTION><COLGROUP><COL><COL></COLGROUP><THEAD><TR><TH class="thead" scope="col">
<P class="docText">Keystrokes</P>
</TH><TH class="thead" scope="col">
<P class="docText">Action</P>
</TH></TR></THEAD><TR><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">C-y</span></P>
</TD><TD class="docTableCell">
<PRE><span class="docEmphBold">This was the most recent</span><span class="docEmphCursor"> </span><span class="docEmphBold">deletion</span>.</PRE><BR>

</TD></TR><TR><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">M-y</span></P>
</TD><TD class="docTableCell">
<PRE><span class="docEmphBold">This was the second-last</span><span class="docEmphCursor"> </span><span class="docEmphBold">deletion</span>.</PRE><BR>

</TD></TR><TR><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">M-y</span></P>
</TD><TD class="docTableCell">
<PRE><span class="docEmphBold">This was the third-last</span><span class="docEmphCursor"> </span><span class="docEmphBold">deletion</span>.</PRE><BR>

</TD></TR><TR><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">M-y</span></P>
</TD><TD class="docTableCell">
<PRE><span class="docEmphBold">This was the fourth-last</span><span class="docEmphCursor"> </span><span class="docEmphBold">deletion</span>.</PRE><BR>

</TD></TR></TABLE></P><br>

<P class="docText">You can keep on typing <span class="docEmphBold">M-y</span>,
retrieving successively more ancient deletions, until you reach the
end of the kill ring (at which point it cycles back to the most
recently killed text; that's why
it's called a <span class="docEmphasis">ring</span>).</P>

<P class="docText">Thirty deletions by default is a nice size—far more generous
than most programs offer. But you can enlarge or reduce the size of
the kill ring if you wish, using a variable called <span class="docEmphBold">kill-ring-max</span>. To experiment, give the
command: <span class="docEmphBold">M-x set-variable Enter kill-ring-max
Enter</span> <span class="docEmphasis">new-value</span> <span class="docEmphBold">Enter</span> (where <span class="docEmphasis">new-value</span> is
a number).</P>


<A NAME="gnu3-CHP-2-SECT-3.3"></A>
<H4 class="docSection2Title">2.3.3 Selecting and Pasting</H4>

<P class="docText">Using the menus, you can access
<A NAME="gnu3-CHP-2-ITERM-1750"></A><A NAME="gnu3-CHP-2-ITERM-1751"></A><A NAME="gnu3-CHP-2-ITERM-1752"></A><A NAME="gnu3-CHP-2-ITERM-1753"></A>text from the kill ring in a more
straightforward way: by choosing Edit<img src=images/ent/U2192.GIF border=0> Select and Paste. A
menu showing deletions appears, with the most recent ones on top. To
show you as many deletions as possible, each line in the window
represents a separate deletion. So if you've killed
a large region, say 500 lines, you see only the beginning of the
first line of that deletion, ellipses, and the end of the deletion.
Your selection is pasted into the buffer at the cursor position.</P>

<P class="docText"><A class="docLink" HREF="#gnu3-CHP-2-TABLE-5">Table 2-5</A> summarizes commands
<A NAME="gnu3-CHP-2-ITERM-1754"></A><A NAME="gnu3-CHP-2-ITERM-1755"></A>for working with regions.</P>

<A NAME="gnu3-CHP-2-TABLE-5"></A><P><TABLE CELLSPACING="0" BORDER="1" RULES="all" CELLPADDING="4" WIDTH="100%"><CAPTION><h5 class="docTableTitle">Table 2-5. Commands for working with regions</h5></CAPTION><COLGROUP><COL><COL><COL></COLGROUP><THEAD><TR><TH class="thead" scope="col">
<P class="docText">Keystrokes</P>
</TH><TH class="thead" scope="col">
<P class="docText">Command name</P>
</TH><TH class="thead" scope="col">
<P class="docText">Action</P>
</TH></TR></THEAD><TR><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">C-@</span> or <span class="docEmphBold">C-
Space</span></P>
</TD><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">set-mark-command</span></P>
</TD><TD class="docTableCell">
<P class="docText">Mark the beginning (or end) of a region.</P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">C-x C-x</span></P>
</TD><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">exchange-point-and-mark</span></P>
</TD><TD class="docTableCell">
<P class="docText">Exchange location of cursor and mark.</P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">C-w</span></P>
</TD><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">kill-region</span></P>
</TD><TD class="docTableCell">
<P class="docText">Delete the region.</P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">C-y</span></P>
</TD><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">yank</span></P>
</TD><TD class="docTableCell">
<P class="docText">Paste most recently killed or copied text.</P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">M-w</span></P>
</TD><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">kill-ring-save</span></P>
</TD><TD class="docTableCell">
<P class="docText">Copy the region (so it can be pasted with <span class="docEmphBold">C-y</span>).</P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">M-h</span></P>
</TD><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">mark-paragraph</span></P>
</TD><TD class="docTableCell">
<P class="docText">Mark paragraph.</P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">C-x C-p</span></P>
</TD><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">mark-page</span></P>
</TD><TD class="docTableCell">
<P class="docText">Mark page.</P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">C-x h</span></P>
</TD><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">mark-whole-buffer</span></P>
</TD><TD class="docTableCell">
<P class="docText">Mark buffer.</P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">M-y</span></P>
</TD><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">yank-pop</span></P>
</TD><TD class="docTableCell">
<P class="docText">After <span class="docEmphBold">C-y</span>, pastes earlier deletion.</P>
</TD></TR></TABLE></P><br>



<ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="gnu3-CHP-2-SECT-2.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="gnu3-CHP-2-SECT-4.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
</body>
</html>
