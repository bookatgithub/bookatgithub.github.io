<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>6.7. Naming, Saving, and Executing Your Macros</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body >
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="gnu3-CHP-6-SECT-6.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="gnu3-CHP-6-SECT-8.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="gnu3-CHP-6-SECT-7"></A>
<H3 class="docSection1Title">6.7. Naming, Saving, and Executing Your Macros</H3>

<P class="docText">In this section, we'll describe
<A NAME="gnu3-CHP-6-ITERM-2275"></A><A NAME="gnu3-CHP-6-ITERM-2276"></A><A NAME="gnu3-CHP-6-ITERM-2277"></A><A NAME="gnu3-CHP-6-ITERM-2278"></A><A NAME="gnu3-CHP-6-ITERM-2279"></A><A NAME="gnu3-CHP-6-ITERM-2280"></A>how to save macros so that you can use
them in different editing sessions. To save a macro, bind it
permanently to a key, and load it in subsequent Emacs sessions,
follow these steps:</P>

<div style="font-weight:bold"><OL class="docList" TYPE="1"><LI><div style="font-weight:normal"><P class="docList">Define the macro, if you haven't already.</P></div></LI><LI><div style="font-weight:normal"><P class="docList">Type <span class="docEmphBold">C-x C-k n</span> (for <span class="docEmphBold">name-last-kbd-macro</span>). Now type a name for
your macro and press <span class="docEmphBold">Enter</span>. A
non-Emacs sounding name is best so that Emacs
doesn't confuse it with one of its own commands.
Once you've executed this command, Emacs remembers
the macro for the rest of the editing session. To use it again, type
the command <span class="docEmphBold">M-x</span>
<span class="docEmphasis">name</span> (where <span class="docEmphasis">name</span>
is the name you've chosen). Emacs treats your named
macro like one of its own commands; it shows up in completion lists
if you press <span class="docEmphBold">Tab</span> after typing a few
letters of the name.</P></div></LI><LI><div style="font-weight:normal"><P class="docList">If you want to save the macro definition permanently, you must insert
the macro definition into a file. This could be your
<span class="docEmphasis">.emacs</span> file or a macro file that you load
through your <span class="docEmphasis">.emacs</span> file. Type <span class="docEmphBold">C-x C-f</span> <span class="docEmphasis">filename</span>
<span class="docEmphBold">Enter</span> to find the file into which to
insert the definition and move to the end of it by typing <span class="docEmphBold">M-&gt;</span>.</P></div></LI><LI><div style="font-weight:normal"><P class="docList">Type <span class="docEmphBold">M-x insert-kbd-macro Enter</span>
<span class="docEmphasis">macroname</span> <span class="docEmphBold">Enter</span>. Emacs inserts Lisp code that represents
your macro.</P></div></LI><LI><div style="font-weight:normal"><P class="docList">Add a line to <span class="docEmphasis">.emacs</span> make the key binding
permanent. For example, if we called our macro <span class="docEmphBold">transpose-names</span> and bound it to <span class="docEmphBold">C-x C-k T</span>, we would add this line to our
<span class="docEmphasis">.emacs</span> file (or other macro definition file):</P><PRE>(global-set-key "\C-x\C-kT" 'transpose-names)</PRE><BR>
</div></LI><LI><div style="font-weight:normal"><P class="docList">If you save the macro in some other file, it won't
be loaded automatically. For example, let's say that
you have defined a macro called <span class="docEmphBold">transpose-names</span> and placed it in the file
<span class="docEmphasis">html.macs</span>, in the directory
<span class="docEmphasis">~/macros</span>. Add this line to your
<span class="docEmphasis">.emacs</span> file to load your macros automatically:</P><PRE> (load-file "~/macros/html.macs")</PRE><BR>
</div></LI><LI><div style="font-weight:normal"><P class="docList">Save the <span class="docEmphasis">.emacs</span> file and, if different, the file
in which you inserted your macro. Exit and restart Emacs. You can now
execute this macro either by typing <span class="docEmphBold">M-x
transpose-names Enter</span> or by pressing <span class="docEmphBold">C-x C-k T</span>.</P></div></LI></OL></div>

<ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="gnu3-CHP-6-SECT-6.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="gnu3-CHP-6-SECT-8.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
</body>
</html>
