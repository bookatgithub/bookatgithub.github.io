<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>9.5. The Java Development Environment for Emacs (JDEE)</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body >
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="gnu3-CHP-9-SECT-4.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="gnu3-CHP-9-SECT-6.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="gnu3-CHP-9-SECT-5"></A>
<H3 class="docSection1Title">9.5. The Java Development Environment for Emacs (JDEE)</H3>

<P class="docText">While you can certainly <A NAME="gnu3-CHP-9-ITERM-2582"></A>get started right away
with the built-in Java mode, if you do more than occasional Java
programming, you might want to venture into the world of Paul
Kinnucan's Java Development Environment for Emacs
(JDEE). It takes Emacs into the realm of Java IDE. You
won't find a GUI builder, but everything else is in
place and ready to roll.</P>

<A NAME="gnu3-CHP-9-SECT-5.1"></A>
<H4 class="docSection2Title">9.5.1 Getting Started</H4>

<P class="docText">You can pick up the latest version of the JDEE online from
<A class="docLink" target="_blank" HREF="http://jdee.sunsite.dk/">http://jdee.sunsite.dk/</A>.<sup class="docFootnote"><A class="docLink" HREF="#gnu3-CHP-9-FNOTE-10">[10]</A></sup> This site is essential to getting the JDEE up and
running. You'll find all sorts of tips and tricks
and full user documentation on all of the bells and whistles is
available.</P><blockquote><p class="docFootnote"><sup><A NAME="gnu3-CHP-9-FNOTE-10">[10]</A></sup> Before we take you through the installation process, we should
mention two caveats. XEmacs has the JDEE built-in, though it is often
out-of-date. TEI-Emacs, an add-on for Linux and Windows described in
<A class="docLink" HREF="gnu3-CHP-8.html#gnu3-CHP-8">Chapter 8</A>, also includes the JDEE.</p></blockquote>

<P class="docText">Before you can install the JDEE, you'll need the
following components:</P>

<DL class="docList"><br><p><DT><I><span class="docPubcolor">Collection of Emacs Development Environment Tools (CEDET)</span></I></DT></p>
<DD>
<P class="docList">Available on SourceForge (<A class="docLink" target="_blank" HREF="http://cedet.sourceforge.net/">http://cedet.sourceforge.net/</A>) or by
following the links from the JDEE home page. This collection is quite
popular as a foundation for more interesting programmer tools. You
may already have a sufficient version installed, but
it's best to get the latest release.</P>
</DD>
<br><p><DT><I><span class="docPubcolor">The JDEE Emacs Lisp library package</span></I></DT></p>
<DD>
<P class="docList">Available as a separate download from the JDEE site.</P>
</DD>
<br><p><DT><I><span class="docPubcolor">One or more JDKs</span></I></DT></p>
<DD>
<P class="docList">While technically not required for editing files in Emacs, a JDK is
required to take advantage of any of the compilation or debugging
features of the JDEE. You'll also have to register
each JDK you plan to use, but more on that later.</P>
</DD>
</DL>


<A NAME="gnu3-CHP-9-SECT-5.2"></A>
<H4 class="docSection2Title">9.5.2 Installing CEDET</H4>

<P class="docText">Installing CEDET is <A NAME="gnu3-CHP-9-ITERM-2583"></A><A NAME="gnu3-CHP-9-ITERM-2584"></A>fairly straightforward if you
have a <span class="docEmphBold">make</span> command available. (For
Windows users, you'll want to have the Cygnus Unix
Distribution installed. It gives you access to a large subset of Unix
tools which will come in handy far beyond the installation of the
JDEE.)</P>

<P class="docText">After you download the CEDET distribution from SourceForge, unpack it
wherever you want it to reside. Open a terminal window (or start a
Cygwin bash terminal on Windows) and change to the directory where
you unpacked the distribution. From there you should be able to run
the following command:</P>

<PRE>shell$ <span class="docEmphBold">make EMACS=</span><span class="docEmphBold"><PRE><B>
/path/to/emacs </B></PRE></span></PRE><BR>


<P class="docText">That process will probably take a few minutes to complete. The Lisp
files will be compiled for you.</P>

<P class="docText">When the <span class="docEmphBold">make</span> command completes, you
should be in good shape. The last step for CEDET is to update your
<span class="docEmphasis">.emacs</span> file:</P>

<PRE>;; Turn on CEDET's fun parts
(setq semantic-load-turn-useful-things-on t)
;; Load CEDET
(load-file "/<span class="docEmphasis">path-to-cedet</span>/common/cedet.el")</PRE><BR>



<A NAME="gnu3-CHP-9-SECT-5.3"></A>
<H4 class="docSection2Title">9.5.3 Installing the ELisp Library</H4>

<P class="docText">Installing the ELisp library package <A NAME="gnu3-CHP-9-ITERM-2585"></A><A NAME="gnu3-CHP-9-ITERM-2586"></A>from the JDEE site is
also straightforward. Unpack the downloaded file wherever you like,
but before you run the <span class="docEmphBold">make</span> command,
you'll need to edit the
<span class="docEmphasis">Makefile</span> and configure the entries outlined in
<A class="docLink" HREF="#gnu3-CHP-9-TABLE-5">Table 9-5</A> to match your system.</P>

<A NAME="gnu3-CHP-9-TABLE-5"></A><P><TABLE CELLSPACING="0" BORDER="1" RULES="all" CELLPADDING="4" WIDTH="100%"><CAPTION><h5 class="docTableTitle">Table 9-5. JDEE Makefile entries</h5></CAPTION><COLGROUP><COL><COL><COL></COLGROUP><THEAD><TR><TH class="thead" scope="col">
<P class="docText">Makefile entry</P>
</TH><TH class="thead" scope="col">
<P class="docText">Example</P>
</TH><TH class="thead" scope="col">
<P class="docText">Description</P>
</TH></TR></THEAD><TR><TD class="docTableCell">
<PRE>prefix</PRE><BR>

</TD><TD class="docTableCell">
<PRE>/usr/local</PRE><BR>

</TD><TD class="docTableCell">
<P class="docText">The top-level directory for any shared or info directories.</P>
</TD></TR><TR><TD class="docTableCell">
<PRE>datadir</PRE><BR>

</TD><TD class="docTableCell">
<PRE>$(prefix)/share</PRE><BR>

</TD><TD class="docTableCell">
<P class="docText">The directory where your main Emacs directory is located.</P>
</TD></TR><TR><TD class="docTableCell">
<PRE>locallisppath</PRE><BR>

</TD><TD class="docTableCell">
<PRE>$(datadir)/emacs/site-lisp</PRE><BR>

</TD><TD class="docTableCell">
<P class="docText">The directory where any local Lisp files should be installed.</P>
</TD></TR><TR><TD class="docTableCell">
<PRE>ELIBDIR</PRE><BR>

</TD><TD class="docTableCell">
<PRE>$(locallisppath)/elib</PRE><BR>

</TD><TD class="docTableCell">
<P class="docText">The directory where the elib Lisp files will go.</P>
</TD></TR><TR><TD class="docTableCell">
<PRE>EMACS</PRE><BR>

</TD><TD class="docTableCell">
<PRE>/usr/bin/emacs</PRE><BR>

</TD><TD class="docTableCell">
<P class="docText">The command to start Emacs. This can be a fully qualified path or
simply "emacs" to reach the default
version found on your system.</P>
</TD></TR></TABLE></P><br>

<P class="docText">Run the <span class="docEmphBold">make</span> command with the
<span class="docEmphBold">install</span> option to get everything set
up:</P>

<PRE>shell$ <B>make install</B></PRE><BR>


<P class="docText">The last step for the ELisp library is to make sure the Emacs
defaults acknowledge the new package. You simply need to add the new
directory to your <span class="docEmphBold">load-path</span>
variable, as described next.</P>

<P class="docText">The ELisp library actually provides a simple template file that
matches where you installed the package. After the <span class="docEmphBold">make</span> process completes, you should have an
<span class="docEmphasis">elib_startup.el</span> file in the directory where you
ran the <span class="docEmphBold">make</span> command. That file
contains the line you'll need to add to your
<span class="docEmphasis">.emacs</span> file or you can merge it with the system
<span class="docEmphasis">default.el</span> file for everyone to use. (The
<span class="docEmphasis">default.el</span> file is often found in your
<span class="docEmphasis">site-lisp</span> directory. <A class="docLink" HREF="gnu3-CHP-11.html#gnu3-CHP-11">Chapter 11</A> has more details.)</P>


<A NAME="gnu3-CHP-9-SECT-5.4"></A>
<H4 class="docSection2Title">9.5.4 Installing the JDEE</H4>

<P class="docText">Five basic steps are required to
<A NAME="gnu3-CHP-9-ITERM-2587"></A><A NAME="gnu3-CHP-9-ITERM-2588"></A>install
the JDEE on your system:</P>

<div style="font-weight:bold"><OL class="docList" TYPE="1"><LI><div style="font-weight:normal"><P class="docList">Get the necessary prerequisites downloaded and installed.</P></div></LI><LI><div style="font-weight:normal"><P class="docList">Update the load path (<span class="docEmphasis">.emacs</span>).</P></div></LI><LI><div style="font-weight:normal"><P class="docList">Set theJDEE to load at startup (<span class="docEmphasis">.emacs</span>).</P></div></LI><LI><div style="font-weight:normal"><P class="docList">Compile JDEE <span class="docEmphasis">.el</span> files (optional).</P></div></LI><LI><div style="font-weight:normal"><P class="docList">Register your JDKs (optional).</P></div></LI></OL></div>
<P class="docText">The previous section covered the first step. Make sure you take care
of those prerequisites before continuing. The next steps can be
handled in your <span class="docEmphasis">.emacs</span> file. The JDEE site
proposes the following entries as a minimal setup; we excerpt them
here (with one or two small tweaks) for easy reference.</P>

<PRE>;; This .emacs file illustrates the minimal setup
;; required to run the JDEE.

;; Set the debug option to enable a backtrace when a
;; problem occurs.
(setq debug-on-error t)

;; Update the Emacs load-path to include the path to
;; the JDEE and its require packages. This code assumes
;; that you have installed the packages in the 
;; /usr/local/emacs/site-lisp directory.  Adjust appropriately.
(add-to-list 'load-path 
  (expand-file-name "/usr/local/emacs/site-lisp/jde/lisp"))
(add-to-list 'load-path 
  (expand-file-name "/usr/local/emacs/site-lisp/semantic"))
(add-to-list 'load-path 
  (expand-file-name "/usr/local/emacs/site-lisp/speedbar"))
(add-to-list 'load-path 
  (expand-file-name "/usr/local/emacs/site-lisp/eieio"))
(add-to-list 'load-path 
  (expand-file-name "/usr/local/emacs/site-lisp/elib"))


;; If you want Emacs to defer loading the JDEE until you open a 
;; Java file, edit the following line
(setq defer-loading-jde nil)
;; to read:
;;
;;  (setq defer-loading-jde t)
;;

(if defer-loading-jde
    (progn
      (autoload 'jde-mode "jde" "JDE mode." t)
      (setq auto-mode-alist
            (append
             '(("\\.java\\'" . jde-mode))
             auto-mode-alist)))
  (require 'jde))


;; Set the basic indentation for Java source files
;; to two spaces.
(add-hook 'jde-mode-hook 
          '(lambda ( )
            (setq c-basic-offset 2)))

;; Include the following only if you want to run
;; bash as your shell.

;; Set up Emacs to run bash as its primary shell.
(setq shell-file-name "bash")
(setq shell-command-switch "-c")
(setq explicit-shell-file-name shell-file-name)
(setenv "SHELL" shell-file-name)
(setq explicit-sh-args '("-login" "-i"))
(if (boundp 'w32-quote-process-args)
  (setq w32-quote-process-args ?\")) ;; Include only for MS Windows.</PRE><BR>


<P class="docText">Of course, you'll need to make sure the paths in the
<TT>add-to-list</TT> '<TT>load-path</TT> lines
match the actual directories you're using.</P>

<P class="docText">Compiling the JDEE Lisp files is not required, but as noted in
"Byte-Compiling Lisp Files" in
<A class="docLink" HREF="gnu3-CHP-11.html#gnu3-CHP-11">Chapter 11</A>, it's a good idea
and speeds up several operations including general startup times. The
JDEE makes this step simple. After you have it installed, start Emacs
and run <span class="docEmphBold">M-x jde-compile-jde</span>. You run
this command only once, so it is definitely worthwhile.</P>


<A NAME="gnu3-CHP-9-SECT-5.5"></A>
<H4 class="docSection2Title">9.5.5 Registering Your Java Tools</H4>

<P class="docText">The last step we need <A NAME="gnu3-CHP-9-ITERM-2589"></A><A NAME="gnu3-CHP-9-ITERM-2590"></A>to cover is registering your Java
development kits. This is not strictly necessary, but you
don't want to skip this step. It is especially handy
if you work in an environment where you have to test multiple
versions of the JDK. With all of your kits registered in the JDEE,
you can switch between versions with a simple variable change.</P>

<P class="docText">To register a JDK, use the <span class="docEmphBold">M-x
customize-variable</span> command. The variable you need to
customize is <span class="docEmphBold">jde-jdk-registry</span>. That
will land you in the interactive customization screen. You can select
the <span class="docEmphBold">INS</span> (insert) button to add the
version number and path of your JDK. You can repeat that process for
as many JDKs as you want to register. See <A class="docLink" HREF="#gnu3-CHP-9-FIG-2">Figure 9-2</A> for a list of such entries on a Mac OS X
system.</P>

<A NAME="gnu3-CHP-9-FIG-2"></A><p><CENTER>
<H5 class="docFigureTitle">Figure 9-2. Inserting JDK entries in a Custom list</H5>
<IMG BORDER="0" width="431" height="452" SRC="images/0596006489/figs/ge3_fig0902.gif" ALT=""></CENTER></p><br>

<P class="docText">Be sure to hit the State button and save this state for future
sessions. You can click the Finish button when
you're done or just close the buffer.</P>

<P class="docText">After you have your JDKs registered, you can switch to the active
version using that same <span class="docEmphBold">M-x
customize-variable</span> command. This time, edit the <span class="docEmphBold">jde-jdk</span> variable. You'll be
prompted to choose one of the registered versions. You may or may not
want to save this decision for future sessions. In any case, this
variable can be edited at any time.</P>

<A NAME="gnu3-CHP-9-SECT-5.5.1"></A>
<H5 class="docSection3Title">9.5.5.1 JDK tools.jar problems</H5>

<P class="docText">The compilation feature requires access to the
<span class="docEmphasis">tools.jar</span> file (or the equivalents built-in to
some JDKs). If the JDEE compile command fails with an error message
about not being able to find the <span class="docEmphasis">tools.jar</span> file,
your best bet is to customize the JDEE variable <span class="docEmphBold">jde-global-classpath</span>. Make sure that variable
includes the <span class="docEmphasis">tools.jar</span> file.</P>

<P class="docText">For some systems that do not have a <span class="docEmphasis">tools.jar</span>
file<sup class="docFootnote"><A class="docLink" HREF="#gnu3-CHP-9-FNOTE-11">[11]</A></sup>, you can steal that file from another machine, but
usually you just need to get your classpath and registry entries set
up correctly. Customizing the variables in <A class="docLink" HREF="#gnu3-CHP-9-TABLE-6">Table 9-6</A> should get you compiling and running without
too much effort.</P><blockquote><p class="docFootnote"><sup><A NAME="gnu3-CHP-9-FNOTE-11">[11]</A></sup> For Mac OS X users, the classes normally found
in <span class="docEmphasis">tools.jar</span> are already a permanent part of the
standard <span class="docEmphasis">classes.jar</span> so they are always
available—even though <span class="docEmphasis">tools.jar</span>
isn't in any of the library locations.</p></blockquote>

<A NAME="gnu3-CHP-9-TABLE-6"></A><P><TABLE CELLSPACING="0" BORDER="1" RULES="all" CELLPADDING="4" WIDTH="100%"><CAPTION><h5 class="docTableTitle">Table 9-6. JDEE variables to customize</h5></CAPTION><COLGROUP><COL><COL></COLGROUP><THEAD><TR><TH class="thead" scope="col">
<P class="docText">JDEE variable</P>
</TH><TH class="thead" scope="col">
<P class="docText">Sample values</P>
</TH></TR></THEAD><TR><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">jde-global-classpath</span></P>
</TD><TD class="docTableCell">
<PRE>/usr/local/j2se:.</PRE><BR>

</TD></TR><TR><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">jde-jdk-registry</span></P>
</TD><TD class="docTableCell">
<PRE>Version = 1.4.2
Path = /usr/local/j2se</PRE><BR>

</TD></TR></TABLE></P><br>

<P class="docText">Whew! That was a lot of work. But the good news is that once
you've made it through the installation process, you
have all the spiffy features of the JDEE forever at your command. So
let's get on with the features!</P>



<A NAME="gnu3-CHP-9-SECT-5.6"></A>
<H4 class="docSection2Title">9.5.6 Editing with the JDEE</H4>

<P class="docText">First off, you're still in Emacs, so
<A NAME="gnu3-CHP-9-ITERM-2591"></A><A NAME="gnu3-CHP-9-ITERM-2592"></A>the usual motion commands described for
Java mode (and C mode) still apply. But the JDEE adds two really
great features to your editing cycle: command completion and class
browsing.</P>

<P class="docText">The idea behind command completion is that the JDEE can (usually)
predict which methods and variables are valid choices to make at
certain points in your Java program. For example, if you start typing
<span class="docEmphBold">System</span>. in your program, there are a
finite number of choices for what follows that period. JDEE can
display a list of those choices.</P>

<P class="docText">The command to show your list of completions is <span class="docEmphBold">C-c C-v C-</span>. (for <span class="docEmphBold">jde-complete</span>), which defaults to showing you a
menu of completions. (You can change that behavior by customizing the
<span class="docEmphBold">jde-complete-function</span> variable.) The
completions are generated by looking at all of the classes listed in
the <span class="docEmphBold">jde-global-classpath</span> variable
(or the CLASSPATH environment variable if no global classpath was
defined).</P>

<P class="docText">The class browser can be accessed quickly from the JDE menu and
launches a BeanShell browser for the class your cursor was on.
It's like a context-sensitive documentation tool,
but a bit more powerful. <A class="docLink" HREF="#gnu3-CHP-9-FIG-3">Figure 9-3</A> shows what you
get when starting the browser while your cursor is on the word
<span class="docEmphasis">System</span>.</P>

<A NAME="gnu3-CHP-9-FIG-3"></A><p><CENTER>
<H5 class="docFigureTitle">Figure 9-3. The BeanShell class browser launched from the JDEE</H5>
<IMG BORDER="0" width="431" height="386" SRC="images/0596006489/figs/ge3_fig0903.gif" ALT=""></CENTER></p><br>

<P class="docText">You can also launch the class browser with the <span class="docEmphBold">M-x jde-browse-class-at-point</span> command.</P>

<P class="docText">One other edit-time feature worth pointing out is the Code Generation
item in the JDE menu. It has some great timesavers built-in, as shown
in <A class="docLink" HREF="#gnu3-CHP-9-TABLE-7">Table 9-7</A>.</P>

<A NAME="gnu3-CHP-9-TABLE-7"></A><P><TABLE CELLSPACING="0" BORDER="1" RULES="all" CELLPADDING="4" WIDTH="100%"><CAPTION><h5 class="docTableTitle">Table 9-7. Code Generation menu options</h5></CAPTION><COLGROUP><COL><COL><COL></COLGROUP><THEAD><TR><TH class="thead" scope="col">
<P class="docText">Keystrokes</P>
</TH><TH class="thead" scope="col">
<P class="docText">Menu option</P>

<P class="docText">(M-x command)</P>
</TH><TH class="thead" scope="col">
<P class="docText">Action</P>
</TH></TR></THEAD><TR><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">C-c C-v C-l</span> (lowercase L)</P>
</TD><TD class="docTableCell">
<P class="docText">Println Wizard(<span class="docEmphBold">jde-gen-println</span>)</P>
</TD><TD class="docTableCell">
<P class="docText">Prompts for the contents to print and inserts a complete
<TT>System.out.println( )</TT> method for you.</P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">C-c C-v C-z</span></P>
</TD><TD class="docTableCell">
<P class="docText">Import Class(<span class="docEmphBold">jde-import-find-and-import</span>)</P>
</TD><TD class="docTableCell">
<P class="docText">Prompts for the (simple) class name to import and automatically adds
the proper import line to the top of your file.</P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">C-c C-v i</span></P>
</TD><TD class="docTableCell">
<P class="docText">Implement Interface(<span class="docEmphBold">jde-wiz-implement-interface</span>)</P>
</TD><TD class="docTableCell">
<P class="docText">Prompts you for the name of the interface to implement. Adds any
missing import statements (including dependent imports, such as
imports required for method arguments). Provides commented skeletons
for each of the methods in the interface.</P>
</TD></TR></TABLE></P><br>

<P class="docText">Other helpers are available from the JDE menu. Generate Get/Set Pairs
in particular is great for working with JavaBeans design patterns.
Just create your list of attributes and then run the wizard. It even
checks to see if you already have an existing get/set pair. If you
do, it notes that get/set pair as
"existing" and keeps on trucking so
you can use the wizard to update existing classes.</P>


<A NAME="gnu3-CHP-9-SECT-5.7"></A>
<H4 class="docSection2Title">9.5.7 Compiling and Running with the JDEE</H4>

<P class="docText">Compiling the current buffer <A NAME="gnu3-CHP-9-ITERM-2594"></A><A NAME="gnu3-CHP-9-ITERM-2595"></A><A NAME="gnu3-CHP-9-ITERM-2596"></A>can be done
quickly with the <span class="docEmphBold">C-c C-v C-c</span>
command. Any errors show up in the compilation buffer. That
compilation buffer also allows you to navigate quickly to any errors
that the compiler finds. Simply move your cursor to the error in
question (using the normal motion commands) and hit <span class="docEmphBold">Enter</span>. You'll find yourself
in the right file on the right line number. Very handy indeed.</P>

<P class="docText">Note that you can also run <span class="docEmphBold">ant</span>
builds with <span class="docEmphBold">M-x jde-ant-build</span>. Check
out the JDEE documentation or the help for various <span class="docEmphBold">jde-ant</span> variables for more information.</P>

<P class="docText">Running a simple program that has its own <TT>main( )</TT>
method is easy: just press <span class="docEmphBold">C-c C-v
C-r</span>. That command executes the current buffer (by opening
an execution buffer named
<TT>*</TT><span class="docEmphasis">fully.qualified.ClassName</span><TT>*</TT>).
Any output from the program shows in the buffer. You can move around
in the buffer just as you would in a normal text buffer.</P>

<P class="docText">Of course, if you are working on anything other than a simple test
class, you'll probably be in a package.
Java's use of the classpaths rarely leaves room for
being at the "bottom" of a package
hierarchy. For example, in the package
<TT>com.oreilly.demo</TT>, you want to start execution from
the same directory that contains the <span class="docEmphasis">com</span>
directory, not from the <span class="docEmphasis">demo</span> directory that
contains the actual Java files. Regrettably, the
<span class="docEmphasis">demo</span> directory is the default.</P>

<P class="docText">You can edit the following variables to make executing in larger
projects a bit more convenient:</P>

<DL class="docList"><br><p><DT><span class="docPubcolor"><span class="docEmphBold">jde-run-working-directory</span></span></DT></p>
<DD>
<P class="docList">The directory in which execution starts</P>
</DD>
<br><p><DT><span class="docPubcolor"><span class="docEmphBold">jde-run-application-class</span></span></DT></p>
<DD>
<P class="docList">The fully qualified name of the class that contains the
<TT>main( )</TT> method to execute</P>
</DD>
</DL>

<P class="docText">With those values set, you should be able to run your application
from any buffer, regardless of what directory the file
you're editing happens to be in.</P>

<P class="docText">Another fun note about running your application through the JDEE: if
any stack traces appear because of exceptions, you can navigate those
traces by using the <span class="docEmphBold">C-c C-v C-[</span> and
<span class="docEmphBold">C-c C-v C-]</span> commands (up and down,
respectively). Again, Emacs makes it possible to manage quite a large
portion of a development project all from one interface.</P>


<A NAME="gnu3-CHP-9-SECT-5.8"></A>
<H4 class="docSection2Title">9.5.8 Debugging with the JDEE</H4>

<P class="docText">A crucial element in any good IDE is its <A NAME="gnu3-CHP-9-ITERM-2597"></A><A NAME="gnu3-CHP-9-ITERM-2598"></A>debugger. The JDEE allows you to stay in
the Emacs realm while interacting with the <span class="docEmphBold">jdb</span> process. The JDEE also comes with its own
debugger, the JDEbug application. JDEbug is more powerful but
requires more setup effort.</P>
<P><table border="0" bgcolor="black" cellspacing="0" cellpadding="1" width="90%" align="center"><tr><td><table bgcolor="white" width="100%" border="0" cellspacing="0" cellpadding="6"><tr><td width="60" valign="top"><img src="images/warning_yellow.gif" width="51" height="36"></td><td valign="top">

<P class="docText">Before we touch anything, you need to make sure that your classes are
compiled with support for debugging. Otherwise, many things will
appear broken when you run the debugger.</P>

<P class="docText">To add debug support when you compile, you run the <span class="docEmphBold">javac</span> command with the -<span class="docEmphBold">g</span> option. With the JDEE you can also use the
variable <span class="docEmphBold">jde-compile-option-debug</span> to
hold all the variations for debugging you like. If you customize this
variable through Custom (see <A class="docLink" HREF="gnu3-CHP-10.html#gnu3-CHP-10">Chapter 10</A>), just
choose the "all" option for which
debugging information to include. (Optionally, you can be more
specific and select from the three types of debug information: Lines,
Variables, and Source.)</P>
</td></tr></table></td></tr></table></P><br>

<P class="docText">We'll look at the <span class="docEmphBold">jdb</span> route just to get you started. You can
start the debug session by typing <span class="docEmphBold">M-x</span> <span class="docEmphBold">jde-jdb</span>.
The same variables that control the starting directory and main
application class are used for debugging purposes.</P>

<P class="docText">After you have launched the debugger, you can control the debug
process in a number of ways.</P>

<UL><LI><P class="docList">Interact directly with the <span class="docEmphBold">jdb</span>
process in the <TT>*debug*</TT> buffer. Here you can type
any command that you would normally give when running <span class="docEmphBold">jdb</span>.</P></LI><LI><P class="docList">Use the Jdb menu. You have all the usual debug options available:
step into/over, continue, toggle breakpoint, and so on. This is a bit
more limited than the first approach, but easier to manage if
you're new to <span class="docEmphBold">jdb</span>.</P></LI><LI><P class="docList">Use keyboard commands while you're in your source
buffer. These commands are even more limited than the menu options,
but give you really quick access to the most common tasks (namely
stepping and break points). <A class="docLink" HREF="#gnu3-CHP-9-TABLE-8">Table 9-8</A> shows the
commands that are available while you're in a source
buffer.</P></LI></UL>
<A NAME="gnu3-CHP-9-TABLE-8"></A><P><TABLE CELLSPACING="0" BORDER="1" RULES="all" CELLPADDING="4" WIDTH="100%"><CAPTION><h5 class="docTableTitle">Table 9-8. JDEE debugger controls</h5></CAPTION><COLGROUP><COL><COL><COL></COLGROUP><THEAD><TR><TH class="thead" scope="col">
<P class="docText">Keystrokes</P>
</TH><TH class="thead" scope="col">
<P class="docText">Menu item</P>
</TH><TH class="thead" scope="col">
<P class="docText">JDB command</P>
</TH></TR></THEAD><TR><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">C-c C-a C-s</span></P>
</TD><TD class="docTableCell">
<P class="docText">Step Into</P>
</TD><TD class="docTableCell">
<P class="docText">step</P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">C-c C-a C-n</span></P>
</TD><TD class="docTableCell">
<P class="docText">Step Over</P>
</TD><TD class="docTableCell">
<P class="docText">next</P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">C-c C-a C-c</span></P>
</TD><TD class="docTableCell">
<P class="docText">Continue</P>
</TD><TD class="docTableCell">
<P class="docText">cont</P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">C-c C-a C-b</span></P>
</TD><TD class="docTableCell">
<P class="docText">Toggle Breakpoint</P>
</TD><TD class="docTableCell">
<P class="docText">stop in/stop at/clear</P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">C-c C-a C-p</span></P>
</TD><TD class="docTableCell">
<P class="docText">Display Expression</P>
</TD><TD class="docTableCell">
<P class="docText">print</P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText"><span class="docEmphBold">C-c C-a C-d</span></P>
</TD><TD class="docTableCell">
<P class="docText">Display Object</P>
</TD><TD class="docTableCell">
<P class="docText">dump</P>
</TD></TR></TABLE></P><br>

<P class="docText"><A class="docLink" HREF="#gnu3-CHP-9-FIG-4">Figure 9-4</A> shows a simple application running in
debug mode. Notice the small black triangle to the left of the Java
source code in the upper buffer. That's the debug
cursor that lets you know where you are in the file. It tracks the
commands you issue, whether by directly entering <span class="docEmphBold">jdb</span> commands, by menu option, or through the
keyboard.</P>

<A NAME="gnu3-CHP-9-FIG-4"></A><p><CENTER>
<H5 class="docFigureTitle">Figure 9-4. Debugging a Java application with jdb</H5>
<IMG BORDER="0" width="431" height="445" SRC="images/0596006489/figs/ge3_fig0904.gif" ALT=""></CENTER></p><br>


<A NAME="gnu3-CHP-9-SECT-5.9"></A>
<H4 class="docSection2Title">9.5.9 Learning More about the JDEE</H4>

<P class="docText">Clearly, there is a lot <A NAME="gnu3-CHP-9-ITERM-2599"></A>more to
the JDEE than we can cover here. The package you download comes with
some good documentation and several user guides for the basic JDEE
and various options like the debuggers. The JDEE web site, at
<A class="docLink" target="_blank" HREF="http://jdee.sunsite.dk">http://jdee.sunsite.dk</A>, is a
great source of information, too. As you would expect from an Emacs
package, you can customize everything. Those customizations are
stored in your <span class="docEmphasis">.emacs</span> file so you can tweak them
by hand (or at least peek at them).</P>

<P class="docText">The best approach is to install the JDEE and start coding with it. If
you find yourself saying "There should be a way to
do X," get out the documentation. Chances are there
is a way to do X—usually with more options than you could hope
for!</P>



<ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="gnu3-CHP-9-SECT-4.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="gnu3-CHP-9-SECT-6.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
</body>
</html>
