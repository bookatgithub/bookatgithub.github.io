<HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="1.4 Python Configuration Details"-->
<LINK REL="stylesheet" href="FILES/sbolM.css">
</HEAD>
<BODY link="#354278" vlink="#000066" alink="#000080" topmargin="0">
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right"><a href="lpython_snode13.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a> <a href="lpython_snode15.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></td></table>
<FONT>
<h3>1.4
Python Configuration Details</h3>


<p>So far, we've seen how to make the Python interpreter execute
programs we've typed. But besides the interpreter, a Python
installation also comes with a collection of utility programs, stored
in the Python source library. Moreover, the Python interpreter
recognizes settings in the system shell's environment, which
let us tailor the interpreter's behavior (where it finds the
source-code files, for example). This section talks about the
environment settings commonly used by Python programmers, peeks at
Python installation details, and presents an example script that
illustrates most of the configuration steps you'll probably
need to know about. If you have access to a ready-to-run Python, you
can probably skip much of this section, or postpone it for a later
time.</p>




<H4>1.4.1
Environment Variables</H4>


<P>The Python interpreter recognizes a handful of
<A name="idx55"></A>environment
variable settings, but only a few are used often enough to warrant
explanation here. <A href="lpython_snode14.html#2">Table 1.1</a> summarizes the main
Python variable settings.</p>



<A NAMe="2"></a><p><table border="1" cellspAcIng="0" cElLPaDDiNg="1" WIDTh="100%">
<capTION><h5>Table 1.1. Important Environment Variables </h5></caPTIOn><colGROUp span="2">
<tr>
<th>
<font size="2">
<p>Role</p>
</fOnT></th>
<tH>
<fONt SIzE="2">
<p>Variable</P>
</FONt></th>
</tR>
<TR>
<Td>
<fonT SIZe="2">
<p>System shell search path (for finding "python")</p>
</fONT></Td>
<td>
<font size="2">
<p><tt class="monofont">PATH</tT> (or <tT claSs="monofont">path</TT>)</p>
</FOnT></tD>
</TR>
<Tr>
<td>
<fONT Size="2">
<p>Python module search path (for imports)</P>
</FONt></td>
<tD>
<FONt size="2">
<pre class="monofont">PYTHONPATH</pre></font></Td>
</Tr>
<tr>
<Td>
<FOnT SiZe="2">
<P>Path to Python interactive startup file</P>
</FOnt></td>
<TD>
<FOnt siZE="2">
<PRe claSS="monofont">PYTHONSTARTUP</PRe></font></td>
</tr>
<tr>
<td>
<font sizE="2">
<p>GUI extension variables (Tkinter)</P>
</fonT></tD>
<Td>
<FOnT sIZE="2">
<P><tt clASS="monofont">TCL_LIBRARY</Tt>, <tt cLASS="monofont">TK_LIBRARY</tt></p>
</fONT></Td>
</tr>
</colgroup>
</table></p>



<p>These variables are straightforward to use, but here are a few
pointers:</p>



<uL>
<lI><p>The <tt ClASs="monofont">PATH</TT>
<a NaME="idx56"></A> setting lists a set of directories
that the operating system searches for executable programs. It should
normally include the directory where your Python interpreter lives
(the <Tt claSS="monofont">python</TT> program on Unix, or the
<i>python.exe</i> file on Windows). You don't
need to set this on the Macintosh (the install handles path details).</p>
</lI>
<LI><P>The <tt clASS="monofont">PYTHONPATH</Tt>
<a name="idx57"></a> setting serves a role similar to
<tt class="monofont">PATH</tt>: the Python interpreter consults the
<tt clAsS="monofont">PYTHONPATH</tt> variable to locate module files when
you import them in a program. This variable is set to a list of
directories that Python searches to find an imported module at
runtime. You'll usually want to include your own source-code
directories and the Python source library's directory (unless
it's been preset in your Python installation).</p>
</Li>
<LI><p>If <TT cLaSS="monofont">PYTHONSTARTUP</TT>
<a namE="idx58"></A> is set to the pathname of a file of
Python code, Python executes the file's code automatically
whenever you start the interactive interpreter, as though you had
typed it at the interactive command line. This is a handy way to make
sure you always load utilities whenever you're working
interactively.</P>
</Li>
<li><p>Provided you wish to use
the<A NAMe="idx59"></a> Tkinter GUI extension (see <a href="lpython_cnode103.html">Chapter 10</A>), the two GUI variables in <a href="lpython_snode14.html#2">Table 1.1</a> should be set to the name of the source
library directories of the Tcl and Tk systems (much like
<tt class="monofont">PYTHONPATH</tt>).</p>
</li>
</ul>
<P>Unfortunately, the way to set these variables and what to set them to
depends on your system's configuration. For instance, on Unix
systems the way to set variables depends on the shell; under the
<i>csh</I>
<a naMe="idx60"></A> shell, you might set this to the Python
module search path:</P>



<pRE cLaSS="monofont">setenv PYTHONPATH .:/usr/local/lib/python:/usr/local/lib/python/tkinter</PRe>


<p>which tells Python to look for imported modules in three directories:
the current directory (.), the directory where the Python source
library is installed on your machine (here,
<i>/usr/local/lib/python</i>), and the
<TT CLass="monofont">tkinter</tT> source library subdirectory, where the
Python GUI extension support code resides. But if you're using
the <TT Class="monofont">ksh</TT>
<A Name="idx61"></a> shell, the setting might instead look
like this:</p>



<pre class="monofont">export PYTHONPATH=".:/usr/local/lib/python:/usr/local/lib/python/tkinter"</pre>


<p>And if you're using MS-DOS, an environment configuration could
be something very different still:</p>



<prE cLass="monofont">set PYTHONPATH=.;c:\python\lib;c:\python\lib\tkinter</PrE>


<P>Since this isn't a book on operating system shells, we're
going to defer to other sources for more details. Consult your system
shell's manpages or other documentation for details. And if you
have trouble figuring out what your settings must be, ask your system
administrator (or other local guru) for help.</p>







<H4>1.4.2
An Example Startup Script</H4>


<p>The code below, call it <I>runpy</i>, pulls some of
these details together in a simple Python <A NAMe="idx62"></a>startup script. It sets the
necessary environment variables to reasonable values (on Mark's
machine, at least) and starts the Python interactive interpreter. To
use it, type <tt CLASs="monofont">runpy</tt> at your system shell's
prompt.</p>



<PRE Class="monofont">#!/bin/csh
# Give this file executable privileges (chmod +x runpy).
# Put this info in your .cshrc file to make it permanent.

<B># 1) Add path to command-line interpreter</B>
set path = (/usr/local/bin $path)

<B># 2) Set python library search paths (unless predefined)</B>
# add your module file directories to the list as desired
setenv PYTHONPATH \
     .:/usr/local/lib/python:/usr/local/lib/python/tkinter

<b># 3) Set tk library search paths for GUIs (unless predefined)</b>
setenv TCL_LIBRARY /usr/local/lib/tcl8.0
setenv TK_LIBRARY  /usr/local/lib/tk8.0

<b># 4) Start up the interactive command-line</b>
python</pre>


<p><i>runpy</i> illustrates a typical Python
configuration, but it has a few drawbacks:</p>



<ul>
<li><p>It's written to only work under the <i>csh</i>
shell, a command-line processor common on Unix and Linux platforms;
you'll need to interpolate if you're not a
<i>csh</i> user.</P>
</lI>
<li><p>The settings it illustrates are usually made once in your
shell's startup file (<I>~/.cshrc</i> for
<I>csh</I> users), instead of each time you run Python.</p>
</LI>
<lI><p>Depending on how your Python was built, you may not need to list the
paths to standard source libraries, since they might be hardwired
into your installation.</P>
</LI>
</Ul>
<p>A note for MS-Windows users: a similar configuration can be created
in a MS-DOS batch file, which might look something like this,
depending on which Windows port of Python you've installed:</p>



<pRE CLass="monofont">PATH c:\python;%PATH%
set PYTHONPATH=.;c:\python\lib;c:\python\lib\tkinter
set TCL_LIBRARY=c:\Program Files\Tcl\lib\tcl8.0
set TK_LIBRARY=c:\Program Files\Tcl\lib\tk8.0
python</pRE>






<H4>1.4.3
A GUI Test Session</H4>


<p>If you or your administrator have installed Python with
the<a naME="idx63"></A>
<A name="idx64"></a> <a name="idx65"></a> Tkinter GUI extension, the following
interactive session shows one way to test your Python/GUI
configuration. (You can skip this section if you won't be using
Tkinter.)</p>



<pre class="monofont">%<B> runpy </b>
<I> Version/copyright information...</i></prE>


<pRE cLAsS="monofont">&gt;&gt;&gt;<b> from Tkinter import *</B>
&gt;&gt;&gt;<B> w = Button(text="Hello", command='exit')</B>
&gt;&gt;&gt; <B>w.pack()</b>
&gt;&gt;&gt;<b> w.mainloop()</b></pRE>


<P>Type <Tt claSS="monofont">runpy</TT> at the system shell and then all the
Python code shown after the Python <tt clASS="monofont">&gt;&gt;&gt;</Tt>
prompts. Ignore the details in the example's code for now; we
study Tkinter in <a href="lpython_cnode103.html">Chapter 10</a>. If everything is set
up properly, you should get a window on your screen that looks
something like <a href="lpython_snode14.html#5">Figure 1.1</a> (shown running on a
MS-Windows machine; it looks slightly different on the X Window
System or a Macintosh, since Tkinter provides for native look and
feel).</p>



<center>
<H5>
<a Name="5"></A>Figure 1.1. Tkinter GUI test screen</h5>

<IMg BOrDeR="0" WIDth="503" heIGHT="80" src="FILES/lpy_0101.gif" aLT="figs/lpy_0101.gif"></CEnter>


<P>If this test doesn't work, start checking your environment
variable path settings, and/or the Python install. Tkinter is an
optional extension that must be explicitly enabled, so make sure
it's in your version of Python. Also make sure you have access
to the Tcl/Tk source libraries; they're required by the current
Python Tkinter implementation. See the <I>README</I>
files in the Python source distribution and the Python web site for
more details.</P>







<h4>1.4.4
Installation Overview</h4>


<p>In the interest of completeness, this section provides a few pointers
on the Python <a name="idx66"></a>installation process. When you're
just getting started with Python, you normally shouldn't need
to care about Python installation procedures. Hopefully, someone
else—perhaps your system administrator—has already
installed Python on your platform, and you can skip most of the
information here.</p>



<p>But this isn't always the case, and even if Python is already
installed on your machine, installation details may become more
important as your knowledge of Python grows. In some scenarios,
it's important to know how to build Python from its source
code, so you can bind in extensions of your own statically. But
again, this isn't a book on Python/C
<a name="idx67"></a>integration, so if Python has already been
installed for you, you may want to file this section away for future
reference.</p>



<a nAmE="idx68"></a><a nAmE="idx69"></A><a NAmE="idx70"></a><DL>
<DT>
<i><fonT COLor="#990000">Python comes in binary or C source-code forms</foNT></I></Dt>
<dd>
<p>You can get Python as either a prebuilt<A NAMe="idx68"></a>
<a name="idx69"></a> binary executable (which runs
"out of the box") or in its <a name="idx70"></a>C source-code
form (which you must compile on your machine before it can run). Both
forms can be found in a variety of media—the Python web/FTP
sites (see <a href="lpython_cnode114.html">Appendix A</a>), CDs accompanying Python
books, independent CD distributors, Linux distributions, and so on.
Naturally, if you go for the binary format, you must get one
that's compatible with your machine; if you use the C
source-code distribution, you'll need a C compiler/build system
on your machine. Both forms are usually distributed as compressed
archive files, which means you usually need utilities such as
<Tt ClasS="monofont">gzip</tT> and <Tt CLaSs="monofont">tar</TT> to unpack the file
on your computer (though some Windows ports install themselves).</P>
</Dd>
<dt>
<i><FONT coloR="#990000">C source code configures/builds automatically</FONt></i></dt>
<DD>
<P>Although getting Python in binary form means you don't need to
compile it yourself, it also means you have little control over what
extensions are enabled; you'll get the extensions that the
person who built the binary happened to think were important.
Moreover, besides the Python binary itself, you need to get and
install the Python source library, which may or may not be included
in a Python binary package. For more control, fetch the full Python C
source-code distribution and compile it on your machine. We
won't list the compile commands here, but the source-code build
procedure is largely automatic; Python configures its own
<Tt class="monofont">makefiles</tt> according to your platform, and Python
compiles without a glitch on just about any platform you might
mention.</p>
</dd>
<dt>
<i><font coLoR="#990000">Don't build from source unless you've used a C compiler before</fonT></i></DT>
<dD>
<P>Having said that, we should note that even automated C compiles of a
large system like Python are not to be taken lightly. If you've
never used a C compiler before, we suggest you try to obtain a Python
binary package for your platform first, before falling back on
building Python from its source-code on your machine. And as usual,
you can always ask a local C guru for assistance with the build or
install.</p>
</Dd>
</DL>


<P>Prebuilt Python binaries exist for most platforms now, including
MS-Windows, the Macintosh, and most flavors of Unix; see
Python's web site for links. We should also note that the full
C source-code distribution contains the entire Python system, and is
true freeware<I>;</i> there are no copyright
constraints preventing you from using it in your products. Although
hacking an interpreter's source code isn't
everybody's cup of tea, it's comforting to know that you
have control over all the source code in your Python system.</p>



<p>For more details on installing and building Python, see the
<i>README</I> files in the C source-code distribution,
the Python web site, and other Python texts such as
<I>Programming Python</I>. And for pointers to various
Python distributions, see the URLs listed in <A href="lpython_cnode114.html">Appendix A</A>.</P>


</FOnt>
 
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right"><a href="lpython_snode13.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a> <a href="lpython_snode15.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></td></table>
</BODY></HTML>