<HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="3.5 while Loops"-->
<LINK REL="stylesheet" href="FILES/sbolM.css">
</HEAD>
<BODY link="#354278" vlink="#000066" alink="#000080" topmargin="0">
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right"><a href="lpython_snode36.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a> <a href="lpython_snode38.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></td></table>
<FONT>
<h3>3.5
while Loops</h3>


<p>Python's<a NAME="idx311"></a>
<a naME="idx312"></A>
<A name="idx313"></A>
<A NAme="idx314"></a>
<tt class="monofont">while</tt> statement is its most general iteration
construct. In simple terms, it repeatedly executes a block of
indented statements, as long as a test at the top keeps evaluating to
a true value. When the test becomes false, control continues after
all the statements in the <tt class="monofont">while</tT>, and the body
never runs if the test is false to begin with.</p>



<P>The <tt cLaSS="monofont">while</tT> statement is one of two looping
statements (along with the <Tt ClASS="monofont">for</Tt>, which we'll
meet next). We call it a <i>loop</i>, because control
keeps looping back to the start of the statement, until the test
becomes false. The net effect is that the loop's body is
executed repeatedly while the test at the top is true. Python also
provides a handful of tools that implicitly loop (iterate), such as
the <tT CLAss="monofont">map</tt>, <TT CLass="monofont">reduce</tT>, and
<TT Class="monofont">filter</tt> functions, and the <tt class="monofont">in</tt>
membership test; we explore some of these later in this book.</p>




<h4>3.5.1
General Format</h4>


<p><tT cLass="monofont"></Tt>
<A NaME="idx315"></a>In its most complex form, the
<Tt CLASs="monofont">while</tt> statement consists of a header line with a
test expression, a body of one or more indented statements, and an
optional <tT CLAss="monofont">else</tt> part that is executed if control
exits the loop without running into a <TT CLass="monofont">break</tT>
statement (more on these last few words later). Python keeps
evaluating the test at the top, and executing the statements nested
in the <TT Class="monofont">while</tt> part, until the test returns a false
value:</p>



<pre class="monofont">while &lt;<tt claSs="monofont"><I>test</i></tt>&gt;:             # loop test
    &lt;<Tt CLaSS="monofont"><i>statements1</I></tT>&gt;         # loop body
else:                     # optional else
    &lt;<TT Class="monofont"><I>statements2</I></TT>&gt;         # run if didn't exit loop with break</pre>






<h4>3.5.2
Examples</H4>


<P>To illustrate, here are a handful of simple <TT clasS="monofont">while</TT>
loops in action. The first just prints a message forever, by nesting
a <Tt class="monofont">print</tt> statement in a <tt class="monofont">while</tt>
loop. Recall that an integer 1 means true; since the test is always
true, Python keeps executing the body forever or until you stop its
execution. This sort of behavior is usually called an
<i>infinite loop</i> (and tends to be much less welcome
when you don't expect it):</p>



<PrE claSs="monofont">&gt;&gt;&gt;<B> while 1:</B>
... <b>   print 'Type Ctrl-C to stop me!'</B></PrE>


<p>The next example keeps slicing off the first character of a string,
until the string is empty. Later in this chapter, we'll see
other ways to step more directly through the items in a string.</P>



<PRE clasS="monofont">&gt;&gt;&gt;<B> x = 'spam'</B>
&gt;&gt;&gt;<B> while x:</b>
... <b>    print x,</b>
... <b>    x = x[1:]      </B># strip first character off x
...
spam pam am m</PRE>


<p>Finally, the code below counts from the value of
<tt cLASS="monofont">a</tt>, up to but not including <tt class="monofont">b</tt>.
It works much like a C <tt class="monofont">for</tt> loop; we'll see
an easier way to do this with a Python <Tt ClasS="monofont">for</tT> and
<Tt CLaSs="monofont">range</TT> in a moment.</P>



<Pre clASS="monofont">&gt;&gt;&gt;<B> a=0; b=10</b>
&gt;&gt;&gt;<b> while a &lt; b:       </b># one way to code counter loops
...<b>     print a,</B>
...<B>     a = a+1</B>
...
0 1 2 3 4 5 6 7 8 9</Pre>






<a nAME="idx352"></A><h4>3.5.3
break, continue, pass, and the Loop else</h4>


<p><tt class="monofont"></tt>
<a name="idx316"></a>Now that we've seen our first
Python loop, we should introduce two simple statements that have a
purpose only when nested inside loops—the
<tt ClAss="monofont">break</tT>
<a NAmE="idx317"></A> <a NaME="idx318"></A> <A name="idx319"></A> and <TT Class="monofont">continue</TT>
statements. If you've used C, you can skip most of this
section, since they work the same in Python. Since
<TT clasS="monofont">break</TT> and loop <Tt class="monofont">else</tt> clauses are
intertwined, we'll say more about <tt class="monofont">else</tt> here
too. And while we're at it, let's also look at
Python's empty statement—the <tt cLaSs="monofont">pass</tt>,
which works just like C's empty statement (a bare semicolon).
In Python:</P>



<dL>
<Dt>
<FOnT cOLOR="#990000"><font COLOr="#990000"><spaN CLAss="monofont">break </spAN></FOnt>
</font></dt>
<dd>
<p>Jumps out of the closest enclosing loop (past the entire loop
statement).</p>
</dd>
<dt>
<font CoLor="#990000"><fOnT CoLOr="#990000"><SpAN CLass="monofont">continue </sPAN></Font>
</fONT></Dt>
<dd>
<p>Jumps to the top of the closest enclosing loop (to the loop's
header line).</P>
</DD>
<Dt>
<font color="#990000"><font color="#990000"><sPaN claSs="monofont">pass </SPaN></FoNt>
</FONT></dt>
<dd>
<P>Does nothing at all: it's an empty statement placeholder.</P>
</DD>
<dt>
<foNT COlor="#990000">loop <fONT Color="#990000"><span class="monofont">else</span></fonT>
 block</fOnt></dT>
<dD>
<P>Run if and only if the loop is exited normally—i.e., without
hitting a <tT ClAsS="monofont">break</TT>.</P>
</dd>
</dl>



<H5>3.5.3.1
General loop format</H5>


<P>When we factor in <Tt claSS="monofont">break</TT> and
<tt clASS="monofont">continue</Tt> statements, the general format of the
<tt class="monofont">while</tt> loop looks like this:</p>



<pre class="monofont">while &lt;<tT cLass="monofont"><I>test</i></TT>&gt;:
    &lt;<tT ClAsS="monofont"><I>statements</I></Tt>&gt;
    if &lt;<tt cLASS="monofont"><i>test</i></tt>&gt;: break         # exit loop now, skip else
    if &lt;<TT CLass="monofont"><i>test</I></TT>&gt;: continue      # go to top of loop now
else:
    &lt;<Tt class="monofont"><i>statements</i></tt>&gt;             # if we didn't hit a 'break'</pre>


<p><tt clasS="monofont">break</tT> and <tt cLaSS="monofont">continue</tT> statements
can appear anywhere inside the <Tt ClASS="monofont">while</Tt> loop's
body, but they are usually coded further nested in an
<tt cLASS="monofont">if</tt> test as we've shown, to take action in
response to some sort of condition.</p>






<h5>3.5.3.2
Examples</H5>


<P>Let's turn to a few simple examples to see how these statements
come together in practice. The <A Name="idx320"></a><TT CLass="monofont">pass</tt> statement is
often used to code an empty body for a compound statement. For
instance, if you want to code an infinite loop that does nothing each
time through, do it with a <tt class="monofont">pass</tt>:</p>



<pre clAsS="monofont">while 1: pass   # type Ctrl-C to stop me!</pre>


<P>Since the body is just an empty statement, Python gets stuck in this
loop, silently chewing up CPU cycles.<fONt SIzE="1"><sUP><A Href="#FOOTNOTE-4">[4]</a></SUP></Font>

<tT CLAss="monofont">pass</tt> is to statements as
<TT CLass="monofont">None</tt>
<a name="idx321"></a> is to objects—an explicit nothing.
Notice that the <tt class="monofont">while</tt> loop's body is on the
same line as the header above; as in the <Tt ClasS="monofont">if</tT>, this
only works if the body isn't a compound statement.</P>


<bLOcKqUOTE><font SIZE="1">
<p claSS="footnote">
<SUp><a naME="FOOTNOTE-4">[4]</A></Sup>
This probably
isn't the most useful Python program ever written, but frankly,
we couldn't think of a better <tt class="monofont">pass</tt> example.
We'll see other places where it makes sense later in the book
(for instance, to define empty classes).</p>
</font></blocKqUote>





<P>The <tT ClASs="monofont">continue</Tt> statement sometimes lets you avoid
statement nesting; here's an example that uses it to skip odd
numbers. It prints all even numbers less than 10 and greater than or
equal to 0. Remember,
means false, and <TT CLass="monofont">%</tT> is the remainder-of-division
operator, so this loop counts down to zero, skipping numbers that
aren't multiples of two (it prints <TT Class="monofont">8 6 4 2
0</TT>):</P>



<Pre clASS="monofont">x = 10
while x:
    x = x-1
    if x % 2 != 0: continue   # odd?--skip print
    print x,</Pre>


<p>Because <tt class="monofont">continue</tt> jumps to the top of the loop, you
don't need to nest the <tt class="monofont">print</tT> statement
inside an <tT claSs="monofont">if</TT> test; the <tT ClAsS="monofont">print</TT> is
only reached if the <Tt claSS="monofont">continue</TT> isn't run. If
this sounds similar to a <tt clASS="monofont">goto</Tt> in other languages
it should; Python has no <tt cLASS="monofont">goto</tt> per se, but because
<tt class="monofont">continue</tt> lets you jump around a program, all the
warnings about readability you may have heard about
<tt class="monofont">goto</tt> apply. It should probably be used sparingly,
especially when you're first getting started with Python.</P>



<p>The <Tt clAsS="monofont">break</Tt> statement can often eliminate the search
status flags used in other languages. For instance, the following
piece of code determines if a number <TT cLaSS="monofont">y</TT> is prime,
by searching for factors greater than one:</p>



<pre CLASs="monofont">x = y / 2
while x &gt; 1:
    if y % x == 0:                 # remainder
        print y, 'has factor', x
        break                      # skip else
    x = x-1
else:                              # normal exit
    print y, 'is prime'</pre>


<P>Rather than setting a flag to be tested when the loop is exited,
insert a <TT Class="monofont">break</TT> where a factor is found. This way,
the loop <TT class="monofont">else</tt> can assume that it will be executed
only if no factor was found; if you don't hit the
<tt class="monofont">break</tt>, the number is prime. Notice that a loop
<tt clAsS="monofont">else</tt> is also run if the body of the loop is never
executed, since you don't run a <tT cLAsS="monofont">break</Tt> in
that event either; in a <Tt CLASs="monofont">while</tt> loop, this happens
if the test in the header is false to begin with. In the example
above, you still get the <tT CLAss="monofont">is</tt>
<TT CLass="monofont">prime</tT> message if <TT Class="monofont">x</tt> is initially
less than or equal to 1 (e.g., if <tt class="monofont">y</tt> is 2).</p>



</font>
 
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right"><a href="lpython_snode36.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a> <a href="lpython_snode38.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></td></table>
</BODY></HTML>