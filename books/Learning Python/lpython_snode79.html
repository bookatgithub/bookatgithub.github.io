<HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="7.1 Why Use Exceptions?"-->
<LINK REL="stylesheet" href="FILES/sbolM.css">
</HEAD>
<BODY link="#354278" vlink="#000066" alink="#000080" topmargin="0">
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right"><a href="lpython_cnode77.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a> <a href="lpython_snode80.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></td></table>
<FONT>
<h3>7.1
Why Use Exceptions?</h3>


<p>In a nutshell,
<a NAME="idx591"></a>exceptions let us jump around arbitrarily
large chunks of a program. Remember that pizza-making robot we talked
about in the last chapter? Suppose we took the idea seriously and
actually built such a machine (there are worse hobbies, after all).
To make a pizza, our culinary automaton would need to execute a plan,
which we implement as a Python program. It would take an order,
prepare the dough, add toppings, bake the pie, and so on.</p>



<p>Now, suppose that something goes very wrong during the "bake
the pie" step. Perhaps the oven is broken. Or perhaps our robot
miscalculates its reach and spontaneously bursts into flames.
Clearly, we want to be able to jump to code that handles such states
quickly (especially if our robot is melting all over the kitchen
floor!). Since we have no hope of finishing the pizza task in such
unusual cases, we might as well abandon the entire plan.</p>



<P>That's exactly what exceptions let you do; you can jump to an
exception handler in a single step, past all suspended function
calls. They're a sort of "super-goto."<FONt sizE="1"><SUP><a href="#FOOTNOTE-1">[1]</a></sup></font>
 An exception handler (<tt class="monofont">try</Tt> statement)
leaves a <I>marker</i> and executes some code.
Somewhere further ahead in the program, an exception is raised that
makes Python jump back to the marker immediately, without resuming
any active functions that were called since the marker was left. Code
in the exception handler can respond to the raised exception as
appropriate (calling the fire department, for instance). Moreover,
because Python jumps to the handler statement immediately, there is
usually no need to check status codes after every call to a function
that could possibly fail.</p>


<bLoCKqUOtE><fONT Size="1">
<p CLASs="footnote">
<sup><A NAMe="FOOTNOTE-1">[1]</a></suP>
In fact, if you've used C, you may be interested to know
that Python exceptions are roughly equivalent to C's
<TT Class="monofont">setjmp</tt>/<tt class="monofont">longjmp</tt> standard
function pair. The <tt claSs="monofont">try</Tt> statement acts much like a
<tt ClASs="monofont">setjmp</TT>, and <tT cLASS="monofont">raise</tt> works like a
<tt CLASs="monofont">longjmp</tt>. But in Python, exceptions are based on
objects and are a standard part of the execution model.</p>
</FONT></blocKQUOte>





<p>In typical Python programs,
<a name="idx592"></a>exceptions may be used for a variety of
things:</p>



<a name="idx593"></a><a namE="idx594"></a><A namE="idx595"></a><A NaME="idx596"></a><Dl>
<DT>
<I><Font cOLOR="#990000">Error handling</font></I></DT>
<Dd>
<p>Python raises exceptions when it
detects<a nAME="idx593"></A>
<a name="idx594"></a>
errors in programs at runtime; you can either catch and respond to
the errors internally in your programs or ignore the exception. If
ignored, Python's default exception-handling behavior kicks in;
it kills the program and prints an error message showing where the
error occurred.</p>
</dd>
<dt>
<font color="#990000">E<A nAme="idx595"></a>vent notification</FoNT></dT>
<Dd>
<P>Exceptions can also signal a valid condition, without having to pass
result flags around a program or test them explicitly. For instance,
a search routine might raise an exception on success, rather than
return an integer 1.</p>
</DD>
<DT>
<i><fonT COLor="#990000">Special-case handling</foNT></I></Dt>
<dd>
<p>Sometimes a condition may happen so rarely that it's hard to
justify convoluting code to handle it. You can often eliminate
special-case code by handling unusual cases in exception handlers
instead.</P>
</DD>
<Dt>
<font color="#990000">Unusual <a name="idx596"></a>control-flows</font></Dt>
<Dd>
<p>And finally, because exceptions are a type of high-level goto, you
can use them as the basis for implementing exotic control flows. For
instance, although backtracking is not part of the language itself,
it can be implemented in Python with exceptions and a bit of support
logic to unwind assignments.<fOnT SiZE="1"><sUp><A HREf="#FOOTNOTE-2">[2]</a></suP></FONt>
</p>


<blOCKQuote><FONT size="1">
<p class="footnote">
<sup><a name="FOOTNOTE-2">[2]</a></sUp>
Backtracking isn't
part of the Python language, so we won't say more about it
here. See a book on artificial intelligence or the Prolog or icon
programming languages if you're curious.</P>
</fonT></bLOcKQuOtE>


</DD>
</Dl>


<p>We'll see some of these typical uses in action later in this
chapter. First, let's get started with a closer look at
Python's exception-processing tools.</p>

</fONT>
 
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right"><a href="lpython_cnode77.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a> <a href="lpython_snode80.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></td></table>
</BODY></HTML>