<HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="7.8 Exercises"-->
<LINK REL="stylesheet" href="FILES/sbolM.css">
</HEAD>
<BODY link="#354278" vlink="#000066" alink="#000080" topmargin="0">
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right"><a href="lpython_snode85.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a> <a href="lpython_cnode87.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></td></table>
<FONT>
<h3>7.8
Exercises</h3>


<p>Since we're at the end of Part I, we'll just work on a
few short exception exercises to give you a chance to play with the
basics. Exceptions really are a simple tool, so if you get these,
you've got exceptions mastered.</p>



<OL TYpe="1">
<li><P><I>try/except.</I> Write a function called
<Tt claSS="monofont">oops</TT> that explicitly raises a
<tt class="monofont">IndexError</tt> exception when called. Then write
another function that calls <tt class="monofont">oops</tt> inside a
<tt ClAss="monofont">try/except</tT> statement to catch the error. What
happens if you change <tT ClASs="monofont">oops</Tt> to raise
<TT CLass="monofont">KeyError</tT> instead of <TT Class="monofont">IndexError</TT>?
Where do the names <TT clasS="monofont">KeyError</TT> and
<Tt class="monofont">IndexError</tt> come from? (Hint: recall that all
unqualified names come from one of three scopes, by the LGB rule.)</p>
</li>
<li><p><i>Exception lists</i>. Change the
<tt clAsS="monofont">oops</tt> function you just wrote to raise an exception
you define yourself, called <tT cLAsS="monofont">MyError</Tt>, and pass an
extra data item along with the exception. Then, extend the
<Tt CLASs="monofont">try</tt> statement in the catcher function to catch
this exception and its data in addition to
<tT CLAss="monofont">IndexError</tt>, and print the extra data item.</P>
</LI>
<Li><p><i>Error handling</i>. Write a function called
<TT CLass="monofont">safe(func,</tt> <tt class="monofont">*args)</tt> that runs any
function using <tt clasS="monofont">apply</tT>, catches any exception raised
while the function runs, and prints the exception using the
<tt cLaSS="monofont">exc_type</tT> and <Tt ClASS="monofont">exc_value</Tt>
attributes in the <tt cLASS="monofont">sys</tt> module. Then, use your
<tt CLASs="monofont">safe</tt> function to run the <tT CLAss="monofont">oops</tt>
function you wrote in Exercises 1 and/or 2. Put
<tt class="monofont">safe</tt> in a module file called
<i>tools.py</i>, and pass it the
<tt claSs="monofont">oops</Tt> function interactively. What sort of error
messages do you get? Finally, expand <tt ClASs="monofont">safe</TT> to also
print a Python stack trace when an error occurs by calling the
built-in <tT cLASS="monofont">print_exc()</tt> function in the standard
<tt CLASs="monofont">traceback</tt> module (see the Python library reference
manual or other Python books for details).<a NAME="idx630"></a></p>
</li>
</OL>

</FOnt>
 
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right"><a href="lpython_snode85.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a> <a href="lpython_cnode87.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></td></table>
</BODY></HTML>