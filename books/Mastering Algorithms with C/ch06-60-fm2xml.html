<HTML><HEAD><TITLE>ch06-60-fm2xml</TITLE>
<META http-equiv=Content-Type content="text/html; charset=windows-1252"><LINK 
href="image/style.css" type=text/css rel=STYLESHEET><LINK 
href="image/docsafari.css" type=text/css rel=STYLESHEET>

<META content="MSHTML 6.00.2800.1141" name=GENERATOR></HEAD>
<BODY leftMargin=0 topMargin=0 marginheight="0" marginwidth="0"><A 
name=toppage></A><SPAN class=v2></SPAN>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR vAlign=top>
    <TD align=middle>
      <TABLE width="95%">
        <TBODY>
        <TR>
          <TD class=v2 align=left>
            <HR SIZE=1>

            <TABLE cellSpacing=0 cellPadding=5 width="100%" border=0>
              <TBODY>
              <TR>
                <TD vAlign=top width=76 rowSpan=4><A 
                  ><IMG 
                  height=100 src="image/masteralgoc_xs.gif" width=76 
                  border=0></A></TD>
                <TD class=v2 vAlign=top><A class=t1 
                  >Mastering 
                  Algorithms with C</A><BR>By Kyle&nbsp;Loudon<BR>Slots : 
                1<BR></TD></TR>
              <TR>
                <TD class=v1><A class=v1 
                  href="table.html">Table 
                  of Contents</A></TD></TR>
              <TR>
                <TD></TD></TR>
              <TR>
                <TD class=t1 vAlign=bottom>Chapter 6.&nbsp; Stacks and 
                Queues</TD></TR></TBODY></TABLE>
            <HR SIZE=1>
            <TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
              <TBODY>
              <TR>
              <TR>
                <TD class=v2 vAlign=top align=center>&nbsp; <A accessKey=2 
                  href="ch06-35-fm2xml.html"><IMG 
                  height=16 src="image/btn_prev.gif" width=56 align=left 
                  border=0></A> &nbsp; <A  
href="table.html" align=center> Content </A>	<A accessKey=1                  href="ch06-66-fm2xml.html"><IMG 
                  height=16 src="image/btn_next.gif" width=41 align=right 
                  border=0></A></TD></TR></TBODY></TABLE>
            <BR>
            <TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
              <TBODY>
              <TR>
                <TD vAlign=top><A name=ch06-60-fm2xml></A>
                  <H3 class=docSection1Title>6.6 Implementation and Analysis of 
                  Queues</H3>
                  <P class=docText><A name=ch06-idx-973920-1></A>The structure 
                  <TT><I>Queue</I></TT> is the queue data structure. It is 
                  implemented as a typedef to <TT><I>List</I></TT> (see <A 
                  class=docLink 
                  href="#ch06-29973">Example 
                  6.3</A>), just as was described for stacks.</P>
                  <H5 class=docExampleTitle><A name=ch06-29973></A>Example 6.3. 
                  Header for the Queue Abstract Datatype </H5><PRE>/*****************************************************************************
*                                                                            *
*  ------------------------------- queue.h --------------------------------  *
*                                                                            *
*****************************************************************************/

#ifndef QUEUE_H
#define QUEUE_H

#include &lt;stdlib.h&gt;

#include "list.h"

/*****************************************************************************
*                                                                            *
*  Implement queues as linked lists.                                         *
*                                                                            *
*****************************************************************************/

typedef List Queue;

/*****************************************************************************
*                                                                            *
*  --------------------------- Public Interface ---------------------------  *
*                                                                            *
*****************************************************************************/

#define queue_init list_init

#define queue_destroy list_destroy

int queue_enqueue(Queue *queue, const void *data);

int queue_dequeue(Queue *queue, void **data);

#define queue_peek(queue) ((queue)-&gt;head == NULL ? NULL : (queue)-&gt;head-&gt;data)

#define queue_size list_size

#endif</PRE><A name=ch06-61-fm2xml></A>
                  <H4 class=docSection2Title>6.6.1 queue_init</H4>
                  <P class=docText><A name=IXT-6-313639></A><A 
                  name=IXT-6-313640></A>The <SPAN 
                  class=docEmphasis>queue_init</SPAN> operation initializes a 
                  queue so that it can be used in other operations (see <A 
                  class=docLink 
                  href="#ch06-29973">Example 
                  6.3</A>). Since a queue is a linked list and requires the same 
                  initialization, <SPAN class=docEmphasis>queue_init</SPAN> is 
                  defined to <SPAN class=docEmphasis>list_init</SPAN>.<A 
                  name=IXT-6-313641></A></P>
                  <P class=docText>The runtime complexity of <SPAN 
                  class=docEmphasis>queue_init</SPAN> is the same as <SPAN 
                  class=docEmphasis>list_init</SPAN>, or <SPAN 
                  class=docEmphasis>O</SPAN> (1).</P><A name=ch06-62-fm2xml></A>
                  <H4 class=docSection2Title>6.6.2 queue_destroy</H4>
                  <P class=docText><A name=IXT-6-313642></A><A 
                  name=IXT-6-313643></A>The <SPAN 
                  class=docEmphasis>queue_destroy</SPAN> operation destroys a 
                  queue (see <A class=docLink 
                  href="#ch06-29973">Example 
                  6.3</A>). Since a queue is a linked list and requires being 
                  destroyed in the same manner, <SPAN 
                  class=docEmphasis>queue_destroy</SPAN> is defined to <SPAN 
                  class=docEmphasis>list_destroy</SPAN>.<A 
                  name=IXT-6-313644></A></P>
                  <P class=docText>The runtime complexity of <SPAN 
                  class=docEmphasis>queue_destroy</SPAN> is the same as <SPAN 
                  class=docEmphasis>list_destroy</SPAN>, or <SPAN 
                  class=docEmphasis>O</SPAN> (<SPAN class=docEmphasis>n</SPAN>), 
                  where <SPAN class=docEmphasis>n</SPAN> is the number of 
                  elements in the queue.</P><A name=ch06-63-fm2xml></A>
                  <H4 class=docSection2Title>6.6.3 queue_enqueue</H4>
                  <P class=docText><A name=IXT-6-313645></A><A 
                  name=IXT-6-313646></A>The <SPAN 
                  class=docEmphasis>queue_enqueue</SPAN> operation enqueues an 
                  element at the tail of a queue by calling <SPAN 
                  class=docEmphasis>list_ins_next</SPAN> <A 
                  name=IXT-6-313647></A>to insert an element pointing to 
                  <TT><I>data</I></TT> at the tail of the list (see <A 
                  class=docLink 
                  href="#ch06-60687">Example 
                  6.4</A>).</P>
                  <P class=docText>The runtime complexity of <SPAN 
                  class=docEmphasis>queue_enqueue</SPAN> is the same as <SPAN 
                  class=docEmphasis>list_ins_next</SPAN>, or <SPAN 
                  class=docEmphasis>O</SPAN> (1).</P><A name=ch06-64-fm2xml></A>
                  <H4 class=docSection2Title>6.6.4 queue_dequeue</H4>
                  <P class=docText><A name=IXT-6-313648></A><A 
                  name=IXT-6-313649></A>The <SPAN 
                  class=docEmphasis>queue_dequeue</SPAN> operation dequeues an 
                  element from the head of a queue by calling <SPAN 
                  class=docEmphasis>list_rem_next</SPAN> <A 
                  name=IXT-6-313650></A>to remove the element at the head of the 
                  list (see <A class=docLink 
                  href="#ch06-60687">Example 
                  6.4</A>). The <SPAN class=docEmphasis>list_rem_next</SPAN> 
                  operation sets <TT><I>data</I></TT> to point to the data from 
                  the element removed.</P>
                  <P class=docText>The runtime complexity of <SPAN 
                  class=docEmphasis>queue_dequeue</SPAN> is the same as <SPAN 
                  class=docEmphasis>list_rem_next</SPAN>, or <SPAN 
                  class=docEmphasis>O</SPAN> (1).</P><A name=ch06-65-fm2xml></A>
                  <H4 class=docSection2Title>6.6.5 queue_ peek, queue_size</H4>
                  <P class=docText><A name=IXT-6-313651></A><A 
                  name=IXT-6-313652></A><A name=IXT-6-313653></A><A 
                  name=IXT-6-313654></A>These macros implement two simple queue 
                  operations (see <A class=docLink 
                  href="#ch06-29973">Example 
                  6.3</A>). The <SPAN class=docEmphasis>queue_ peek</SPAN> macro 
                  provides a way to inspect the element at the head of a queue 
                  without actually dequeuing it, and <SPAN 
                  class=docEmphasis>queue_size</SPAN> evaluates to the size of a 
                  queue. Both of these operations work by accessing members of 
                  the <TT><I>Queue</I></TT> structure.</P>
                  <P class=docText>The runtime complexity of these operations is 
                  <SPAN class=docEmphasis>O</SPAN> (1) because accessing members 
                  of a structure is a simple task that runs in a constant amount 
                  of time.</P>
                  <H5 class=docExampleTitle><A name=ch06-60687></A>Example 6.4. 
                  Implementation of the Queue Abstract Datatype </H5><PRE>/*****************************************************************************
*                                                                            *
*  ------------------------------- queue.c --------------------------------  *
*                                                                            *
*****************************************************************************/

#include &lt;stdlib.h&gt;

#include "list.h"
#include "queue.h"

/*****************************************************************************
*                                                                            *
*  ----------------------------- queue_enqueue ----------------------------  *
*                                                                            *
*****************************************************************************/

int queue_enqueue(Queue *queue, const void *data) {

/*****************************************************************************
*                                                                            *
*  Enqueue the data.                                                         *
*                                                                            *
*****************************************************************************/

return list_ins_next(queue, list_tail(queue), data);

}

/*****************************************************************************
*                                                                            *
*  ----------------------------- queue_dequeue ----------------------------  *
*                                                                            *
*****************************************************************************/

int queue_dequeue(Queue *queue, void **data) {

/*****************************************************************************
*                                                                            *
*  Dequeue the data.                                                         *
*                                                                            *
*****************************************************************************/

return list_rem_next(queue, NULL, data)<A name=IXTR3-31></A>;

}</PRE>
                  <UL></UL></TD></TR></TBODY></TABLE>
            <HR SIZE=1>

            <TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
              <TBODY>
              <TR>
              <TR>
                <TD class=v2 vAlign=top align=right>&nbsp; <A accessKey=2 
                  href="ch06-35-fm2xml.html"><IMG 
                  height=16 src="image/btn_prev.gif" width=56 align=absMiddle 
                  border=0></A> &nbsp; <A accessKey=1 
                  href="ch06-66-fm2xml.html"><IMG 
                  height=16 src="image/btn_next.gif" width=41 align=absMiddle 
                  border=0></A></TD></TR></TBODY></TABLE>
            <TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
              <TBODY>
              <TR>
                <TD vAlign=top align=right><A class=v1 
                  href="#toppage">Top</A></TD></TR></TBODY></TABLE>
            </TD></TR></TBODY></TABLE></TD>
</BODY></HTML>
