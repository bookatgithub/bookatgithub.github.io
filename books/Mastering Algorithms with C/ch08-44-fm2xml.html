<HTML><HEAD><TITLE>ch08-44-fm2xml</TITLE>
<META http-equiv=Content-Type content="text/html; charset=windows-1252"><LINK 
href="image/style.css" type=text/css rel=STYLESHEET><LINK 
href="image/docsafari.css" type=text/css rel=STYLESHEET>

<META content="MSHTML 6.00.2800.1141" name=GENERATOR></HEAD>
<BODY leftMargin=0 topMargin=0 marginheight="0" marginwidth="0"><A 
name=toppage></A><SPAN class=v2></SPAN>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR vAlign=top>
    <TD align=middle>
      <TABLE width="95%">
        <TBODY>
        <TR>
          <TD class=v2 align=left>
            <HR SIZE=1>

            <TABLE cellSpacing=0 cellPadding=5 width="100%" border=0>
              <TBODY>
              <TR>
                <TD vAlign=top width=76 rowSpan=4><A 
                  ><IMG 
                  height=100 src="image/masteralgoc_xs.gif" width=76 
                  border=0></A></TD>
                <TD class=v2 vAlign=top><A class=t1 
                  >Mastering 
                  Algorithms with C</A><BR>By Kyle&nbsp;Loudon<BR>Slots : 
                1<BR></TD></TR>
              <TR>
                <TD class=v1><A class=v1 
                  href="table.html">Table 
                  of Contents</A></TD></TR>
              <TR>
                <TD></TD></TR>
              <TR>
                <TD class=t1 vAlign=bottom>Chapter 8.&nbsp; Hash 
              Tables</TD></TR></TBODY></TABLE>
            <HR SIZE=1>
            <TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
              <TBODY>
              <TR>
              <TR>
                <TD class=v2 vAlign=top align=center>&nbsp; <A accessKey=2 
                  href="ch08-40-fm2xml.html"><IMG 
                  height=16 src="image/btn_prev.gif" width=56 align=left 
                  border=0></A> &nbsp; <A  
href="table.html" align=center> Content </A>	<A accessKey=1                  href="ch08-69-fm2xml.html"><IMG 
                  height=16 src="image/btn_next.gif" width=41 align=right 
                  border=0></A></TD></TR></TBODY></TABLE>
            <BR>
            <TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
              <TBODY>
              <TR>
                <TD vAlign=top><A name=ch08-44-fm2xml></A>
                  <H3 class=docSection1Title>8.6 Interface for Open-Addressed 
                  Hash Tables</H3><A name=ch08-45-fm2xml></A><A 
                  name=ch08-idx-867435-1></A><A name=IXT-8-313909></A><A 
                  name=IXT-8-313910></A>
                  <TABLE cellPadding=5 width=515 border=0>
                    <TBODY>
                    <TR>
                      <TD align=left><B><I>ohtbl_init</I></B></TD>
                      <TD align=right></TD></TR></TBODY></TABLE>
                  <HR align=left width=515 color=black noShade SIZE=3>

                  <TABLE cellPadding=5 width=515 border=0>
                    <TBODY>
                    <TR>
                      <TD align=left></TD>
                      <TD align=right></TD></TR></TBODY></TABLE><PRE>int ohtbl_init(OHTbl *<TT><I>htbl</I></TT>, int <TT><I>positions</I></TT>, int (*<TT><I>h1</I></TT>)(const void *<TT><I>key</I></TT>) 
   int (*<TT><I>h2</I></TT>)(const void *<TT><I>key</I></TT>), int (*<TT><I>match</I></TT>)(const void *<TT><I>key1</I></TT> 
   const void *<TT><I>key2</I></TT>), void (*<TT><I>destroy</I></TT>)(void *<TT><I>data</I></TT>));</PRE><A 
                  name=ch08-46-fm2xml></A>
                  <H4 class=docRefsectTitle>Return Value</H4>
                  <P class=docText>0<A name=ch08-idx-867435-1></A>if 
                  initializing the hash table is successful, or -1 otherwise.<A 
                  name=IXT-8-313909></A><A name=IXT-8-313910></A></P><A 
                  name=ch08-47-fm2xml></A>
                  <H4 class=docRefsectTitle>Description</H4>
                  <P class=docText>Initializes the open-addressed hash table 
                  specified by <TT><I>htbl</I></TT>. This operation must be 
                  called for an open-addressed hash table before the hash table 
                  can be used with any other operation. The number of positions 
                  to be allocated in the hash table is specified by 
                  <TT><I>positions</I></TT>. The function pointers 
                  <TT><I>h1</I></TT> and <TT><I>h2</I></TT> specify user-defined 
                  auxiliary hash functions for double hashing. The function 
                  pointer <TT><I>match</I></TT> specifies a user-defined 
                  function to determine if two keys match. It should perform in 
                  a manner similar to that described for <SPAN 
                  class=docEmphasis>chtbl_init</SPAN>. The 
                  <TT><I>destroy</I></TT> argument provides a way to free 
                  dynamically allocated data when <SPAN 
                  class=docEmphasis>ohtbl_destroy</SPAN> is called. It works in 
                  a manner similar to that described for <SPAN 
                  class=docEmphasis>chtbl_destroy</SPAN>. For an open-addressed 
                  hash table containing data that should not be freed, 
                  <TT><I>destroy</I></TT> should be set to NULL.</P><A 
                  name=ch08-48-fm2xml></A>
                  <H4 class=docRefsectTitle>Complexity</H4>
                  <P class=docText><SPAN class=docEmphasis>O</SPAN> (<SPAN 
                  class=docEmphasis>m</SPAN>), where <SPAN 
                  class=docEmphasis>m</SPAN> is the number of positions in the 
                  hash table.</P><A name=ch08-49-fm2xml></A><A 
                  name=IXT-8-313911></A><A name=IXT-8-313912></A>
                  <TABLE cellPadding=5 width=515 border=0>
                    <TBODY>
                    <TR>
                      <TD align=left><B><I>ohtbl_destroy</I></B></TD>
                      <TD align=right></TD></TR></TBODY></TABLE>
                  <HR align=left width=515 color=black noShade SIZE=3>

                  <TABLE cellPadding=5 width=515 border=0>
                    <TBODY>
                    <TR>
                      <TD align=left></TD>
                      <TD align=right></TD></TR></TBODY></TABLE><PRE>void ohtbl_destroy(OHTbl *<TT><I>htbl</I></TT>);</PRE><A 
                  name=ch08-50-fm2xml></A>
                  <H4 class=docRefsectTitle>Return Value</H4>
                  <P class=docText>None.<A name=IXT-8-313911></A><A 
                  name=IXT-8-313912></A></P><A name=ch08-51-fm2xml></A>
                  <H4 class=docRefsectTitle>Description</H4>
                  <P class=docText>Destroys the open-addressed hash table 
                  specified by <TT><I>htbl</I></TT>. No other operations are 
                  permitted after calling <SPAN 
                  class=docEmphasis>ohtbl_destroy</SPAN> unless <SPAN 
                  class=docEmphasis>ohtbl_init</SPAN> is called again. The <SPAN 
                  class=docEmphasis>ohtbl_destroy</SPAN> operation removes all 
                  elements from a hash table and calls the function passed as 
                  <TT><I>destroy</I></TT> to <SPAN 
                  class=docEmphasis>ohtbl_init</SPAN> once for each element as 
                  it is removed, provided <TT><I>destroy</I></TT> was not set to 
                  NULL.</P><A name=ch08-52-fm2xml></A>
                  <H4 class=docRefsectTitle>Complexity</H4>
                  <P class=docText><SPAN class=docEmphasis>O</SPAN> (<SPAN 
                  class=docEmphasis>m</SPAN>), where <SPAN 
                  class=docEmphasis>m</SPAN> is the number of positions in the 
                  hash table.</P><A name=ch08-53-fm2xml></A><A 
                  name=IXT-8-313913></A><A name=IXT-8-313914></A>
                  <TABLE cellPadding=5 width=515 border=0>
                    <TBODY>
                    <TR>
                      <TD align=left><B><I>ohtbl_insert</I></B></TD>
                      <TD align=right></TD></TR></TBODY></TABLE>
                  <HR align=left width=515 color=black noShade SIZE=3>

                  <TABLE cellPadding=5 width=515 border=0>
                    <TBODY>
                    <TR>
                      <TD align=left></TD>
                      <TD align=right></TD></TR></TBODY></TABLE><PRE>int ohtbl_insert(OHTbl *<TT><I>htbl</I></TT>, const void *<TT><I>data</I></TT>);</PRE><A 
                  name=ch08-54-fm2xml></A>
                  <H4 class=docRefsectTitle>Return Value</H4>
                  <P class=docText>0if inserting the element is successful, 1 if 
                  the element is already in the hash table, or -1 otherwise.<A 
                  name=IXT-8-313913></A><A name=IXT-8-313914></A></P><A 
                  name=ch08-55-fm2xml></A>
                  <H4 class=docRefsectTitle>Description</H4>
                  <P class=docText>Inserts an element into the open-addressed 
                  hash table specified by <TT><I>htbl</I></TT>. The new element 
                  contains a pointer to <TT><I>data</I></TT>, so the memory 
                  referenced by <TT><I>data</I></TT> should remain valid as long 
                  as the element remains in the hash table. It is the 
                  responsibility of the caller to manage the storage associated 
                  with <TT><I>data</I></TT>.</P><A name=ch08-56-fm2xml></A>
                  <H4 class=docRefsectTitle>Complexity</H4>
                  <P class=docText><SPAN class=docEmphasis>O</SPAN> (1)</P><A 
                  name=ch08-57-fm2xml></A><A name=IXT-8-313915></A><A 
                  name=IXT-8-313916></A>
                  <TABLE cellPadding=5 width=515 border=0>
                    <TBODY>
                    <TR>
                      <TD align=left><B><I>ohtbl_remove</I></B></TD>
                      <TD align=right></TD></TR></TBODY></TABLE>
                  <HR align=left width=515 color=black noShade SIZE=3>

                  <TABLE cellPadding=5 width=515 border=0>
                    <TBODY>
                    <TR>
                      <TD align=left></TD>
                      <TD align=right></TD></TR></TBODY></TABLE><PRE>int ohtbl_remove(OHTbl *<TT><I>htbl</I></TT>, void **<TT><I>data</I></TT>);</PRE><A 
                  name=ch08-58-fm2xml></A>
                  <H4 class=docRefsectTitle>Return Value</H4>
                  <P class=docText>0if removing the element is successful, or -1 
                  otherwise.<A name=IXT-8-313915></A><A 
                  name=IXT-8-313916></A></P><A name=ch08-59-fm2xml></A>
                  <H4 class=docRefsectTitle>Description</H4>
                  <P class=docText>Removes the element matching 
                  <TT><I>data</I></TT> from the open-addressed hash table 
                  specified by <TT><I>htbl</I></TT>. Upon return, 
                  <TT><I>data</I></TT> points to the data stored in the element 
                  that was removed. It is the responsibility of the caller to 
                  manage the storage associated with the data.</P><A 
                  name=ch08-60-fm2xml></A>
                  <H4 class=docRefsectTitle>Complexity</H4>
                  <P class=docText><SPAN class=docEmphasis>O</SPAN> (1)</P><A 
                  name=ch08-61-fm2xml></A><A name=IXT-8-313917></A><A 
                  name=IXT-8-313918></A>
                  <TABLE cellPadding=5 width=515 border=0>
                    <TBODY>
                    <TR>
                      <TD align=left><B><I>ohtbl_lookup</I></B></TD>
                      <TD align=right></TD></TR></TBODY></TABLE>
                  <HR align=left width=515 color=black noShade SIZE=3>

                  <TABLE cellPadding=5 width=515 border=0>
                    <TBODY>
                    <TR>
                      <TD align=left></TD>
                      <TD align=right></TD></TR></TBODY></TABLE><PRE>int ohtbl_lookup(const OHTbl *<TT><I>htbl</I></TT>, void **<TT><I>data</I></TT>);</PRE><A 
                  name=ch08-62-fm2xml></A>
                  <H4 class=docRefsectTitle>Return Value</H4>
                  <P class=docText>0if the element is found in the hash table, 
                  or -1 otherwise.<A name=IXT-8-313917></A><A 
                  name=IXT-8-313918></A></P><A name=ch08-63-fm2xml></A>
                  <H4 class=docRefsectTitle>Description</H4>
                  <P class=docText>Determines whether an element matches 
                  <TT><I>data</I></TT> in the open-addressed hash table 
                  specified by <TT><I>htbl</I></TT>. If a match is found, upon 
                  return <TT><I>data</I></TT> points to the matching data in the 
                  hash table.</P><A name=ch08-64-fm2xml></A>
                  <H4 class=docRefsectTitle>Complexity</H4>
                  <P class=docText><SPAN class=docEmphasis>O</SPAN> (1)</P><A 
                  name=ch08-65-fm2xml></A><A name=IXT-8-313919></A><A 
                  name=IXT-8-313920></A><A name=IXTR3-54></A>
                  <TABLE cellPadding=5 width=515 border=0>
                    <TBODY>
                    <TR>
                      <TD align=left><B><I>ohtbl_size</I></B></TD>
                      <TD align=right></TD></TR></TBODY></TABLE>
                  <HR align=left width=515 color=black noShade SIZE=3>

                  <TABLE cellPadding=5 width=515 border=0>
                    <TBODY>
                    <TR>
                      <TD align=left></TD>
                      <TD align=right></TD></TR></TBODY></TABLE><PRE>int ohtbl_size(const OHTbl *<TT><I>htbl</I></TT>);</PRE><A 
                  name=ch08-66-fm2xml></A>
                  <H4 class=docRefsectTitle>Return Value</H4>
                  <P class=docText>Number of elements in the hash table.<A 
                  name=IXT-8-313919></A><A name=IXT-8-313920></A></P><A 
                  name=ch08-67-fm2xml></A>
                  <H4 class=docRefsectTitle>Description</H4>
                  <P class=docText>Macro that evaluates to the number of 
                  elements in the open-addressed hash table specified by 
                  <TT><I>htbl</I></TT>.</P><A name=ch08-68-fm2xml></A>
                  <H4 class=docRefsectTitle>Complexity</H4>
                  <P class=docText><SPAN class=docEmphasis>O</SPAN> (1) <A 
                  name=IXTR3-54></A></P>
                  <UL></UL></TD></TR></TBODY></TABLE>
            <HR SIZE=1>

            <TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
              <TBODY>
              <TR>
              <TR>
                <TD class=v2 vAlign=top align=right>&nbsp; <A accessKey=2 
                  href="ch08-40-fm2xml.html"><IMG 
                  height=16 src="image/btn_prev.gif" width=56 align=absMiddle 
                  border=0></A> &nbsp; <A accessKey=1 
                  href="ch08-69-fm2xml.html"><IMG 
                  height=16 src="image/btn_next.gif" width=41 align=absMiddle 
                  border=0></A></TD></TR></TBODY></TABLE>
            <TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
              <TBODY>
              <TR>
                <TD vAlign=top align=right><A class=v1 
                  href="#toppage">Top</A></TD></TR></TBODY></TABLE>
            </TD></TR></TBODY></TABLE></TD>
</BODY></HTML>
