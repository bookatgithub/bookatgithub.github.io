<HTML><HEAD><TITLE>ch10-56-fm2xml</TITLE>
<META http-equiv=Content-Type content="text/html; charset=windows-1252"><LINK 
href="image/style.css" type=text/css rel=STYLESHEET><LINK 
href="image/docsafari.css" type=text/css rel=STYLESHEET>

<META content="MSHTML 6.00.2800.1141" name=GENERATOR></HEAD>
<BODY leftMargin=0 topMargin=0 marginheight="0" marginwidth="0"><A 
name=toppage></A><SPAN class=v2></SPAN>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR vAlign=top>
    <TD align=middle>
      <TABLE width="95%">
        <TBODY>
        <TR>
          <TD class=v2 align=left>
            <HR SIZE=1>

            <TABLE cellSpacing=0 cellPadding=5 width="100%" border=0>
              <TBODY>
              <TR>
                <TD vAlign=top width=76 rowSpan=4><A 
                  ><IMG 
                  height=100 src="image/masteralgoc_xs.gif" width=76 
                  border=0></A></TD>
                <TD class=v2 vAlign=top><A class=t1 
                  >Mastering 
                  Algorithms with C</A><BR>By Kyle&nbsp;Loudon<BR>Slots : 
                1<BR></TD></TR>
              <TR>
                <TD class=v1><A class=v1 
                  href="table.html">Table 
                  of Contents</A></TD></TR>
              <TR>
                <TD></TD></TR>
              <TR>
                <TD class=t1 vAlign=bottom>Chapter 10.&nbsp; Heaps and 
                  Priority Queues</TD></TR></TBODY></TABLE>
            <HR SIZE=1>
            <TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
              <TBODY>
              <TR>
              <TR>
                <TD class=v2 vAlign=top align=center>&nbsp; <A accessKey=2 
                  href="ch10-31-fm2xml.html"><IMG 
                  height=16 src="image/btn_prev.gif" width=56 align=left 
                  border=0></A> &nbsp; <A  
href="table.html" align=center> Content </A>	<A accessKey=1                  href="ch10-57-fm2xml.html"><IMG 
                  height=16 src="image/btn_next.gif" width=41 align=right 
                  border=0></A></TD></TR></TBODY></TABLE>
            <BR>
            <TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
              <TBODY>
              <TR>
                <TD vAlign=top><A name=ch10-56-fm2xml></A>
                  <H3 class=docSection1Title>10.6 Implementation and Analysis of 
                  Priority Queues</H3>
                  <P class=docText><A name=IXT-10-314231></A>There are several 
                  ways to implement a priority queue. Perhaps the most intuitive 
                  approach is simply to maintain a sorted set of data. In this 
                  approach, the element at the beginning of the sorted set is 
                  the one with the highest priority. However, inserting and 
                  extracting elements require resorting the set, which is an 
                  <SPAN class=docEmphasis>O</SPAN> (<SPAN 
                  class=docEmphasis>n</SPAN>) process in the worst case, where 
                  <SPAN class=docEmphasis>n</SPAN> is the number of elements. 
                  Therefore, a better solution is to keep the set partially 
                  ordered using a heap<A name=IXT-10-314232></A>. Recall that 
                  the node at the top of a heap is always the one with the 
                  highest priority, however this is defined, and that repairing 
                  the heap after inserting and extracting data requires only 
                  <SPAN class=docEmphasis>O</SPAN> (lg <SPAN 
                  class=docEmphasis>n</SPAN>) time.</P>
                  <P class=docText>A simple way to implement a priority queue as 
                  a heap is to typedef <TT><I>PQueue</I></TT> to 
                  <TT><I>Heap</I></TT> (see <A class=docLink 
                  href="#ch10-38475">Example 
                  10.3</A>). Since the operations of a priority queue are 
                  identical to those of a heap, only an interface is designed 
                  for priority queues and the heap datatype serves as the 
                  implementation (see Examples <A class=docLink 
                  href="ch10-24-fm2xml.html#ch10-65740">Example 
                  10.2</A> and <A class=docLink 
                  href="#ch10-38475">Example 
                  10.3</A>). To do this, each priority queue operation is simply 
                  defined to its heap counterpart. The one exception to this is 
                  <SPAN class=docEmphasis>pqueue_ peek</SPAN>, <A 
                  name=IXT-10-314233></A>which has no heap equivalent. This 
                  operation works just like <SPAN 
                  class=docEmphasis>pqueue_extract</SPAN>, except that the 
                  highest priority element is only returned, not removed.</P>
                  <H5 class=docExampleTitle><A name=ch10-38475></A>Example 10.3. 
                  Header for the Priority Queue Abstract Datatype </H5><PRE>/*****************************************************************************
*                                                                            *
*  ------------------------------- pqueue.h -------------------------------  *
*                                                                            *
*****************************************************************************/

#ifndef PQUEUE_H
#define PQUEUE_H

#include "heap.h"

/*****************************************************************************
*                                                                            *
*  Implement priority queues as heaps.                                       *
*                                                                            *
*****************************************************************************/

typedef Heap PQueue;

/*****************************************************************************
*                                                                            *
*  --------------------------- Public Interface ---------------------------  *
*                                                                            *
*****************************************************************************/

#define pqueue_init heap_init

#define pqueue_destroy heap_destroy

#define pqueue_insert heap_insert

#define pqueue_extract heap_extract

#define pqueue_peek(pqueue) ((pqueue)-&gt;tree == NULL ? NULL : (pqueue)-&gt;tree[0])

#define pqueue_size heap_size<A name=IXTR3-80></A>

#endif</PRE>                  <UL></UL></TD></TR></TBODY></TABLE>
            <HR SIZE=1>

            <TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
              <TBODY>
              <TR>
              <TR>
                <TD class=v2 vAlign=top align=right>&nbsp; <A accessKey=2 
                  href="ch10-31-fm2xml.html"><IMG 
                  height=16 src="image/btn_prev.gif" width=56 align=absMiddle 
                  border=0></A> &nbsp; <A accessKey=1 
                  href="ch10-57-fm2xml.html"><IMG 
                  height=16 src="image/btn_next.gif" width=41 align=absMiddle 
                  border=0></A></TD></TR></TBODY></TABLE>
            <TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
              <TBODY>
              <TR>
                <TD vAlign=top align=right><A class=v1 
                  href="#toppage">Top</A></TD></TR></TBODY></TABLE>
            </TD></TR></TBODY></TABLE></TD>
</BODY></HTML>
