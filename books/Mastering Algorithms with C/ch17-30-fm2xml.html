<HTML><HEAD><TITLE>ch17-30-fm2xml</TITLE>
<META http-equiv=Content-Type content="text/html; charset=windows-1252"><LINK 
href="image/style.css" type=text/css rel=STYLESHEET><LINK 
href="image/docsafari.css" type=text/css rel=STYLESHEET>

<META content="MSHTML 6.00.2800.1141" name=GENERATOR></HEAD>
<BODY leftMargin=0 topMargin=0 marginheight="0" marginwidth="0"><A 
name=toppage></A><SPAN class=v2></SPAN>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR vAlign=top>
    <TD align=middle>
      <TABLE width="95%">
        <TBODY>
        <TR>
          <TD class=v2 align=left>
            <HR SIZE=1>

            <TABLE cellSpacing=0 cellPadding=5 width="100%" border=0>
              <TBODY>
              <TR>
                <TD vAlign=top width=76 rowSpan=4><A 
                  ><IMG 
                  height=100 src="image/masteralgoc_xs.gif" width=76 
                  border=0></A></TD>
                <TD class=v2 vAlign=top><A class=t1 
                  >Mastering 
                  Algorithms with C</A><BR>By Kyle&nbsp;Loudon<BR>Slots : 
                1<BR></TD></TR>
              <TR>
                <TD class=v1><A class=v1 
                  href="table.html">Table 
                  of Contents</A></TD></TR>
              <TR>
                <TD></TD></TR>
              <TR>
                <TD class=t1 vAlign=bottom>Chapter 17.&nbsp; Geometric 
                  Algorithms</TD></TR></TBODY></TABLE>
            <HR SIZE=1>
            <TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
              <TBODY>
              <TR>
              <TR>
                <TD class=v2 vAlign=top align=center>&nbsp; <A accessKey=2 
                  href="ch17-29-fm2xml.html"><IMG 
                  height=16 src="image/btn_prev.gif" width=56 
                  align=left border=0></A> &nbsp; <A  
href="table.html" align=center> Content </A>	<A accessKey=1                  href="ch17-31-fm2xml.html"><IMG 
                  height=16 src="image/btn_next.gif" width=41 
                  align=right border=0></A></TD></TR></TBODY></TABLE>
            <BR>
            <TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
              <TBODY>
              <TR>
                <TD vAlign=top><A name=ch17-30-fm2xml></A>
                  <H3 class=docSection1Title>17.11 Questions and Answers</H3>
                  <P class=docText><A name=IXT-17-314887></A><SPAN 
                  class=docEmphBold>Q:</SPAN> One application of geometric 
                  algorithms mentioned at the start of this chapter was 
                  determining whether the track of an object transgresses a 
                  restricted region. If we assume that the track we follow 
                  begins outside of the restricted region, a simple approach to 
                  this problem is to determine whether any line segment in the 
                  track intersects with any line segment defining the restricted 
                  region. What is the running time of this approach if we use 
                  the <SPAN class=docEmphasis>lint</SPAN> operation presented in 
                  this chapter?</P>
                  <P class=docText><SPAN class=docEmphBold>A:</SPAN> The runtime 
                  complexity of this approach is <SPAN class=docEmphasis>O 
                  </SPAN>(<SPAN class=docEmphasis>nm</SPAN>), where <SPAN 
                  class=docEmphasis>n</SPAN> is the number of line segments in 
                  the track and <SPAN class=docEmphasis>m</SPAN> is the number 
                  of line segments defining the restricted region. This is 
                  because for each of the <SPAN class=docEmphasis>n</SPAN> line 
                  segments in the track, we call <SPAN 
                  class=docEmphasis>lint</SPAN> once for each of the <SPAN 
                  class=docEmphasis>m</SPAN> line segments in the restricted 
                  region. Since <SPAN class=docEmphasis>lint</SPAN> runs in a 
                  constant amount of time, the runtime complexity of the 
                  solution overall is <SPAN class=docEmphasis>O</SPAN> (<SPAN 
                  class=docEmphasis>nm</SPAN>).</P>
                  <P class=docText><SPAN class=docEmphBold>Q:</SPAN> Determining 
                  the <A name=IXT-17-314888></A>orientation of two points with 
                  respect to a third is an important part of the algorithms 
                  presented for determining whether line segments intersect and 
                  computing convex hulls. Formally, given points <SPAN 
                  class=docEmphasis>p</SPAN><SUB>1 </SUB>, <SPAN 
                  class=docEmphasis>p</SPAN><SUB>2</SUB>, and <SPAN 
                  class=docEmphasis>p</SPAN><SUB>3</SUB>, we determine the 
                  orientation of <SPAN class=docEmphasis>p</SPAN><SUB>3</SUB> 
                  relative to <SPAN class=docEmphasis>p</SPAN><SUB>2</SUB> with 
                  respect to <SPAN class=docEmphasis>p</SPAN><SUB>1</SUB> by 
                  treating the line segments from <SPAN 
                  class=docEmphasis>p</SPAN><SUB>1</SUB> to <SPAN 
                  class=docEmphasis>p</SPAN><SUB>2</SUB> and <SPAN 
                  class=docEmphasis>p</SPAN><SUB>1</SUB> to <SPAN 
                  class=docEmphasis>p</SPAN><SUB>3</SUB> as vectors U and V. We 
                  then use the sign of the z-component of the cross product U x 
                  V as a gauge of orientation. What is the orientation of the 
                  points if we compute the cross product V x U? In other words, 
                  given a specific orientation of <SPAN 
                  class=docEmphasis>p</SPAN><SUB>3</SUB> relative to <SPAN 
                  class=docEmphasis>p</SPAN><SUB>2</SUB>, what is the 
                  orientation of <SPAN class=docEmphasis>p</SPAN><SUB>2</SUB> 
                  relative to <SPAN class=docEmphasis>p</SPAN><SUB>3</SUB>?</P>
                  <P class=docText><SPAN class=docEmphBold>A:</SPAN> The answer 
                  to this question is a matter of perspective. Imagine two 
                  people facing forward in a room with a door behind them. 
                  Unless the two individuals line up perfectly with the door 
                  (one in front of the other), person <SPAN 
                  class=docEmphasis>A</SPAN> will see person <SPAN 
                  class=docEmphasis>B</SPAN> to his left, whereas person <SPAN 
                  class=docEmphasis>B</SPAN> will see person <SPAN 
                  class=docEmphasis>A</SPAN> to his right, and vice versa. The 
                  neat thing about cross products is that they reflect this 
                  perspective mathematically. When we compute the orientation of 
                  <SPAN class=docEmphasis>p</SPAN> <SUB>3</SUB> relative to 
                  <SPAN class=docEmphasis>p</SPAN> <SUB>2</SUB> with respect to 
                  <SPAN class=docEmphasis>p</SPAN><SUB>1</SUB>, we get an 
                  indication of where <SPAN class=docEmphasis>p</SPAN> 
                  <SUB>3</SUB> is from the perspective of <SPAN 
                  class=docEmphasis>p</SPAN> <SUB>2</SUB>. For example, <SPAN 
                  class=docEmphasis>p</SPAN> <SUB>3</SUB> may be clockwise from 
                  <SPAN class=docEmphasis>p</SPAN> <SUB>2</SUB>. When we compute 
                  the orientation of <SPAN class=docEmphasis>p</SPAN> 
                  <SUB>2</SUB> relative to <SPAN class=docEmphasis>p</SPAN> 
                  <SUB>3</SUB>, we get an indication of where <SPAN 
                  class=docEmphasis>p</SPAN> <SUB>2</SUB> is from the 
                  perspective of <SPAN class=docEmphasis>p</SPAN> <SUB>3</SUB>. 
                  These perspectives are always equal but opposite to one 
                  another (except in the boundary case when <SPAN 
                  class=docEmphasis>p</SPAN> <SUB>2</SUB> and <SPAN 
                  class=docEmphasis>p</SPAN> <SUB>3</SUB> form a straight line 
                  with <SPAN class=docEmphasis>p</SPAN><SUB>1</SUB>). That is, 
                  <SPAN class=docEmphBold>U</SPAN> x <SPAN 
                  class=docEmphBold>V</SPAN> is always equal to but of opposite 
                  sign as <SPAN class=docEmphBold>V</SPAN> x <SPAN 
                  class=docEmphBold>U</SPAN> (if <SPAN 
                  class=docEmphasis>p</SPAN> <SUB>2</SUB> and <SPAN 
                  class=docEmphasis>p</SPAN> <SUB>3</SUB> form a straight line 
                  with <SPAN class=docEmphasis>p</SPAN> <SUB>1</SUB>, <SPAN 
                  class=docEmphBold>U</SPAN> x <SPAN class=docEmphBold>V</SPAN> 
                  and <SPAN class=docEmphBold>V</SPAN> x <SPAN 
                  class=docEmphBold>U</SPAN> are both 0, and the line segments 
                  from <SPAN class=docEmphasis>p</SPAN><SUB>1</SUB> to <SPAN 
                  class=docEmphasis>p</SPAN> <SUB>2</SUB> and <SPAN 
                  class=docEmphasis>p</SPAN><SUB>1</SUB> to <SPAN 
                  class=docEmphasis>p</SPAN> <SUB>3</SUB> are collinear). The 
                  formula given earlier in the chapter for <SPAN 
                  class=docEmphasis>z</SPAN><SUB>1</SUB> when testing for 
                  intersecting line segments comes from <SPAN 
                  class=docEmphBold>U</SPAN> x <SPAN class=docEmphBold>V</SPAN>. 
                  To compute <SPAN class=docEmphBold>V</SPAN> x <SPAN 
                  class=docEmphBold>U</SPAN>, we exchange the positions of <SPAN 
                  class=docEmphasis>x</SPAN><SUB>2</SUB> and <SPAN 
                  class=docEmphasis>x</SPAN><SUB>3</SUB> and of <SPAN 
                  class=docEmphasis>y</SPAN><SUB>2</SUB> and <SPAN 
                  class=docEmphasis>y</SPAN><SUB>3</SUB> in the formula. This 
                  yields an equivalent result but with the sign reversed. 
                  Therefore, if <SPAN class=docEmphasis>p</SPAN> <SUB>3</SUB> is 
                  clockwise from <SPAN class=docEmphasis>p</SPAN> <SUB>2</SUB>, 
                  for example, this tells us that <SPAN 
                  class=docEmphasis>p</SPAN> <SUB>2</SUB> is counterclockwise 
                  from <SPAN class=docEmphasis>p</SPAN> <SUB>3</SUB>, as we 
                  would expect.</P>
                  <P class=docText><SPAN class=docEmphBold>Q:</SPAN> To test 
                  whether two line segments from points <SPAN 
                  class=docEmphasis>p</SPAN><SUB>1</SUB> to <SPAN 
                  class=docEmphasis>p</SPAN><SUB>2</SUB> and <SPAN 
                  class=docEmphasis>p</SPAN><SUB>3</SUB> to <SPAN 
                  class=docEmphasis>p</SPAN><SUB>4</SUB> intersect, we first 
                  examine whether the bounding boxes of the line segments 
                  intersect and then compare the orientation of <SPAN 
                  class=docEmphasis>p</SPAN><SUB>3</SUB> relative to <SPAN 
                  class=docEmphasis>p</SPAN><SUB>2</SUB> with that of <SPAN 
                  class=docEmphasis>p</SPAN><SUB>4</SUB> relative to <SPAN 
                  class=docEmphasis>p</SPAN><SUB>2</SUB>. In what situation do 
                  the bounding boxes intersect when the orientations of both 
                  <SPAN class=docEmphasis>p</SPAN><SUB>3</SUB> and <SPAN 
                  class=docEmphasis>p</SPAN><SUB>4</SUB> are 0? Is it possible 
                  to have bounding boxes that do not intersect when the 
                  orientations of <SPAN class=docEmphasis>p</SPAN><SUB>3</SUB> 
                  and <SPAN class=docEmphasis>p</SPAN><SUB>4</SUB> are both 
                  0?</P>
                  <P class=docText><SPAN class=docEmphBold>A:</SPAN> Recall that 
                  when the orientation of either <SPAN class=docEmphasis>p 
                  </SPAN><SUB>3</SUB> or <SPAN 
                  class=docEmphasis>p</SPAN><SUB>4</SUB> is 0, it means that the 
                  line segment from either <SPAN 
                  class=docEmphasis>p</SPAN><SUB>1</SUB> to <SPAN 
                  class=docEmphasis>p</SPAN> <SUB>3</SUB> or <SPAN 
                  class=docEmphasis>p</SPAN><SUB>1</SUB> to <SPAN 
                  class=docEmphasis>p</SPAN><SUB>4</SUB> is collinear with the 
                  line segment from <SPAN class=docEmphasis>p</SPAN><SUB>1</SUB> 
                  to <SPAN class=docEmphasis>p</SPAN> <SUB>2</SUB>. If the 
                  bounding boxes of the two line segments intersect as well, 
                  this tells us that at least some parts of the segments overlay 
                  each other (see <A class=docLink 
                  href="#ch17-17239">Figure 
                  17.9</A>a). Therefore, the line segments intersect. On the 
                  other hand, it is possible to have two line segments that are 
                  collinear without intersecting. This occurs when the segments 
                  would overlay each other if either were long enough, but 
                  neither has the length necessary to do so (see <A 
                  class=docLink 
                  href="#ch17-17239">Figure 
                  17.9</A>b).</P>
                  <CENTER><A name=IXT-17-314889></A>
                  <H5 class=docFigureTitle><A name=ch17-17239></A>Figure 17.9. 
                  Collinear line segments whose bounding boxes (a) intersect and 
                  (b) do not intersect</H5><IMG height=246 alt=figs/alc.1709.gif 
                  src="image/alc.1709.gif" width=502 border=0></CENTER>
                  <P class=docText><A name=IXT-17-314890></A><SPAN 
                  class=docEmphBold>Q:</SPAN> In this chapter we learned that 
                  the smallest polygon surrounding a set of points is called a 
                  convex hull. This name implies that the polygon is always 
                  convex. Why is this?</P>
                  <P class=docText><SPAN class=docEmphBold>A:</SPAN> Recall that 
                  a <A name=IXT-17-314891></A>polygon is convex if any line 
                  segment connecting two points inside the polygon lies 
                  completely inside the polygon itself; otherwise, the polygon 
                  is <A name=IXT-17-314892></A><A 
                  name=IXT-17-314893></A>concave. To understand why a convex 
                  hull is always convex, consider a concave polygon that 
                  surrounds a set of points. For any sequence of three points 
                  <SPAN class=docEmphasis>p</SPAN><SUB>1</SUB>, <SPAN 
                  class=docEmphasis>p</SPAN> <SUB>2</SUB>, and <SPAN 
                  class=docEmphasis>p</SPAN> <SUB>3</SUB> defining a concave 
                  region, if we replace the edges from <SPAN 
                  class=docEmphasis>p</SPAN><SUB>1</SUB> to <SPAN 
                  class=docEmphasis>p</SPAN> <SUB>2</SUB> and <SPAN 
                  class=docEmphasis>p</SPAN> <SUB>2</SUB> to <SPAN 
                  class=docEmphasis>p</SPAN> <SUB>3</SUB> with a single edge 
                  from <SPAN class=docEmphasis>p</SPAN><SUB>1</SUB> to <SPAN 
                  class=docEmphasis>p</SPAN> <SUB>3</SUB>, we can reduce the 
                  size of the polygon while keeping <SPAN 
                  class=docEmphasis>p</SPAN> <SUB>2</SUB> enclosed. We know that 
                  the size of the polygon will be reduced because it is always 
                  shorter to go from one point to another than through a third 
                  point first. We know that <SPAN class=docEmphasis>p</SPAN> 
                  <SUB>2</SUB> will still be enclosed by the resulting polygon 
                  because the angle from <SPAN class=docEmphasis>p</SPAN> 
                  <SUB>2</SUB> to <SPAN class=docEmphasis>p</SPAN> <SUB>3</SUB> 
                  is less than the angle from <SPAN 
                  class=docEmphasis>p</SPAN><SUB>1</SUB> to <SPAN 
                  class=docEmphasis>p</SPAN> <SUB>2</SUB>. Therefore, since a <A 
                  name=IXT-17-314894></A><A name=IXT-17-314895></A>convex 
                  polygon will always be shorter than any concave one that 
                  encloses the same points, a convex hull must be convex (see <A 
                  class=docLink 
                  href="#ch17-94570">Figure 
                  17.10</A>).</P>
                  <CENTER>
                  <H5 class=docFigureTitle><A name=ch17-94570></A>Figure 17.10. 
                  Showing that the smallest polygon enclosing a set of points is 
                  always convex</H5><IMG height=191 alt=figs/alc.1710.gif 
                  src="image/alc.1710.gif" width=502 border=0></CENTER>
                  <P class=docText><SPAN class=docEmphBold>Q:</SPAN> Suppose in 
                  the approximation for distances on Earth presented in this 
                  chapter we would like to improve the method used in the 
                  function <SPAN class=docEmphasis>geodist</SPAN>. Specifically, 
                  we would like to do something to take into account the change 
                  in the Earth's radius at different latitudes and longitudes. 
                  How can we do this?</P>
                  <P class=docText><SPAN class=docEmphBold>A:</SPAN> One way to 
                  make this improvement is to use the fact that both points 
                  passed into <SPAN class=docEmphasis>geodist</SPAN> have their 
                  own value for the spherical coordinate <FONT 
                  face=symbol>r</FONT>. When we treat the Earth as a perfect 
                  sphere, we set the <TT><I>rho</I></TT> member of each point to 
                  the same value since we are considering the distance from the 
                  Earth's center to the surface to be the same everywhere. 
                  However, a better approach would be to set <TT><I>rho</I></TT> 
                  for each point to the actual distance from the center of the 
                  Earth to the point and then compute an average of the two 
                  <TT><I>rho</I></TT> members for the radius of the arc. 
                  Although this does not perfect the distance computation, it 
                  does generally improve it.</P>                  <UL></UL></TD></TR></TBODY></TABLE>
            <HR SIZE=1>

            <TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
              <TBODY>
              <TR>
              <TR>
                <TD class=v2 vAlign=top align=right>&nbsp; <A accessKey=2 
                  href="ch17-29-fm2xml.html"><IMG 
                  height=16 src="image/btn_prev.gif" width=56 
                  align=absMiddle border=0></A> &nbsp; <A accessKey=1 
                  href="ch17-31-fm2xml.html"><IMG 
                  height=16 src="image/btn_next.gif" width=41 
                  align=absMiddle border=0></A></TD></TR></TBODY></TABLE>
            <TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
              <TBODY>
              <TR>
                <TD vAlign=top align=right><A class=v1 
                  href="#toppage">Top</A></TD></TR></TBODY></TABLE>
            </TD></TR></TBODY></TABLE></TD>
</BODY></HTML>
