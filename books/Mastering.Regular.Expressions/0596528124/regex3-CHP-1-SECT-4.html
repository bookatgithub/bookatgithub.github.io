<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 1.4.&nbsp; Egrep Metacharacters</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=regex3-CHP-1-SECT-3.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=regex3-CHP-1-SECT-5.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><a name="regex3-CHP-1-SECT-4"></a>
<H3 id="title-IDA1LOEQ" class="docSection1Title">1.4. Egrep Metacharacters</H3>
<a name="IDX-CHP-1-0077"></a> 
<a name="IDX-CHP-1-0078"></a> 
<a name="IDX-CHP-1-0079"></a> 
<a name="IDX-CHP-1-0080"></a> 

<p class="docText">Let's start to explore some of the <span class="docEmphasis">egrep</span> metacharacters that supply its regular-expression power. I'll go over them quickly with a few examples, leaving the detailed examples and descriptions for later chapters.</P>
<p class="docText"><span class="docEmphStrong">Typographical Conventions</span> Before we begin, please make sure to review the typographical conventions explained in the preface, on page <span class="docEmphasis">xxi</span>. This book forges a bit of new ground in the area of typesetting, so some of my notations may be unfamiliar at first.</P>
<a name="regex3-CHP-1-SECT-4.1"></a>
<h4 id="title-IDAANOEQ" class="docSection2Title">1.4.1. Start and End of the Line</H4>
<p class="docText">Probably the easiest metacharacters to understand are <img src=images/U2308.jpg border=0><tt>^</tt><img src=images/U230B.jpg border=0> (<span class="docEmphasis">caret</span>) and <img src=images/U2308.jpg border=0><tt>$</tt><img src=images/U230B.jpg border=0>(<span class="docEmphasis">dollar</span>), which represent the start and end, respectively, of the line of text as it is being checked. As we've seen, the regular expression <img src=images/U2308.jpg border=0><tt>cat</tt><img src=images/U230B.jpg border=0> finds <tt>c&#183;a&#183;t</tt> anywhere on the line, but <img src=images/U2308.jpg border=0><tt>^cat</tt><img src=images/U230B.jpg border=0> matches only if the <tt>c&#183;a&#183;t</tt> is at the beginning of the linethe <img src=images/U2308.jpg border=0><tt>^</tt><img src=images/U230B.jpg border=0> is used to effectively <span class="docEmphasis">anchor</span> the match (of the rest of the regular expression) to the start of the line. Similarly, <img src=images/U2308.jpg border=0><tt>cat$</tt><img src=images/U230B.jpg border=0> finds <tt>c&#183;a&#183;t</tt> only at the end of the line, such as a line ending with <tt>scat</tt>.</p>
<p class="docText">It's best to get into the habit of interpreting regular expressions in a rather literal way. For example, don't think</p>
<blockquote>
<p class="docText"><img src=images/U2308.jpg border=0><tt>^cat</tt><img src=images/U230B.jpg border=0> matches a line with <tt>cat</tt> at the beginning</P>
</blockquote>
<p class="docText">but rather:</P>
<blockquote>
<p class="docText"><img src=images/U2308.jpg border=0><tt>^cat</tt><img src=images/U230B.jpg border=0> matches if you have the beginning of a line, followed immediately by <tt>c</tt>, followed immediately by <tt>a</tt>, followed immediately by <tt>t</tt>.</p>
</blockquote>
<p class="docText">They both end up meaning the same thing, but reading it the more literal way allows you to intrinsically understand a new expression when you see it. How would <span class="docEmphasis">egrep</span> interpret <img src=images/U2308.jpg border=0><tt>^cat$</tt><img src=images/U230B.jpg border=0>, <img src=images/U2308.jpg border=0><tt>^$</tt><img src=images/U230B.jpg border=0>, or even simply <img src=images/U2308.jpg border=0><tt>^</tt><img src=images/U230B.jpg border=0> alone? <a class="docLink" href="#regex3-CHP-1-SIDEBAR-1">&#10070;</a> Turn the page to check your interpretations.</p>
<p class="docText">The caret and dollar are special in that they match a <span class="docEmphasis">position</span> in the line rather than any actual text characters themselves. Of course, there are various ways to actually match real text. Besides providing literal characters like <img src=images/U2308.jpg border=0><tt>cat</tt><img src=images/U230B.jpg border=0> in your regular expression, you can also use some of the items discussed in the next few sections.</P>

<a name="regex3-CHP-1-SECT-4.2"></a>
<H4 id="title-IDAXPOEQ" class="docSection2Title">1.4.2. Character Classes</H4>
<a name="IDX-CHP-1-0081"></a> 
<a name="IDX-CHP-1-0082"></a> 
<a name="IDX-CHP-1-0083"></a> 
<a name="IDX-CHP-1-0084"></a> 
<a name="IDX-CHP-1-0085"></a> 
<a name="IDX-CHP-1-0086"></a> 
<a name="IDX-CHP-1-0087"></a> 

<a name="regex3-CHP-1-SECT-4.2.1"></a>
<h5 id="title-IDAAROEQ" class="docSection3Title">1.4.2.1. Matching any one of several characters</H5>
<p class="docText">Let's say you want to search for "grey," but also want to find it if it were spelled "gray." The regular-expression construct <img src=images/U2308.jpg border=0><tt>[&#8943;]</tt><img src=images/U230B.jpg border=0>, usually called a <span class="docEmphasis">character class</span>, lets you list the characters you want to allow at that point in the match. While <img src=images/U2308.jpg border=0><tt>e</tt><img src=images/U230B.jpg border=0> matches just an <tt>e</tt>, and <img src=images/U2308.jpg border=0><tt>a</tt><img src=images/U230B.jpg border=0> matches just an <tt>a</tt>, the regular expression <img src=images/U2308.jpg border=0><tt>[ea]</tt><img src=images/U230B.jpg border=0> matches either. So, then, consider <img src=images/U2308.jpg border=0><tt>gr[ea]y</tt><img src=images/U230B.jpg border=0>:<a name="IDX-CHP-1-0088"></a> 
 this means to find "<tt>g</tt>, followed by <tt>r</tt>, followed by either an <tt>e</tt> or an <tt>a</tt>, all followed by <tt>y</tt>." Because I'm a really poor speller, I'm always using regular expressions like this against a huge list of English words to figure out proper spellings. One I use often is <img src=images/U2308.jpg border=0><tt>sep[ea]r[ea]te</tt><img src=images/U230B.jpg border=0>, because I can never remember whether the word is spelled "seperate," "separate," "separete," or what. The one that pops up in the list is the proper spelling; regular expressions to the rescue.</P>
<p class="docText">Notice how outside of a class, literal characters (like the <img src=images/U2308.jpg border=0><tt>g</tt><img src=images/U230B.jpg border=0> and <img src=images/U2308.jpg border=0><tt>r</tt><img src=images/U230B.jpg border=0> of <img src=images/U2308.jpg border=0><tt>gr[ea]y</tt><img src=images/U230B.jpg border=0>) have an implied "and then" between them"match <img src=images/U2308.jpg border=0><tt>g</tt><img src=images/U230B.jpg border=0> and then match <img src=images/U2308.jpg border=0><tt>r</tt><img src=images/U230B.jpg border=0>..." It's completely opposite inside a character class. The contents of a class is a list of characters that can match at that point, so the implication is "or."</p>
<p class="docText">As another example, maybe you want to allow capitalization of a word's first letter, such as with <img src=images/U2308.jpg border=0><tt>[Ss]mith</tt><img src=images/U230B.jpg border=0>. Remember that this still matches lines that contain <tt>smith</tt> (or <tt>Smith</tt>) embedded within another word, such as with <tt>blacksmith</tt>. I don't want to harp on this throughout the overview, but this issue does seem to be the source of problems among some new users. I'll touch on some ways to handle this embedded-word problem after we examine a few more metacharacters.</p>
<p class="docText">You can list in the class as many characters as you like. For example, <img src=images/U2308.jpg border=0><tt>[123456]</tt><img src=images/U230B.jpg border=0> matches any of the listed digits. This particular class might be useful as part of <img src=images/U2308.jpg border=0><tt>&lt;H[123456]&gt;</tt><img src=images/U230B.jpg border=0>, which matches <tt>&lt;H1&gt;</tt>, <tt>&lt;H2&gt;</tt>, <tt>&lt;H3&gt;</tt>, etc. This can be useful when searching for HTML headers.</p>
<p class="docText">Within a character class, the <span class="docEmphasis">character-class metacharacter</span> '<tt>-</tt>' (<span class="docEmphasis">dash</span>) indicates a range<a name="IDX-CHP-1-0089"></a> 
 of characters: <img src=images/U2308.jpg border=0><tt>&lt;H[1-6]&gt;</tt><img src=images/U230B.jpg border=0> is identical to the previous example. <img src=images/U2308.jpg border=0><tt>[0-9]</tt><img src=images/U230B.jpg border=0> and <img src=images/U2308.jpg border=0><tt>[a-z]</tt><img src=images/U230B.jpg border=0> are common shorthands for classes to match digits and English lowercase letters, respectively. Multiple ranges are fine, so <img src=images/U2308.jpg border=0><tt>[0123456789abcdefABCDEF]</tt><img src=images/U230B.jpg border=0> can be written as <img src=images/U2308.jpg border=0><tt>[0-9a-fA-F]</tt><img src=images/U230B.jpg border=0> (or, perhaps, <img src=images/U2308.jpg border=0><tt>[A-Fa-f0-9]</tt><img src=images/U230B.jpg border=0>, since the order in which ranges are given doesn't matter). These last three examples can be useful when processing hexadecimal numbers. You can freely combine ranges with literal characters: <img src=images/U2308.jpg border=0><tt>[0-9A-Z_!.?]</tt><img src=images/U230B.jpg border=0> matches a digit, uppercase letter, underscore, exclamation point, period, or a question mark.</p>
<p class="docText">Note that a dash is a metacharacter only within a character class  otherwise it matches the normal dash character. In fact, it is not even always a metacharacter within a character class. If it is the first character listed in the class, it can't possibly indicate a range, so it is not considered a metacharacter. Along the same lines, the question mark and period at the end of the class are usually regular-expression metacharacters, but only when <span class="docEmphasis">not</span> within a class (so, to be clear, the only special characters within the class in <img src=images/U2308.jpg border=0><tt>[0-9A-ZR!.?]</tt><img src=images/U230B.jpg border=0> are the two dashes).</P>
<a name="regex3-CHP-1-SIDEBAR-1"></a><p><table cellspacing="0" width="90%" border="1" cellpadding="5"><tr><TD>
<h2 class="docSidebarTitle">Reading <img src=images/U2308.jpg border=0><tt>^cat$</tt><img src=images/U230B.jpg border=0>, <img src=images/U2308.jpg border=0><tt>^$</tt><img src=images/U230B.jpg border=0>, and <img src=images/U2308.jpg border=0><tt>^</tt><img src=images/U230B.jpg border=0></h2>
<p class="docText">&#10070; <span class="docEmphasis">Answers to the questions on page 8</span>.</p>
<dl class="docList">
<dt><br><p><span class="docPubcolor"><img src=images/U2308.jpg border=0><span class="docPubcolor"><span class="docMonofont">^cat$</span></span><img src=images/U230B.jpg border=0></span></p></dt>
<dd><p class="docList"><span class="docEmphStrong">Literally means:</span> matches if the line has a beginning-of-line (which, of course, all lines have), followed immediately by <tt>c&#183;a&#183;t</tt>, and then followed immediately by the end of the line.</p>
<p class="docList"><span class="docEmphStrong">Effectively means:</span> a line that consists of only <tt>cat</tt>  no extra words, spaces, punctuation...just '<tt>cat</tt>'.</p></dd>

<dt><br><p><span class="docPubcolor"><img src=images/U2308.jpg border=0><span class="docPubcolor"><span class="docMonofont">^$</span></span><img src=images/U230B.jpg border=0></span></p></dt>
<dd><p class="docList"><span class="docEmphStrong">Literally means:</span> matches if the line has a beginning-of-line, followed immediately by the end of the line.</p>
<p class="docList"><span class="docEmphStrong">Effectively means:</span> an empty line (with nothing in it, not even spaces).</p></dd>

<dt><br><p><span class="docPubcolor"><img src=images/U2308.jpg border=0><span class="docPubcolor"><span class="docMonofont">^</span></span><img src=images/U230B.jpg border=0></span></p></dt>
<dd><p class="docList"><span class="docEmphStrong">Literally means:</span> matches if the line has a beginning-of-line.</p>
<p class="docList"><span class="docEmphStrong">Effectively <span class="docEmphasis">meaningless</span></span>! Since every line has a beginning, every line will matcheven lines that are empty!</P></dd>
</dl>
</td></TR></table></p><br>
<blockquote>
<p class="docText">Consider character classes as their own mini language. The rules regarding which metacharacters are supported (and what they do) are completely different inside and outside of character classes.</P>
</blockquote>
<p class="docText">We'll see more examples of this shortly.</P>

<a name="regex3-CHP-1-SECT-4.2.2"></a>
<H5 id="title-IDAVXOEQ" class="docSection3Title">1.4.2.2. Negated character classes</H5>
<a name="IDX-CHP-1-0090"></a> 
<a name="IDX-CHP-1-0091"></a> 

<p class="docText">If you use <img src=images/U2308.jpg border=0><tt>[^&#8943;]</tt><img src=images/U230B.jpg border=0> instead of <img src=images/U2308.jpg border=0><tt>[&#8943;]</tt><img src=images/U230B.jpg border=0>, the class matches any character that <span class="docEmphasis">isn't</span> listed. For example, <img src=images/U2308.jpg border=0><tt>[^1-6]</tt><img src=images/U230B.jpg border=0> matches a character that's <span class="docEmphasis">not</span> <tt>1</tt> through <tt>6</tt>. The leading <tt>^</tt> in the class "negates" the list, so rather than listing the characters you want to include in the class, you list the characters you don't want to be included.</P>
<p class="docText">You might have noticed that the <tt>^</tt> used here is the same as the start-of-line caret introduced<a name="IDX-CHP-1-0092"></a> 
 on page 8. The character is the same, but the meaning is completely different. Just as the English word "wind" can mean different things depending on the context (sometimes a strong breeze, sometimes what you do to a clock), so can a metacharacter. We've already seen one example, the range-building dash. It is valid only inside a character class<a name="IDX-CHP-1-0093"></a> 
 (and at that, only when not first inside the class). <tt>^</tt> is a line anchor outside a class, but a class metacharacter inside a class (but, only when it is immediately after the class's opening bracket; otherwise, it's not special inside a class). Don't fear  these are the most complex special cases; others we'll see later aren't so bad.</p>
<p class="docText">As another example, let's search that list of English words for odd words that have <tt>q</tt> followed by something other than <tt>u</tt>. translating that into a regular expression, it becomes <img src=images/U2308.jpg border=0><tt>q[^u]</tt><img src=images/U230B.jpg border=0>. I tried it on the list I have, and there certainly weren't many. I did find a few, including a number of words that I didn't even know were English.</P>
<p class="docText">Here's what happened. (What I typed is in bold.)</P>
<pre>
    % <span class="docEmphStrong">egrep 'q[^u]' word.list</span>
    Iraqi
    Iraqian
    miqra
    qasida
    qintar
    qoph
    zaqqum%
</pre><br>

<p class="docText">Two notable words not listed are "Qantas",<a name="IDX-CHP-1-0094"></a> 
 the Australian airline, and "Iraq".<a name="IDX-CHP-1-0095"></a> 
 Although both words are in the <span class="docEmphasis">word.list</span> file, neither were displayed by my <span class="docEmphasis">egrep</span> command. Why?<a class="docLink" href="#regex3-CHP-1-SIDEBAR-2">&#10070;</a> Think about it for a bit, and then turn the page to check your reasoning.</p>
<p class="docText">Remember, a negated character class means "match a character that's not listed" and not "don't match what is listed." These might seem the same, but the <tt>Iraq</tt> example shows the subtle difference. A convenient way to view a negated class is that it is simply a shorthand for a normal class that includes all possible characters <span class="docEmphasis">except</span> those that are listed.</P>


<a name="regex3-CHP-1-SECT-4.3"></a>
<H4 id="title-IDA10OEQ" class="docSection2Title">1.4.3. Matching Any Character with Dot</H4>
<a name="IDX-CHP-1-0096"></a> 
<a name="IDX-CHP-1-0097"></a> 
<a name="IDX-CHP-1-0098"></a> 
<a name="IDX-CHP-1-0099"></a> 

<p class="docText">The metacharacter <img src=images/U2308.jpg border=0><tt>.</tt><img src=images/U230B.jpg border=0> (usually called <span class="docEmphasis">dot</span> or <span class="docEmphasis">point</span>) is a shorthand for a character class that matches any character. It can be convenient when you want to have an "any character here" placeholder in your expression. For example, if you want to search for a date such as <tt>03/19/76</tt>, <tt>03-19-76</tt>, or even <tt>03.19.76</tt>, you could go to the trouble to construct a regular expression that uses character classes to explicitly allow '<tt>/</tt>', '<tt>-</tt>', or '<tt>.</tt>' between each number, such as <img src=images/U2308.jpg border=0><tt>03[-./]19[-./]76</tt><img src=images/U230B.jpg border=0>. However, you might also try simply using <img src=images/U2308.jpg border=0><tt>03.19.76</tt><img src=images/U230B.jpg border=0>.</p>
<p class="docText">Quite a few things are going on with this example that might be unclear at first. In <img src=images/U2308.jpg border=0><tt>03[-./]19[-./]76</tt><img src=images/U230B.jpg border=0>, the dots are <span class="docEmphasis">not</span> metacharacters because they are within a character class. (Remember, the list of metacharacters and their meanings are different inside and outside of character classes.) The dashes are also not class metacharacters <span class="docEmphasis">in this case</span> because each is the first thing after <tt>[</tt> or <tt>[^</tt>. Had they not been first, as with <img src=images/U2308.jpg border=0><tt>[.-/]</tt><img src=images/U230B.jpg border=0>, they would be the class range metacharacter, which would be a mistake in this situation.</P>
<a name="regex3-CHP-1-SIDEBAR-2"></a><P><table cellspacing="0" width="90%" border="1" cellpadding="5"><tr><td>
<h2 class="docSidebarTitle">Quiz Answer</h2>
<p class="docText">&#10070; <span class="docEmphasis">Answer to the question on page 11</span>.</P>
<p class="docText"><span class="docEmphStrong">Why doesn't <img src=images/U2308.jpg border=0><tt>q[^u]</tt><img src=images/U230B.jpg border=0> match 'Qantas' or 'Iraq'?</span>
</p>
<p class="docText"><tt>Qantas</tt> didn't match because the regular expression called for a lowercase <tt>q</tt>, whereas the <tt>Q</tt> in Qantas is uppercase. Had we used <img src=images/U2308.jpg border=0><tt>Q[^u]</tt><img src=images/U230B.jpg border=0> instead, we would have found it, but not the others, since they don't have an uppercase <tt>Q</tt>. The expression <img src=images/U2308.jpg border=0><tt>[Qq][^u]</tt><img src=images/U230B.jpg border=0> would have found them all.</p>
<p class="docText">The <tt>Iraq</tt> example is somewhat of a trick question. The regular expression calls for <tt>q</tt> <span class="docEmphasis">followed by a character</span> that's not <tt>u</tt>, which precludes matching <tt>q</tt> <span class="docEmphasis">at the end of the line</span>. Lines generally have newline characters at the very end, but a little fact I neglected to mention (sorry!) is that <span class="docEmphasis">egrep</span> strips those before checking with the regular expression, so after a line-ending <tt>q</tt>, there's no non-<tt>u</tt> to be matched.</P>
<p class="docText">Don't feel too bad because of the trick question.<sup class="docFootnote"><a class="docLink" href="#regex3-CHP-1-FN-4">[<img src=images/U2020.jpg border=0>]</a></sup> Let me assure you that had <span class="docEmphasis">egrep</span> not automatically stripped the newlines (many other tools don't strip them), or had <tt>Iraq</tt> been followed by spaces or other words or whatnot, the line would have matched. It is important to eventually understand the little details of each tool, but at this point what I'd like you to come away with from this exercise is that <span class="docEmphasis">a character class, even negated, still requires a character to match</span>.</p>
</td></tr></table></p><br><blockquote><p class="docFootnote"><sup><a name="regex3-CHP-1-FN-4">[<img src=images/U2020.jpg border=0>]</a></sup> Once, in fourth grade, I was leading the spelling bee when I was asked to spell "miss." My answer was "<tt>m&#183;i&#183;s&#183;s.</tt>" Miss Smith relished in telling me that no, it was "<tt>M&#183;i&#183;s&#183;s.</tt>" with a capital <tt>M</tt>, that I should have asked for an example sentence, and that I was out. It was a traumatic moment in a young boy's life. After that, I never liked Miss Smith, and have since been a very poor speler.</p></blockquote>
<p class="docText">With <img src=images/U2308.jpg border=0><tt>03.19.76</tt><img src=images/U230B.jpg border=0>, the dots <span class="docEmphasis">are</span> metacharacters  ones that match any character (including the dash, period, and slash that we are expecting). However, it is important to know that each dot can match any character at all, so it can match, say, '<tt>lottery numbers:</tt> <img border="0" alt="" width="114" height="14" SRC="images/regex3_u0107.jpg">'.</p>
<p class="docText">So, <img src=images/U2308.jpg border=0><tt>03[-./]19[-./]76</tt><img src=images/U230B.jpg border=0> is more precise, but it's more difficult to read and write. <img src=images/U2308.jpg border=0><tt>03.19.76</tt><img src=images/U230B.jpg border=0> is easy to understand, but vague. Which should we use? It all depends upon what you know about the data being searched, and just how specific you feel you need to be. One important, recurring issue has to do with balancing your knowledge of the text being searched against the need to always be exact when writing an expression. For example, if you know that with your data it would be highly unlikely for <img src=images/U2308.jpg border=0><tt>03.19.76</tt><img src=images/U230B.jpg border=0> to match in an unwanted place, it would certainly be reasonable to use it. Knowing the target text well is an important part of wielding regular expressions effectively.</p>

<a name="regex3-CHP-1-SECT-4.4"></a>
<h4 id="title-IDAFAPEQ" class="docSection2Title">1.4.4. Alternation</h4>
<a name="regex3-CHP-1-SECT-4.4.1"></a>
<h5 id="title-IDALAPEQ" class="docSection3Title">1.4.4.1. Matching any one of several subexpressions</h5>
<a name="IDX-CHP-1-0100"></a> 
<a name="IDX-CHP-1-0101"></a> 
<a name="IDX-CHP-1-0102"></a> 
<a name="IDX-CHP-1-0103"></a> 

<p class="docText">A very convenient metacharacter is <img src=images/U2308.jpg border=0><tt>|</tt><img src=images/U230B.jpg border=0>, which means "or." It allows you to combine multiple expressions into a single expression that matches any of the individual ones. For example, <img src=images/U2308.jpg border=0><tt>Bob</tt><img src=images/U230B.jpg border=0> and <img src=images/U2308.jpg border=0><tt>Robert</tt><img src=images/U230B.jpg border=0> are separate expressions, but <img src=images/U2308.jpg border=0><tt>Bob|Robert</tt><img src=images/U230B.jpg border=0> is one expression that matches either. When combined this way, the subexpressions are called <span class="docEmphasis">alternatives</span>.</p>
<p class="docText">Looking back to our <img src=images/U2308.jpg border=0><tt>gr[ea]y</tt><img src=images/U230B.jpg border=0> example, it is interesting to realize that it can be written as <img src=images/U2308.jpg border=0><tt>grey|gray</tt><img src=images/U230B.jpg border=0>, and even <img src=images/U2308.jpg border=0><tt>gr(a|e)y</tt><img src=images/U230B.jpg border=0>. The latter case uses parentheses to constrain the alternation. (For the record, parentheses are metacharacters too.) Note that something like <img src=images/U2308.jpg border=0><tt>gr[a|e]y</tt><img src=images/U230B.jpg border=0> is <span class="docEmphasis">not</span> what we want  within a class, the '<tt>|</tt>' character is just a normal character, like <img src=images/U2308.jpg border=0><tt>a</tt><img src=images/U230B.jpg border=0> and <img src=images/U2308.jpg border=0><tt>e</tt><img src=images/U230B.jpg border=0>.</p>
<p class="docText">With <img src=images/U2308.jpg border=0><tt>gr(a|e)y</tt><img src=images/U230B.jpg border=0>, the parentheses are required because without them, <img src=images/U2308.jpg border=0><tt>gra|ey</tt><img src=images/U230B.jpg border=0> means "<img src=images/U2308.jpg border=0><tt>gra</tt><img src=images/U230B.jpg border=0> or <img src=images/U2308.jpg border=0><tt>ey</tt><img src=images/U230B.jpg border=0>," which is not what we want here. Alternation reaches far, but not beyond parentheses. Another example is <img src=images/U2308.jpg border=0><tt>(First|1st)&#8226;[Ss]treet</tt><img src=images/U230B.jpg border=0>.<sup class="docFootnote"><a class="docLink" href="#regex3-CHP-1-FN-5">[<img src=images/U2020.jpg border=0>]</a></sup> Actually, since both <img src=images/U2308.jpg border=0><tt>First</tt><img src=images/U230B.jpg border=0> and <img src=images/U2308.jpg border=0><tt>1st</tt><img src=images/U230B.jpg border=0> end with <img src=images/U2308.jpg border=0><tt>st</tt><img src=images/U230B.jpg border=0>, the combination can be shortened to <img src=images/U2308.jpg border=0><tt>(Fir|1)st &#8226; [Ss]treet</tt><img src=images/U230B.jpg border=0>. That's not necessarily quite as easy to read, but be sure to understand that <img src=images/U2308.jpg border=0><tt>(first|1st)</tt><img src=images/U230B.jpg border=0> and <img src=images/U2308.jpg border=0><tt>(fir|1)st</tt><img src=images/U230B.jpg border=0> effectively mean the same thing.</p><blockquote><p class="docFootnote"><sup><a name="regex3-CHP-1-FN-5">[<img src=images/U2020.jpg border=0>]</a></sup> Recall from the typographical conventions on page <span class="docEmphasis">xxii</span> that "&#8226;" is how I sometimes show a space character so it can be seen easily.</p></blockquote>
<p class="docText">Here's an example involving an alternate spelling of my name. Compare and contrast the following three expressions, which are all effectively the same:</p>
<blockquote>
<p class="docText"><img src=images/U2308.jpg border=0><tt>Jeffrey|Jeffery</tt><img src=images/U230B.jpg border=0></P>
<p class="docText"><img src=images/U2308.jpg border=0><tt>Jeff(rey|ery)</tt><img src=images/U230B.jpg border=0></p>
<p class="docText"><img src=images/U2308.jpg border=0><tt>Jeff(re|er)y</tt><img src=images/U230B.jpg border=0></P>
</blockquote>
<p class="docText">To have them match the British spellings as well, they could be:</p>
<blockquote>
<p class="docText"><img src=images/U2308.jpg border=0><tt>(Geoff|Jeff)(rey|ery)</tt><img src=images/U230B.jpg border=0></p>
<p class="docText"><img src=images/U2308.jpg border=0><tt>(Geo|Je)ff(rey|ery)</tt><img src=images/U230B.jpg border=0></P>
<p class="docText"><img src=images/U2308.jpg border=0><tt>(Geo|Je)ff(re|er)y</tt><img src=images/U230B.jpg border=0></P>
</blockquote>
<p class="docText">Finally, note that these three match effectively the same as the longer (but simpler) <img src=images/U2308.jpg border=0><tt>Jeffrey|Geoffery|Jeffery|Geoffrey</tt><img src=images/U230B.jpg border=0>. They're all different ways to specify the same desired matches.</P>
<p class="docText">Although the <img src=images/U2308.jpg border=0><tt>gr[ea]y</tt><img src=images/U230B.jpg border=0> versus <img src=images/U2308.jpg border=0><tt>gr(a|e)y</tt><img src=images/U230B.jpg border=0> examples might blur the distinction, be careful not to confuse the concept of alternation with that of a character class.<a name="IDX-CHP-1-0104"></a> 
 A character class can match just a <span class="docEmphasis">single character</span> in the target text. With alternation, since each alternative can be a full-fledged regular expression in and of itself, each alternative can match an arbitrary amount of text. Character classes are almost like their own special mini-language (with their own ideas about metacharacters, for example), while alternation is part of the "main" regular expression language. You'll find both to be extremely useful.</P>
<p class="docText">Also, take care when using caret or dollar in an expression that has alternation. Compare <img src=images/U2308.jpg border=0><tt>^From|Subject|Date:&#8226;</tt><img src=images/U230B.jpg border=0> with <img src=images/U2308.jpg border=0><tt>^(From|Subject|Date):&#8226;</tt><img src=images/U230B.jpg border=0>. Both appear similar to our earlier email example, but what each matches (and therefore how useful it is) differs greatly. The first is composed of three alternatives, so it matches "<img src=images/U2308.jpg border=0><tt>^From</tt><img src=images/U230B.jpg border=0> or <img src=images/U2308.jpg border=0><tt>Subject</tt><img src=images/U230B.jpg border=0> or <img src=images/U2308.jpg border=0><tt>Date: &#8226;</tt><img src=images/U230B.jpg border=0>," which is not particularly useful. We want the leading caret and trailing <img src=images/U2308.jpg border=0><tt>: &#8226;</tt><img src=images/U230B.jpg border=0> to apply to each alternative. We can accomplish this by using parentheses to "constrain" the alternation:</p>
<blockquote>
<p class="docText"><img src=images/U2308.jpg border=0><tt>^(From;Subject;Date):&#8226;</tt><img src=images/U230B.jpg border=0></P>
</blockquote>
<p class="docText">The alternation is constrained by the parentheses, so literally, this regex means "match the start of the line, then one of <img src=images/U2308.jpg border=0><tt>From</tt><img src=images/U230B.jpg border=0>, <img src=images/U2308.jpg border=0><tt>Subject</tt><img src=images/U230B.jpg border=0>, or <img src=images/U2308.jpg border=0><tt>Date</tt><img src=images/U230B.jpg border=0>, and then match <img src=images/U2308.jpg border=0><tt>: &#8226;</tt><img src=images/U230B.jpg border=0>." Effectively, it matches:</p>
<ul><LI><p class="docList"><span class="docEmphasis">1)</span> start-of-line, followed by <tt>F&#183;r&#183;o&#183;m</tt>, followed by '<tt>:</tt> &#8226;'</P></li><li><p class="docList"><span class="docEmphasis">or 2)</span> start-of-line, followed by <tt>S&#183;u&#183;b&#183;j&#183;e&#183;c&#183;t</tt>, followed by '<tt>:</tt> &#8226;'</P></LI><LI><p class="docList"><span class="docEmphasis">or 3)</span> start-of-line, followed by <tt>D&#183;a&#183;t&#183;e</tt>, followed by '<tt>:</tt> &#8226;'</p></LI></UL>
<p class="docText">Putting it less literally, it matches lines beginning with '<tt>From:</tt> &#8226;', '<tt>Subject:</tt> &#8226;', or '<tt>Date:</tt> &#8226;', which is quite useful for listing the messages in an email file.</p>
<p class="docText">Here's an example:</p>
<pre>
    % <span class="docEmphStrong">egrep<a name="IDX-CHP-1-0105"></a> 
 '^(From|Subject|Date): '  mailbox</span>
    From: elvis@tabloid.org (The King)
    Subject: be seein' ya around
    Date: Mon, 23 Oct 2006 11:04:13
    From: The Prez &lt;president@whitehouse.gov&gt;
    Date: Wed, 25 Oct 2006 8:36:24
    Subject: now, about your vote...
    <img src=images/U22EE.jpg border=0>
</pre><br>



<a name="regex3-CHP-1-SECT-4.5"></a>
<h4 id="title-IDA0HPEQ" class="docSection2Title">1.4.5. Ignoring Differences in Capitalization</H4>
<a name="IDX-CHP-1-0106"></a> 
<a name="IDX-CHP-1-0107"></a> 
<a name="IDX-CHP-1-0108"></a> 

<p class="docText">This email header example provides a good opportunity to introduce the concept of a <span class="docEmphasis">case-insensitive</span> match. The field types in an email header usually appear with leading capitalization, such as "Subject" and "From," but the email standard actually allows mixed capitalization, so things like "DATE" and "from" are also allowed. Unfortunately, the regular expression in the previous section doesn't match those.</p>
<p class="docText">One approach is to replace <img src=images/U2308.jpg border=0><tt>From</tt><img src=images/U230B.jpg border=0> with <img src=images/U2308.jpg border=0><tt>[Ff][Rr][Oo][Mm]</tt><img src=images/U230B.jpg border=0> to match any form of "from," but this is quite cumbersome, to say the least. Fortunately, there is a way to tell <span class="docEmphasis">egrep</span> to ignore case when doing comparisons, i.e., to perform the match in a <span class="docEmphasis">case insensitive</span> manner in which capitalization differences are simply ignored. It is not a part of the regular-expression language, but is a related useful feature many tools provide. <span class="docEmphasis">egrep</span>'s<a name="IDX-CHP-1-0109"></a> 
<a name="IDX-CHP-1-0110"></a> 
 command-line option "<tt>-i</tt>" tells it to do a case-insensitive match.<a name="IDX-CHP-1-0111"></a> 
 Place <tt>-i</tt> on the command line before the regular expression:</p>
<pre>
    % egrep <span class="docEmphStrong">-i</span> '^(From|Subject|Date): ' mailbox
</pre><BR>

<p class="docText">This brings up all the lines we matched before, but also includes lines such as:</p>
<pre>
    SUBJECT: MAKE MONEY FAST
</pre><br>

<p class="docText">I find myself using the <tt>-i</tt> option quite frequently (perhaps related to the footnote on page 12!) so I recommend keeping it in mind. We'll see other convenient support features like this in later chapters.</p>

<a name="regex3-CHP-1-SECT-4.6"></a>
<h4 id="title-IDAIKPEQ" class="docSection2Title">1.4.6. Word Boundaries</h4>
<a name="IDX-CHP-1-0112"></a> 

<p class="docText">A common problem is that a regular expression that matches the word you want can often also match where the "word" is embedded within a larger word. I mentioned this briefly in the <tt>cat</tt>, <tt>gray</tt>, and <tt>Smith</tt> examples. It turns out, though, that some versions of <span class="docEmphasis">egrep</span> offer limited support for word recognition: namely the ability to match the boundary of a word (where a word begins or ends).</p>
<p class="docText">You can use the (perhaps odd looking) <span class="docEmphasis">metasequences</span> <img src=images/U2308.jpg border=0><tt>\&lt;</tt><img src=images/U230B.jpg border=0> and <img src=images/U2308.jpg border=0><tt>\&gt;</tt><img src=images/U230B.jpg border=0> if your version happens to support them (not all versions of <span class="docEmphasis">egrep</span> do). You can think of them as word-based versions of <img src=images/U2308.jpg border=0><tt>^</tt><img src=images/U230B.jpg border=0> and <img src=images/U2308.jpg border=0><tt>$</tt><img src=images/U230B.jpg border=0> that match the <span class="docEmphasis">position</span> at the start and end of a word, respectively. Like the line anchors caret and dollar, they anchor other parts of the regular expression but don't actually consume any characters during a match. The expression <img src=images/U2308.jpg border=0><tt>\&lt;cat\&gt;</tt><img src=images/U230B.jpg border=0> literally means "match if we can find a start-of-word position, followed immediately by <tt>c&#183;a&#183;t</tt>, followed immediately by an end-of-word position." More naturally, it means "find the word <tt>cat</tt>." If you wanted, you could use <img src=images/U2308.jpg border=0><tt>\&lt;cat</tt><img src=images/U230B.jpg border=0> or <img src=images/U2308.jpg border=0><tt>cat\&gt;</tt><img src=images/U230B.jpg border=0> to find words starting and ending with <tt>cat</tt>.</p>
<p class="docText">Note that <img src=images/U2308.jpg border=0><tt>&lt;</tt><img src=images/U230B.jpg border=0> and <img src=images/U2308.jpg border=0><tt>&gt;</tt><img src=images/U230B.jpg border=0> alone are not metacharacters  when combined with a back-slash, the <span class="docEmphasis">sequences</span> become special. This is why I called them "metasequences." It's their special interpretation that's important, not the number of characters, so for the most part I use these two meta-words interchangeably.</p>
<p class="docText">Remember, not all versions of <span class="docEmphasis">egrep</span> support these word-boundary metacharacters, and those that do don't magically understand the English language. The "start of a word" is simply the position where a sequence of alphanumeric characters begins; "end of word" is where such a sequence ends. <a class="docLink" href="#regex3-CHP-1-FIG-2">Figure 1-2</a> on the next page shows a sample line with these positions marked.</p>
<a name="regex3-CHP-1-FIG-2"></a><p><center>
<h5 class="docFigureTitle">Figure 1-2. Start and end of "word" positions</h5><img border="0" alt="" width="490" height="109" SRC="images/regex3_0102.jpg">
</center></p><br>
<p class="docText">The word-starts (as <span class="docEmphasis">egrep</span> recognizes them) are marked with up arrows, the word-ends with down arrows. As you can see, "start and end of word" is better phrased as "start and end of an alphanumeric sequence," but perhaps that's too much of a mouthful.</p>

<a name="regex3-CHP-1-SECT-4.7"></a>
<h4 id="title-IDA5MPEQ" class="docSection2Title">1.4.7. In a Nutshell</h4>
<p class="docText"><a class="docLink" href="#regex3-CHP-1-TABLE-1">Table 1-1</a> summarizes the metacharacters we have seen so far.</P>
<a name="regex3-CHP-1-TABLE-1"></a><p><table cellspacing="0" FRAME="hsides" RULES="all" cellpadding="4" width="100%"><caption><H5 class="docTableTitle">Table 1-1. Summary of Metacharacters Seen So Far.</h5></caption><colgroup span="3"><col><col><col></colgroup><thead><tr><th class="thead" scope="col" align="left"><p class="docText">Metacharacter</P></th><th class="thead" scope="col" align="left"><p class="docText">Name</P></th><th class="thead" scope="col" align="left"><p class="docText">Matches</P></th></TR></thead><tr><TD class="docTableCell" align="left"><p class="docText"><tt>.</tt></p></td><TD class="docTableCell" align="left"><p class="docText"><span class="docEmphasis">dot</span></P></td><td class="docTableCell" align="left"><p class="docText">any one character</P></TD></TR><tr><TD class="docTableCell" align="left"><p class="docText"><tt>[&#8943;]</tt></P></td><td class="docTableCell" align="left"><p class="docText"><span class="docEmphasis">character class</span></p></td><TD class="docTableCell" align="left"><p class="docText">any character listed</p></td></TR><tr><td class="docTableCell" align="left"><p class="docText"><tt>[^&#8943;]</tt></p></td><td class="docTableCell" align="left"><p class="docText"><span class="docEmphasis">negated character class</span></p></td><td class="docTableCell" align="left"><p class="docText">any character not listed</p></td></tr><tr><td class="docTableCell" align="left"><p class="docText"><tt>^</tt></p></td><td class="docTableCell" align="left"><p class="docText"><span class="docEmphasis">caret</span></p></TD><td class="docTableCell" align="left"><p class="docText">the position at the start of the line</P></td></tr><TR><TD class="docTableCell" align="left"><p class="docText"><tt>$</tt></P></TD><td class="docTableCell" align="left"><p class="docText"><span class="docEmphasis">dollar</span></P></td><td class="docTableCell" align="left"><p class="docText">the position at the end of the line</P></TD></tr><tr><TD class="docTableCell" align="left"><p class="docText"><tt>\&lt;</tt></P></TD><td class="docTableCell" align="left"><p class="docText"><span class="docEmphasis">backslash less-than</span></P></TD><td class="docTableCell" align="left"><p class="docText"><img src=images/U2020.jpg border=0>the position at the start of a word</p></td></tr><TR><td class="docTableCell" align="left"><p class="docText"><tt>\&gt;</tt></p></TD><td class="docTableCell" align="left"><p class="docText"><span class="docEmphasis">backslash greater-than</span></p></td><td class="docTableCell" align="left"><p class="docText"><img src=images/U2020.jpg border=0>the position at the end of a word</p></td></tr><tr><td class="docTableCell" align="center"><p class="docText">&nbsp;</p></td><td class="docTableCell" align="center"><p class="docText">&nbsp;</p></td><td class="docTableCell" align="left"><p class="docText">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src=images/U2020.jpg border=0><span class="docEmphasis">not supported by all versions of egrep</span></p></td></TR><tr><TD class="docTableCell" align="left"><p class="docText"><tt>|</tt></p></td><TD class="docTableCell" align="left"><p class="docText"><span class="docEmphasis">or</span>; <span class="docEmphasis">bar</span></P></TD><TD class="docTableCell" align="left"><p class="docText">matches either expression it separates</p></TD></tr><tr><TD class="docTableCell" align="left"><p class="docText"><tt>(&#8943;)</tt></P></td><td class="docTableCell" align="left"><p class="docText"><span class="docEmphasis">parentheses</span></P></TD><TD class="docTableCell" align="left"><p class="docText">used to limit scope of <img src=images/U2308.jpg border=0><tt>|</tt><img src=images/U230B.jpg border=0>, plus additional uses yet to be discussed</p></TD></TR></table></p><br>
<p class="docText">In addition to the table, important points to remember include:</p>
<ul><LI><p class="docList">The rules about which characters are and aren't metacharacters (and exactly what they mean) are different inside a character class. For example, dot is a metacharacter outside of a class, but not within one. Conversely, a dash is a metacharacter within a class (usually), but not outside. Moreover, a caret has one meaning outside, another if specified inside a class immediately after the opening <tt>[</tt>, and a third if given elsewhere in the class.</p></li><LI><p class="docList">Don't confuse alternation with a character class. The class <img src=images/U2308.jpg border=0><tt>[abc]</tt><img src=images/U230B.jpg border=0> and the alternation <img src=images/U2308.jpg border=0><tt>(a|b|c)</tt><img src=images/U230B.jpg border=0> effectively mean the same thing, but the similarity in this example does not extend to the general case. A character class can match exactly one character, and that's true no matter how long or short the specified list of acceptable characters might be.</p><p class="docList">Alternation, on the other hand, can have arbitrarily long alternatives, each textually unrelated to the other: <img src=images/U2308.jpg border=0><tt>\&lt;(1,000,000|million|thousand&#8226;thou)\&gt;</tt><img src=images/U230B.jpg border=0>. However, alternation can't be negated like a character class.</p></li><li><p class="docList">A negated character class is simply a notational convenience for a normal character class that matches everything not listed. Thus, <img src=images/U2308.jpg border=0><tt>[^x]</tt><img src=images/U230B.jpg border=0> doesn't mean "match unless there is an <tt>x</tt>," but rather "match if there is something that is not <tt>x</tt>." The difference is subtle, but important. The first concept matches a blank line, for example, while <img src=images/U2308.jpg border=0><tt>[^x]</tt><img src=images/U230B.jpg border=0> does not.</p></li><li><p class="docList">The useful <tt>-i</tt> option discounts capitalization during a match (&#9758;15).<sup class="docFootnote"><a class="docLink" href="#regex3-CHP-1-FN-6">[<img src=images/U2020.jpg border=0>]</a></sup></p><blockquote><p class="docFootnote"><sup><a name="regex3-CHP-1-FN-6">[<img src=images/U2020.jpg border=0>]</a></sup> Recall from the typographical conventions (page <span class="docEmphasis">xxii</span>) that something like "&#9758;15" is a shorthand for a reference to another page of this book.</p></blockquote></li></ul>
<p class="docText">What we have seen so far can be quite useful, but the real power comes from <span class="docEmphasis">optional</span> and <span class="docEmphasis">counting</span> elements, which we'll look at next.</p>

<a name="regex3-CHP-1-SECT-4.8"></a>
<h4 id="title-IDAHWPEQ" class="docSection2Title">1.4.8. Optional Items</h4>
<a name="IDX-CHP-1-0113"></a> 
<a name="IDX-CHP-1-0114"></a> 

<p class="docText">Let's look at matching <tt>color</tt> or <tt>colour</tt>. Since they are the same except that one has a <tt>u</tt> and the other doesn't, we can use <img src=images/U2308.jpg border=0><tt>colo<span class="docEmphStrong">u?</span>r</tt><img src=images/U230B.jpg border=0> to match either. The metacharacter <img src=images/U2308.jpg border=0><tt>?</tt><img src=images/U230B.jpg border=0> (<span class="docEmphasis">question mark</span>) means <span class="docEmphasis">optional</span>. It is placed after the character that is allowed to appear at that point in the expression, but whose existence isn't actually required to still be considered a successful match.</p>
<p class="docText">Unlike other metacharacters we have seen so far, the question mark attaches only to the immediately-preceding item. Thus, <img src=images/U2308.jpg border=0><tt>colou?r</tt><img src=images/U230B.jpg border=0> is interpreted as " <img src=images/U2308.jpg border=0><tt>c</tt><img src=images/U230B.jpg border=0> then <img src=images/U2308.jpg border=0><tt>o</tt><img src=images/U230B.jpg border=0> then <img src=images/U2308.jpg border=0><tt>l</tt><img src=images/U230B.jpg border=0> then <img src=images/U2308.jpg border=0><tt>o</tt><img src=images/U230B.jpg border=0> then <img src=images/U2308.jpg border=0><tt>u?</tt><img src=images/U230B.jpg border=0> then <img src=images/U2308.jpg border=0><tt>r</tt><img src=images/U230B.jpg border=0>."</p>
<p class="docText">The <img src=images/U2308.jpg border=0><tt>u?</tt><img src=images/U230B.jpg border=0> part is always successful: sometimes it matches a <tt>u</tt> in the text, while other times it doesn't. The whole point of the <tt>?</tt>-optional part is that it's successful either way. This isn't to say that any regular expression that contains <tt>?</tt> is always successful. For example, against '<tt>semicolon</tt>', both <img src=images/U2308.jpg border=0><tt>colo</tt><img src=images/U230B.jpg border=0> and <img src=images/U2308.jpg border=0><tt>u?</tt><img src=images/U230B.jpg border=0> are successful (matching <tt>colo</tt> and nothing, respectively). However, the final <img src=images/U2308.jpg border=0><tt>r</tt><img src=images/U230B.jpg border=0> fails, and that's what disallows <tt>semicolon</tt>, in the end, from being matched by <img src=images/U2308.jpg border=0><tt>colou?r</tt><img src=images/U230B.jpg border=0>.</p>
<p class="docText">As another example, consider matching a date that represents July fourth, with the "July" part being either <tt>July</tt> or <tt>Jul</tt>, and the "fourth" part being <tt>fourth</tt>, <tt>4th</tt>, or simply <tt>4</tt>. Of course, we could just use <img src=images/U2308.jpg border=0><tt>(July;Jul) &#8226; (fourth|4th|4)</tt><img src=images/U230B.jpg border=0>, but let's explore other ways to express the same thing.</P>
<p class="docText">First, we can shorten the <img src=images/U2308.jpg border=0><tt>(July;Jul)</tt><img src=images/U230B.jpg border=0> to <img src=images/U2308.jpg border=0><tt>(Jul<span class="docEmphStrong">y?</span>)</tt><img src=images/U230B.jpg border=0>. Do you see how they are effectively the same? The removal of the <img src=images/U2308.jpg border=0><tt>|</tt><img src=images/U230B.jpg border=0> means that the parentheses are no longer really needed. Leaving the parentheses doesn't hurt, but with them removed, <img src=images/U2308.jpg border=0><tt>July?</tt><img src=images/U230B.jpg border=0> is a bit less cluttered. This leaves us with <img src=images/U2308.jpg border=0><tt>July? &#8226; (fourth|4th|4)</tt><img src=images/U230B.jpg border=0>.</p>
<p class="docText">Moving now to the second half, we can simplify the <img src=images/U2308.jpg border=0><tt>4th|4</tt><img src=images/U230B.jpg border=0> to <img src=images/U2308.jpg border=0><tt>4(th)?</tt><img src=images/U230B.jpg border=0>. As you can see, <img src=images/U2308.jpg border=0><tt>?</tt><img src=images/U230B.jpg border=0> can attach to a parenthesized expression. Inside the parentheses can be as complex a subexpression as you like, but "from the outside" it is considered a single unit. Grouping for <img src=images/U2308.jpg border=0><tt>?</tt><img src=images/U230B.jpg border=0> (and other similar metacharacters which I'll introduce momentarily) is one of the main uses of parentheses.</P>
<p class="docText">Our expression now looks like <img src=images/U2308.jpg border=0><tt>July?&#8226;(fourth|4(th)?)</tt><img src=images/U230B.jpg border=0>. Although there are a fair number of metacharacters, and even nested parentheses, it is not that difficult to decipher and understand. This discussion of two essentially simple examples has been rather long, but in the meantime we have covered tangential topics that add a lot, if perhaps only subconsciously, to our understanding of regular expressions. Also, it's given us some experience in taking different approaches toward the same goal. As we advance through this book (and through to a better understanding), you'll find many opportunities for creative juices to flow while trying to find the optimal way to solve a complex problem. Far from being some stuffy science, writing regular expressions is closer to an art.</p>

<a name="regex3-CHP-1-SECT-4.9"></a>
<h4 id="title-IDAN0PEQ" class="docSection2Title">1.4.9. Other Quantifiers: Repetition</H4>
<a name="IDX-CHP-1-0115"></a> 
<a name="IDX-CHP-1-0116"></a> 
<a name="IDX-CHP-1-0117"></a> 
<a name="IDX-CHP-1-0118"></a> 
<a name="IDX-CHP-1-0119"></a> 
<a name="IDX-CHP-1-0120"></a> 
<a name="IDX-CHP-1-0121"></a> 
<a name="IDX-CHP-1-0122"></a> 
<a name="IDX-CHP-1-0123"></a> 

<p class="docText">Similar to the question mark are <img src=images/U2308.jpg border=0><tt>+</tt><img src=images/U230B.jpg border=0> (<span class="docEmphasis">plus</span>) and <img src=images/U2308.jpg border=0><tt>*</tt><img src=images/U230B.jpg border=0> (an asterisk, but as a regular-expression metacharacter, I prefer the term <span class="docEmphasis">star</span>). The metacharacter <img src=images/U2308.jpg border=0><tt>+</tt><img src=images/U230B.jpg border=0> means "one or more of the immediately-preceding item," and <img src=images/U2308.jpg border=0><tt>*</tt><img src=images/U230B.jpg border=0> means "any number, including none, of the item." Phrased differently, <img src=images/U2308.jpg border=0><tt>&#8943;*</tt><img src=images/U230B.jpg border=0> means "try to match it as many times as possible, but it's OK to settle for nothing if need be." The construct with plus, <img src=images/U2308.jpg border=0><tt>&#8943;+</tt><img src=images/U230B.jpg border=0>, is similar in that it also tries to match as many times as possible, but different in that it fails if it can't match at least once. These three metacharacters, question mark, plus, and star, are called <span class="docEmphasis">quantifiers</span> because they influence the quantity of what they govern.</P>
<p class="docText">Like <img src=images/U2308.jpg border=0><tt>&#8943;?</tt><img src=images/U230B.jpg border=0>, the <img src=images/U2308.jpg border=0><tt>&#8943;*</tt><img src=images/U230B.jpg border=0> part of a regular expression always succeeds, with the only issue being what text (if any) is matched. Contrast this to <img src=images/U2308.jpg border=0><tt>&#8943;+</tt><img src=images/U230B.jpg border=0>, which fails unless the item matches at least once.</P>
<p class="docText">For example, <img src=images/U2308.jpg border=0><tt>&#8226; ?</tt><img src=images/U230B.jpg border=0> allows a single optional space, but <img src=images/U2308.jpg border=0><tt>&#8226; *</tt><img src=images/U230B.jpg border=0> allows <span class="docEmphasis">any number</span> of optional spaces. We can use this to make page 9's <tt>&lt;H[1-6]&gt;</tt> example flexible. The HTML specification<sup class="docFootnote"><a class="docLink" href="#regex3-CHP-1-FN-7">[<img src=images/U2020.jpg border=0>]</a></sup> says that spaces are allowed immediately before the closing <tt>&gt;</tt>, such as with <tt>&lt;H3&#8226;&gt;</tt> and <tt>&lt;H4</tt>&#8226;&#8226;&#8226;<tt>&gt;</tt>. Inserting <img src=images/U2308.jpg border=0><tt>&#8226;*</tt><img src=images/U230B.jpg border=0> into our regular expression where we want to allow (but not require) spaces, we get <img src=images/U2308.jpg border=0><tt>&lt;H[1-6] &#8226; *&gt;</tt><img src=images/U230B.jpg border=0>. This still matches <tt>&lt;H1&gt;</tt>, as no spaces are required, but it also flexibly picks up the other versions.</P><blockquote><p class="docFootnote"><sup><a name="regex3-CHP-1-FN-7">[<img src=images/U2020.jpg border=0>]</a></sup> If you are not familiar with HTML, never fear. I use these as real-world examples, but I provide all the details needed to understand the points being made. Those familiar with parsing HTML tags will likely recognize important considerations I don't address at this point in the book.</p></blockquote>
<p class="docText">Exploring further, let's search for an HTML tag such as <tt>&lt;HR</tt> &#8226; <tt>SIZE=14&gt;</tt>, which indicates that a line (a Horizontal Rule) 14 pixels thick should be drawn across the screen. Like the <tt>&lt;H3&gt;</tt> example, optional spaces are allowed before the closing angle bracket. Additionally, they are allowed on either side of the equal sign. Finally, one space is required between the <tt>HR</tt> and <tt>SIZE</tt>, although more are allowed. To allow more, we could just add <img src=images/U2308.jpg border=0><tt>&#8226; *</tt><img src=images/U230B.jpg border=0> to the <img src=images/U2308.jpg border=0><tt>&#8226;</tt><img src=images/U230B.jpg border=0> already there, but instead let's change it to <img src=images/U2308.jpg border=0><tt>&#8226;*</tt><img src=images/U230B.jpg border=0>. The plus allows extra spaces while still requiring at least one, so it's effectively the same as <img src=images/U2308.jpg border=0><tt>&#8226;&#8226;*</tt><img src=images/U230B.jpg border=0>, but more concise. All these changes leave us with <img src=images/U2308.jpg border=0><tt>&lt;HR&#8226;<span class="docEmphStrong">+</span>SIZE&#8226;<span class="docEmphStrong">*</span> = &#8226;<span class="docEmphStrong">*</span>14 &#8226;<span class="docEmphStrong">*</span>&gt;</tt><img src=images/U230B.jpg border=0>.</p>
<p class="docText">Although flexible with respect to spaces, our expression is still inflexible with respect to the size given in the tag. Rather than find tags with only one particular size such as <tt>14</tt>, we want to find them all. To accomplish this, we replace the <img src=images/U2308.jpg border=0><tt>14</tt><img src=images/U230B.jpg border=0> with an expression to find a general number. Well, in this case, a "number" is one or more digits. A digit is <img src=images/U2308.jpg border=0><tt>[0-9]</tt><img src=images/U230B.jpg border=0>, and "one or more" adds a plus, so we end up replacing <img src=images/U2308.jpg border=0><tt>14</tt><img src=images/U230B.jpg border=0> by <img src=images/U2308.jpg border=0><tt>[0-9]+</tt><img src=images/U230B.jpg border=0>. (A character class is one "unit," so can be subject directly to plus, question mark, and so on, without the need for parentheses.)</p>
<p class="docText">This leaves us with <img src=images/U2308.jpg border=0><tt>&lt;HR&#8226;<span class="docEmphStrong">+</span>SIZE &#8226;<span class="docEmphStrong">*</span> = &#8226;<span class="docEmphStrong">*</span> [0-9]<span class="docEmphStrong">+</span> &#8226;<span class="docEmphStrong">*</span>&gt;</tt><img src=images/U230B.jpg border=0>, which is certainly a mouthful even though I've presented it with the metacharacters bold, added a bit of spacing to make the groupings more apparent, and am using the "visible space" symbol '&#8226;' for clarity. (Luckily, <span class="docEmphasis">egrep</span> has the <tt>-i</tt> case-insensitive option, &#9758;15, which means I don't have to use <img src=images/U2308.jpg border=0><tt>[Hh][Rr]</tt><img src=images/U230B.jpg border=0> instead of <img src=images/U2308.jpg border=0><tt>HR</tt><img src=images/U230B.jpg border=0>.) The unadorned regular expression <img src=images/U2308.jpg border=0><tt>&lt;HR +SIZE *= *[0-9]+ *&gt;</tt><img src=images/U230B.jpg border=0> likely appears even more confusing. This example looks particularly odd because the subjects of most of the stars and pluses are space characters, and our eye has always been trained to treat spaces specially. That's a habit you will have to break when reading regular expressions, because the space character is a normal character, no different from, say, <tt>j</tt> or <tt>4</tt>. (In later chapters, we'll see that some other tools support a special mode in which white-space is ignored, but <span class="docEmphasis">egrep</span> has no such mode.)</P>
<p class="docText">Continuing to exploit a good example, let's consider that the size attribute is optional, so you can simply use <tt>&lt;HR&gt;</tt> if the default size is wanted. (Extra spaces are allowed before the <tt>&gt;</tt>, as always.) How can we modify our regular expression so that it matches either type? The key is realizing that the size part is <span class="docEmphasis">optional</span> (that's a hint). <a class="docLink" href="#regex3-CHP-1-SIDEBAR-3">&#10070;</a> Turn the page to check your answer.</p>
<p class="docText">Take a good look at our latest expression (in the answer box) to appreciate the differences among the question mark, star, and plus, and what they really mean in practice. <a class="docLink" href="#regex3-CHP-1-TABLE-2">Table 1-2</a> on the next page summarizes their meanings.</p>
<p class="docText">Note that each quantifier has some minimum number of matches required to succeed, and a maximum number of matches that it will ever attempt. With some, the minimum number is zero; with some, the maximum number is unlimited.</P>
<a name="regex3-CHP-1-SIDEBAR-3"></a><P><table cellspacing="0" width="90%" border="1" cellpadding="5"><TR><td>
<H2 class="docSidebarTitle">Making a Subexpression Optional</H2>
<p class="docText">&#10070; <span class="docEmphasis">Answer to the question on page 19</span>.</p>
<p class="docText">In this case, "optional" means that it is allowed once, but is not required. That means using <img src=images/U2308.jpg border=0><tt>?</tt><img src=images/U230B.jpg border=0>. Since the thing that's optional is larger than one character, we must use parentheses: <img src=images/U2308.jpg border=0><tt>(&#8943;)?</tt><img src=images/U230B.jpg border=0>. Inserting into our expression, we get:</p>
<pre>
    <div><img border="0" alt="" width="213" height="14" SRC="images/regex3_u0108.jpg"></div>
</pre><br>

<p class="docText">Note that the ending <img src=images/U2308.jpg border=0><tt>&#8226;*</tt><img src=images/U230B.jpg border=0> is kept outside of the <img src=images/U2308.jpg border=0><tt>(&#8943;)?</tt><img src=images/U230B.jpg border=0>. This still allows something such as <tt>&lt;HR&#8226;&gt;</tt>. Had we included it within the parentheses, ending spaces would have been allowed only when the size component was present.</p>
<p class="docText">Similarly, notice that the <img src=images/U2308.jpg border=0><tt>&#8226;+</tt><img src=images/U230B.jpg border=0> before <tt>SIZE</tt> <span class="docEmphasis">is</span> included within the parentheses. Were it left outside them, a space would have been required after the HR, even when the <tt>SIZE</tt> part wasn't there. This would cause '<tt>&lt;HR&gt;</tt>' to not match.</P>
</td></tr></table></P><br>
<a name="regex3-CHP-1-TABLE-2"></a><p><table cellspacing="0" FRAME="hsides" RULES="all" cellpadding="4" width="100%"><caption><h5 class="docTableTitle">Table 1-2. Summary of Quantifier "Repetition Metacharacters"</h5></caption><colgroup span="4"><col><col><col><col></colgroup><thead><tr><th class="thead" scope="col" align="center"><p class="docText">&nbsp;</p></th><th class="thead" scope="col" align="center"><p class="docText">Minimum Required</p></th><th class="thead" scope="col" align="center"><p class="docText">Maximum to Try</p></th><th class="thead" scope="col" align="left"><p class="docText">Meaning</p></th></tr></thead><tr><td class="docTableCell" align="center"><p class="docText"><tt>?</tt></p></td><td class="docTableCell" align="center"><p class="docText">none</p></td><TD class="docTableCell" align="center"><p class="docText">1</p></TD><td class="docTableCell" align="left"><p class="docText">one allowed; none required ("<span class="docEmphasis">one optional</span>")</p></TD></TR><TR><TD class="docTableCell" align="center"><p class="docText"><tt>*</tt></p></TD><td class="docTableCell" align="center"><p class="docText">none</p></TD><TD class="docTableCell" align="center"><p class="docText">no limit</p></td><TD class="docTableCell" align="left"><p class="docText">unlimited allowed; none required ("<span class="docEmphasis">any amount OK</span>")</P></TD></tr><TR><TD class="docTableCell" align="center"><p class="docText"><tt>+</tt></p></td><td class="docTableCell" align="center"><p class="docText">1</p></TD><td class="docTableCell" align="center"><p class="docText">no limit</p></TD><td class="docTableCell" align="left"><p class="docText">unlimited allowed; one required ("<span class="docEmphasis">at least one</span>")</p></td></tr></table></p><br>
<a name="regex3-CHP-1-SECT-4.9.1"></a>
<h5 id="title-IDADHQEQ" class="docSection3Title">1.4.9.1. Defined range of matches: intervals</h5>
<a name="IDX-CHP-1-0124"></a> 
<a name="IDX-CHP-1-0125"></a> 
<a name="IDX-CHP-1-0126"></a> 
<a name="IDX-CHP-1-0127"></a> 
<a name="IDX-CHP-1-0128"></a> 

<p class="docText">Some versions of <span class="docEmphasis">egrep</span> support a metasequence for providing your own minimum and maximum: <img src=images/U2308.jpg border=0><tt>&#8943;{<span class="docEmphasis">min,max</span>}</tt><img src=images/U230B.jpg border=0>. This is called the <span class="docEmphasis">interval</span> quantifier. For example, <img src=images/U2308.jpg border=0><tt>&#8943;{3,12}</tt><img src=images/U230B.jpg border=0> matches up to 12 times if possible, but settles for three. One might use <img src=images/U2308.jpg border=0><tt>[a-zA-Z]{1,5}</tt><img src=images/U230B.jpg border=0> to match a US stock ticker (from one to five letters). Using this notation, <tt>{0,1}</tt> is the same as a question mark.</p>
<p class="docText">Not many versions of <span class="docEmphasis">egrep</span> support this notation yet, but many other tools do, so it's covered in <a class="docLink" href="regex3-CHP-3.html#regex3-CHP-3">Chapter 3</a> when we look in detail at the broad spectrum of metacharacters in common use today.</p>


<a name="regex3-CHP-1-SECT-4.10"></a>
<h4 id="title-IDAFJQEQ" class="docSection2Title">1.4.10. Parentheses and Backreferences</h4>
<a name="IDX-CHP-1-0129"></a> 
<a name="IDX-CHP-1-0130"></a> 
<a name="IDX-CHP-1-0131"></a> 

<p class="docText">So far, we have seen two uses for parentheses: to limit the scope of alternation, <img src=images/U2308.jpg border=0><tt>|</tt><img src=images/U230B.jpg border=0>, and to group multiple characters into larger units to which you can apply quantifiers like question mark and star. I'd like to discuss another specialized use that's not common in <span class="docEmphasis">egrep</span> (although GNU's popular version does support it), but which is commonly found in many other tools.</p>
<p class="docText">In many regular-expression flavors, parentheses can "remember" text matched by the subexpression they enclose. We'll use this in a partial solution to the doubled-word problem at the beginning of this chapter. If you knew the the specific doubled word to find (such as "the" earlier in this sentencedid you catch it?), you could search for it explicitly, such as with <img src=images/U2308.jpg border=0><tt>the&#8226;the</tt><img src=images/U230B.jpg border=0>. In this case, you would also find items such as <img border="0" alt="" width="80" height="13" SRC="images/regex3_u0109.jpg">, but you could easily get around that problem if your <span class="docEmphasis">egrep</span> supports the word-boundary metasequences <img src=images/U2308.jpg border=0><tt>\&lt;&#8943;\&gt;</tt><img src=images/U230B.jpg border=0> mentioned on page 15: <img src=images/U2308.jpg border=0><tt>\&lt;the&#8226;the\&gt;</tt><img src=images/U230B.jpg border=0>. We could use <img src=images/U2308.jpg border=0><tt>&#8226;+</tt><img src=images/U230B.jpg border=0> for the space for even more flexibility.</p>
<p class="docText">However, having to check for every possible pair of words would be an impossible task. Wouldn't it be nice if we could match one generic word, and then say "now match the same thing again"? If your <span class="docEmphasis">egrep</span> supports <span class="docEmphasis">backreferencing</span>, you can. Backreferencing is a regular-expression feature that allows you to match new text that is the same as some text matched earlier in the expression.</p>
<p class="docText">We start with <img src=images/U2308.jpg border=0><tt>\&lt;the&#8226;+the\&gt;</tt><img src=images/U230B.jpg border=0> and replace the initial <img src=images/U2308.jpg border=0><tt>the</tt><img src=images/U230B.jpg border=0> with a regular expression to match a general word, say <img src=images/U2308.jpg border=0><tt>[A-Za-z]+</tt><img src=images/U230B.jpg border=0>. Then, for reasons that will become clear in the next paragraph, let's put parentheses around it. Finally, we replace the second '<tt>the</tt>' by the special metasequence <img src=images/U2308.jpg border=0><tt>\1</tt><img src=images/U230B.jpg border=0>. This yields <img src=images/U2308.jpg border=0><tt>\&lt;([A-Za-z]+)&#8226;+\1\&gt;</tt><img src=images/U230B.jpg border=0>.</p>
<p class="docText">With tools that support backreferencing, parentheses "remember" the text that the subexpression inside them matches, and the special metasequence <img src=images/U2308.jpg border=0><tt>\1</tt><img src=images/U230B.jpg border=0> represents that text later in the regular expression, whatever it happens to be at the time.</p>
<p class="docText">Of course, you can have more than one set of parentheses in a regular expression. Use <img src=images/U2308.jpg border=0><tt>\1</tt><img src=images/U230B.jpg border=0>, <img src=images/U2308.jpg border=0><tt>\2</tt><img src=images/U230B.jpg border=0>, <img src=images/U2308.jpg border=0><tt>\3</tt><img src=images/U230B.jpg border=0>, etc., to refer to the first, second, third, etc. sets. Pairs of parentheses are numbered by counting<a name="IDX-CHP-1-0132"></a> 
 opening parentheses from the left, so with <img src=images/U2308.jpg border=0><tt>([a-z])([0-9])\1\2</tt><img src=images/U230B.jpg border=0>, the <img src=images/U2308.jpg border=0><tt>\1</tt><img src=images/U230B.jpg border=0> refers to the text matched by <img src=images/U2308.jpg border=0><tt>[a-z]</tt><img src=images/U230B.jpg border=0>, and <img src=images/U2308.jpg border=0><tt>\2</tt><img src=images/U230B.jpg border=0> refers to the text matched by <img src=images/U2308.jpg border=0><tt>[0-9]</tt><img src=images/U230B.jpg border=0></P>
<p class="docText">With our '<tt>the</tt>&#8226;<tt>the</tt>' example, <img src=images/U2308.jpg border=0><tt>[A-Za-z]+</tt><img src=images/U230B.jpg border=0> matches the first '<tt>the</tt>'. It is within the first set of parentheses, so the '<tt>the</tt>' matched becomes available via <img src=images/U2308.jpg border=0><tt>\1</tt><img src=images/U230B.jpg border=0>. If the following <img src=images/U2308.jpg border=0><tt>&#8226;+</tt><img src=images/U230B.jpg border=0> matches, the subsequent <img src=images/U2308.jpg border=0><tt>\1</tt><img src=images/U230B.jpg border=0> will require another '<tt>the</tt>'. If <img src=images/U2308.jpg border=0><tt>\1</tt><img src=images/U230B.jpg border=0> is successful, then <img src=images/U2308.jpg border=0><tt>\&gt;</tt><img src=images/U230B.jpg border=0> makes sure that we are now at an end-of-word boundary (which we wouldn't be were the text '<tt>the</tt>&#8226;<tt>theft</tt>'). If successful, we've found a repeated word. It's not always the case that that is an error (such as with "that" in this sentence), but that's for you to decide once the suspect lines are shown.</p>
<p class="docText">When I decided to include this example, I actually tried it on what I had written so far. (I used a version of <span class="docEmphasis">egrep</span> that supports both <img src=images/U2308.jpg border=0><tt>\&lt;&#8943;\&gt;</tt><img src=images/U230B.jpg border=0> and backreferencing.) To make it more useful, so that '<tt>The</tt>&#8226;<tt>the</tt>' would also be found, I used the case-insensitive <tt>-i</tt> option mentioned on page 15.<sup class="docFootnote"><a class="docLink" href="#regex3-CHP-1-FN-8">[<img src=images/U2020.jpg border=0>]</a></sup></P><blockquote><p class="docFootnote"><sup><a name="regex3-CHP-1-FN-8">[<img src=images/U2020.jpg border=0>]</a></sup> Be aware that some versions of <span class="docEmphasis">egrep</span>, including older versions of popular GNU offering, have a bug with the <tt>-i</tt> option such that it doesn't apply to backreferences. Thus, it finds "the the" but <span class="docEmphasis">not</span> "The the."</p></blockquote>
<p class="docText">Here's the command I ran:</p>
<pre>
    % egrep<a name="IDX-CHP-1-0133"></a> 
<a name="IDX-CHP-1-0134"></a> 
 -i '\&lt;([a-z]+) +\1\&gt;' <span class="docEmphasis">files&#8943;</span>
</pre><BR>

<p class="docText">I was surprised to find fourteen sets of mistakenly '<tt>doubled</tt>&#8226;<tt>doubled</tt>' words! I corrected them, and since then have built this type of regular-expression check into the tools that I use to produce the final output of this book, to ensure none creep back in.</P>
<p class="docText">As useful as this regular expression is, it is important to understand its limitations. Since <span class="docEmphasis">egrep</span> considers each line in isolation, it isn't able to find when the ending word of one line is repeated at the beginning of the next. For this, a more flexible tool is needed, and we will see some examples in the next chapter.</P>

<a name="regex3-CHP-1-SECT-4.11"></a>
<H4 id="title-IDAZOQEQ" class="docSection2Title">1.4.11. The Great Escape</h4>
<a name="IDX-CHP-1-0135"></a> 
<a name="IDX-CHP-1-0136"></a> 
<a name="IDX-CHP-1-0137"></a> 
<a name="IDX-CHP-1-0138"></a> 

<p class="docText">One important thing I haven't mentioned yet is how to actually match a character that a regular expression would normally interpret as a metacharacter. For example, if I searched for the Internet hostname<a name="IDX-CHP-1-0139"></a> 
 <tt>ega.att.com</tt> using <img src=images/U2308.jpg border=0><tt>ega.att.com</tt><img src=images/U230B.jpg border=0>, it could end up matching something like <img border="0" alt="" width="146" height="13" SRC="images/regex3_u0110.jpg">. Remember, <img src=images/U2308.jpg border=0><tt>.</tt><img src=images/U230B.jpg border=0> is a metacharacter that matches any character, including a space.</P>
<p class="docText">The metasequence to match an actual period is a period preceded by a backslash: <img src=images/U2308.jpg border=0><tt>ega\.att\.com</tt><img src=images/U230B.jpg border=0>. The sequence <img src=images/U2308.jpg border=0><tt>\.</tt><img src=images/U230B.jpg border=0> is described as an <span class="docEmphasis">escaped period</span> or <span class="docEmphasis">escaped dot</span>, and you can do this with all the normal metacharacters, except in a characterclass.<sup class="docFootnote"><a class="docLink" href="#regex3-CHP-1-FN-9">[<img src=images/U2020.jpg border=0>]</a></sup></p><blockquote><p class="docFootnote"><sup><a name="regex3-CHP-1-FN-9">[<img src=images/U2020.jpg border=0>]</a></sup> Most programming languages and tools allow you to escape characters within a character class as well, but most versions of <span class="docEmphasis">egrep</span> do not, instead treating '<tt>\</tt>' within a class as a literal backslash to be included in the list of characters.</p></blockquote>
<p class="docText">A backslash used in this way is called an "escape"when a metacharacter is escaped, it loses its special meaning and becomes a literal character. If you like, you can consider the sequence to be a special metasequence to match the literal character. It's all the same.</P>
<p class="docText">As another example, you could use <img src=images/U2308.jpg border=0><tt>\([a-zA-Z]+\)</tt><img src=images/U230B.jpg border=0> to match a word within parentheses, such as '<tt>(very)</tt>'. The backslashes in the <img src=images/U2308.jpg border=0><tt>\(</tt><img src=images/U230B.jpg border=0> and <img src=images/U2308.jpg border=0><tt>\)</tt><img src=images/U230B.jpg border=0> sequences remove the special interpretation of the parentheses, leaving them as literals to match parentheses in the text.</P>
<p class="docText">When used before a non-metacharacter, a backslash can have different meanings depending upon the version of the program. For example, we have already seen how some versions treat <img src=images/U2308.jpg border=0><tt>\&lt;</tt><img src=images/U230B.jpg border=0>, <img src=images/U2308.jpg border=0><tt>\&gt;</tt><img src=images/U230B.jpg border=0>, <img src=images/U2308.jpg border=0><tt>\1</tt><img src=images/U230B.jpg border=0>, etc. as metasequences. We will see many more examples in later chapters.</p>


<a href="7041536.html"><img src="images/pixel.jpg" alt="" width="1" height="1" border="0"></a></TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=regex3-CHP-1-SECT-3.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=regex3-CHP-1-SECT-5.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>