<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 8.2.&nbsp; Using java.util.regex</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=regex3-CHP-8-SECT-1.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=regex3-CHP-8-SECT-3.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><a name="regex3-CHP-8-SECT-2"></a>
<H3 id="title-IDA1J5HE" class="docSection1Title">8.2. Using java.util.regex</H3>
<a name="IDX-CHP-8-2802"></a> 
<a name="IDX-CHP-8-2803"></a> 

<p class="docText">The mechanics of wielding regular expressions with <tt>java.util.regex</tt> are fairly simple, with the functionality provided by only two classes, an interface, and an unchecked exception:</P>
<pre>
    java.util.regex.Pattern
    java.util.regex.Matcher
    java.util.regex.MatchResult
    java.util.regex.PatternSyntaxException<a name="IDX-CHP-8-2804"></a> 
<a name="IDX-CHP-8-2805"></a> 

</pre><BR>

<p class="docText">Informally, I'll refer to the first two simply as "pattern" and "matcher," and in many cases, these are the only classes we'll use. A <tt>Pattern</tt> object is, in short, a compiled regular expression that can be applied to any number of strings, and a <tt>Matcher</tt> object is an individual instance of that regex being applied to a specific target string.</p>
<p class="docText">New in Java<a name="IDX-CHP-8-2806"></a> 
<a name="IDX-CHP-8-2807"></a> 
 1.5, <tt>MatchResult</tt> encapsulates the data from a successful match. Match data is available from the matcher itself until the next match attempt, but can be saved by extracting it as a <tt>MatchResult</tt>.</P>
<p class="docText"><tt>PatternSyntaxException</tt> is thrown when an attempt is made to use an illformed regular expression (one such as <img src=images/U2308.jpg border=0><tt>[oops)</tt><img src=images/U230B.jpg border=0> that's not syntactically correct). It extends <tt>java.lang.IllegalAgumentException</tt> and is unchecked.</p>
<p class="docText">Here's a complete, verbose example showing a simple match:</p>
<pre>
    public class <span class="docEmphasis">SimpleRegexTest</span> {
      public static void main(String[] <span class="docEmphasis">args</span>)
      {
         String <span class="docEmphasis">myText</span> = "this is my 1st test string";
         String <span class="docEmphasis">myRegex</span> = "\\d+\\w+"; // <span class="docEmphasis">This provides for</span> <img src=images/U2308.jpg border=0>\d+\w+<img src=images/U230B.jpg border=0>
         <span class="docEmphStrong">java.util.regex</span>.Pattern <span class="docEmphasis">p</span> = <span class="docEmphStrong">java.util.regex</span>.Pattern.compile(<span class="docEmphasis">myRegex</span>);
         <span class="docEmphStrong">java.util.regex</span>.Matcher <span class="docEmphasis">m</span> = <span class="docEmphasis">p</span>.matcher(<span class="docEmphasis">myText</span>);

         if (<span class="docEmphasis">m</span>.find()) {
             String <span class="docEmphasis">matchedText</span> = <span class="docEmphasis">m</span>.group();
             int <span class="docEmphasis">matchedFrom</span> = <span class="docEmphasis">m</span>.start();
             int <span class="docEmphasis">matchedTo</span> = <span class="docEmphasis">m</span>.end();
             System.out.println("matched [" + <span class="docEmphasis">matchedText</span> + "] " +
                                "from " + <span class="docEmphasis">matchedFrom</span> +
                                " to " + <span class="docEmphasis">matchedTo</span> + ".");
         } else {
             System.out.println("didn't match");
         }
      }
    }
</pre><BR>

<p class="docText">This prints '<span class="docEmphStrong">matched [1st] from 12 to 15</span>.'. As with all examples in this chapter, names I've chosen are italicized. The parts shown in bold can be omitted if</P>
<pre>
    import java.util.regex.*;
</pre><br>

<p class="docText">is inserted at the head of the program, as with the examples in <a class="docLink" href="regex3-CHP-3.html#regex3-CHP-3">Chapter 3</a> (&#9758; 95).</P>
<p class="docText">Doing so is the standard approach, and makes the code more manageable. The rest of this chapter assumes the <tt>import</tt> statement is always supplied.</P>
<p class="docText">The object model used by <tt>java.util.regex</tt> is a bit different from most. In the previous example, notice that the <tt>Matcher</tt> object <span class="docEmphasis">m</span>, after being created by associating a <tt>Pattern</tt> object and a target string, is used to launch the actual match attempt (with its find method), and to query the results (with its <tt>group</tt>, <tt>start</tt>, and <tt>end</tt> methods).</p>
<p class="docText">This approach may seem a bit odd at first glance, but you'll quickly get used to it.</p>

<a href="7041536.html"><img src="images/pixel.jpg" alt="" width="1" height="1" border="0"></a></TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=regex3-CHP-8-SECT-1.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=regex3-CHP-8-SECT-3.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>