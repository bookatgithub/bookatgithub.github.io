<html><head>
<META http-equiv="Content-Type" content="text/html">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="B.3 Environment Configuration"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right">
	<a href="0596000855_python2-APP-B-SECT-2.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0596000855_python2-APP-B-SECT-4.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top"><A NAME="python2-APP-B-SECT-3"></A>
<H3 class="docSection1Title">B.3 Environment Configuration</H3>

<P class="docText"><A NAME="python2-IDXTERM-2677"></A> <A NAME="python2-IDXTERM-2678"></A> <A NAME="python2-IDXTERM-2679"></A>This section introduces Python
environment setup details and describes settings that impact Python
programs.
</P>

<A NAME="python2-APP-B-SECT-3.1"></A>
<H4 class="docSection2Title">B.3.1 Shell Variables</H4>

<P class="docText"><A NAME="IXT-B-336888"></A>
<A NAME="IXT-B-336889"></A>
<A NAME="IXT-B-336890"></A>
<A NAME="IXT-B-336891"></A>The
following shell environment variables (among others) are usually
important when using Python:
</P>

<A NAME="IXT-B-336892"></A><A NAME="IXT-B-336893"></A><A NAME="IXT-B-336894"></A><A NAME="IXT-B-336895"></A><DL class="docList">
<DT><I><span class="docPubcolor">PYTHONPATH</span></I></DT>
<DD>
<P class="docList"><A NAME="IXT-B-336892"></A>Python's
module file search path. If set, it is used to locate modules at run-
time when they're imported by a Python program -- Python
looks for an imported module file or package directory in each
directory listed on PYTHONPATH, from left to right. Python generally
searches the home directory of a script as well as the Python
standard source code library directory automatically, so you
don't need to add these. Hint: check
<TT>sys.path</TT> interactively to see how the path is
truly set up.
</P>
</DD><DT><I><span class="docPubcolor">PYTHONSTARTUP</span></I></DT>
<DD>
<P class="docList"><A NAME="IXT-B-336893"></A>An optional
Python initialization file. If used, set this variable to the full
path-name of a file of Python code (a module) that you want to be run
each time the Python interactive command-line interpreter starts up.
This is a convenient way to import modules you use frequently when
working interactively.
</P>
</DD><DT><I><span class="docPubcolor">PATH</span></I></DT>
<DD>
<P class="docList"><A NAME="IXT-B-336894"></A><A NAME="IXT-B-336895"></A>The operating system's executable
search path variable. It is used to locate program files when you
type their names at a command line without their full directory
paths. Add the directory containing the <TT>python</TT>
interpreter executable file (or else you must retype its directory
path each time).
</P>
</DD>
</DL>

<P class="docText">In addition, users on platforms other than Windows may need to set
variables to use Tkinter if Tcl/Tk installations cannot be found
normally. Set <TT>TK_LIBRARY</TT> and
<TT>TCL_LIBRARY</TT> variables to point to the local
<span class="docEmphasis">Tk</span> and <span class="docEmphasis">Tcl</span> library file
directories.
</P>


<A NAME="python2-APP-B-SECT-3.2"></A>
<H4 class="docSection2Title">B.3.2 Configuration Settings</H4>

<P class="docText">The <I>Examples\PP2E\Config</I> directory on the
CD (see <A class="docLink" target="_blank" HREF="http://examples.oreilly.com/python2">http://examples.oreilly.com/python2</A>)
contains example configuration files with comments for Python
variable settings. On Windows NT, you can set these variables in the
system settings GUI (more on this in a minute); on Windows 98, you
can set them from DOS batch files, which can be run from your
<I>C:\autoexec.bat</I> file to make sure they are set
every time you start your compute. For example, my
<I>autoexec</I> file includes this line:
</P>

<PRE>C:\PP2ndEd\examples\PP2E\Config\setup-pp.bat</PRE>

<P class="docText">which in turn invokes a file that contains these lines to add Python
to the system PATH, and the book examples package root to PYTHONPATH:
</P>

<PRE>REM PATH %PATH%;c:\Python20
PATH %PATH%;c:\"program files"\python

set PP2EHOME=C:\PP2ndEd\examples
set PYTHONPATH=%PP2EHOME%;%PYTHONPATH%</PRE>

<P class="docText">Pick (i.e., remove the <TT>REM</TT> from) one of the first
two lines, depending upon your Python install -- the first line
assumes a Python 2.0 default install, and the second assumes Python
1.5.2. Also change the <TT>PP2EHOME</TT> setting here to
the directory that contains the <I>PP2E</I> examples
root on your machine (the one shown works on my computer). On Linux,
my <I>~/.cshrc</I> startup file sources a
<I>setup-pp.csh</I> file that looks similar:
</P>

<PRE>setenv PATH $PATH:/usr/bin
setenv PP2EHOME /home/mark/PP2ndEd/examples
setenv PYTHONPATH $PP2EHOME:$PYTHONPATH</PRE>

<P class="docText"><A NAME="IXT-B-336896"></A>But the syntax
used to set variables varies per shell (see the
<I>PP2E</I>\<I>Config</I> CD directory
for more details). Setting the PYTHONPATH shell variable to a list of
directories like this works on most platforms, and is the typical way
to configure your module search path. On some platforms, there are
other ways to set the search path. Here are a few platform-specific
hints:
</P>

<A NAME="IXT-B-336897"></A><A NAME="IXT-B-336898"></A><A NAME="IXT-B-336899"></A><A NAME="IXT-B-336900"></A><DL class="docList">
<DT><I><span class="docPubcolor">Windows port</span></I></DT>
<DD>
<P class="docList"><A NAME="IXT-B-336897"></A>
<A NAME="IXT-B-336898"></A>The
Windows port allows the Windows registry to be used in addition to
setting PYTHONPATH in DOS. On some versions of Windows, rather than
changing <I>C:\autoexec.bat</I> and rebooting, you can
also set your path by selecting the Control Panel, picking the System
icon, clicking in the Environment Settings tab, and typing PYTHONPATH
and the path you want (e.g., <I>C:\mydir </I>) in the
resulting dialog box. Such settings are permanent, just like adding
them to <I>autoexec.bat</I>.
</P>
</DD><DT><I><span class="docPubcolor">JPython</span></I></DT>
<DD>
<P class="docList"><A NAME="IXT-B-336899"></A>
<A NAME="IXT-B-336900"></A>Under
JPython, the Java implementation of Python, the path may take the
form of -<TT>Dpath</TT> command-line arguments on the Java
command used to launch a program, or <TT>python.path</TT>
assignments in Java registry files.
</P>
</DD>
</DL>


<A NAME="python2-APP-B-SECT-3.3"></A>
<H4 class="docSection2Title">B.3.3 Configuring from a Program</H4>

<P class="docText"><A NAME="IXT-B-336901"></A>In all cases,
<TT>sys.path</TT> represents the search path to Python
scripts and is initialized from path settings in your environment
plus standard defaults. This is a normal Python list of strings that
may be changed by Python programs to configure the search path
dynamically. To extend your search path within Python, do this:
</P>

<PRE>import sys
sys.path.append('mydirpath')</PRE>

<P class="docText"><A NAME="IXT-B-336902"></A>
<A NAME="IXT-B-336903"></A>Because
shell variable settings are available to Python programs in the
built-in <TT>os.environ</TT> dictionary, a Python script
may also say something like
<TT>sys.path.append(os.environ[</TT>'<TT>MYDIR</TT>'<TT>]))</TT>
to add the directory named by the MYDIR shell variable to the Python
module search path at runtime. Because <TT>os.pathsep</TT>
gives the character used to separate directory paths on your
platform, and <TT>string.split</TT> knows how to split up
strings around delimiters, this sequence:
</P>

<PRE>import sys, os, string
path = os.environ['MYPYTHONPATH']
dirs = string.split(path, os.pathsep)
sys.path = sys.path + dirs</PRE>

<P class="docText">adds all names in the MYPYTHONPATH list setting to the module search
path in the same way that Python usually does for PYTHONPATH. Such
<TT>sys.path</TT> changes can be used to dynamically
configure the module search path from within a script. They last only
as long as the Python program or session that made them, though, so
you are usually better off setting PYTHONPATH in most
cases.<A NAME="IXTR3-7"></A> <A NAME="IXTR3-8"></A> <A NAME="IXTR3-9"></A>
</P>



<ul></ul>
</td>
</tr>
</table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right">
          <a href="0596000855_python2-APP-B-SECT-2.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0596000855_python2-APP-B-SECT-4.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
