<html><head>
<META http-equiv="Content-Type" content="text/html">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="1.11 The operator Module"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right">
	<a href="0596000960_pythonsl-CHP-1-SECT-10.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0596000960_pythonsl-CHP-1-SECT-12.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top"><A NAME="pythonsl-CHP-1-SECT-11"></A>
<H3 class="docSection1Title">1.11 The operator Module</H3>

<P class="docText">
<A NAME="IXT-1-189400"></A>
<A NAME="IXT-1-189401"></A>
The <TT>operator</TT> module provides a 
"functional" interface to the
standard operators in Python.  The functions in this module can be
used instead of some <TT>lambda</TT> constructs, when
processing data with functions like <TT>map</TT> and
<TT>filter</TT>. They are also quite popular among people who like to write obscure
code, for obvious reasons. The <TT>operator</TT> module is demonstrated in <A class="docLink" HREF="#pythonsl-CHP-1-EX-62">Example 1-62</A>.</P>


<H5 class="docExampleTitle"><A NAME="pythonsl-CHP-1-EX-62"></A>Example 1-62. Using the operator Module</H5>

<PRE>
File: operator-example-1.py

import operator

sequence = 1, 2, 4

print "add", "=&gt;", reduce(operator.add, sequence)
print "sub", "=&gt;", reduce(operator.sub, sequence)
print "mul", "=&gt;", reduce(operator.mul, sequence)
print "concat", "=&gt;", operator.concat("spam", "egg")
print "repeat", "=&gt;", operator.repeat("spam", 5)
print "getitem", "=&gt;", operator.getitem(sequence, 2)
print "indexOf", "=&gt;", operator.indexOf(sequence, 2)
print "sequenceIncludes", "=&gt;", operator.sequenceIncludes(sequence, 3)

<B>add =&gt; 7
sub =&gt; -5
mul =&gt; 8
concat =&gt; spamegg
repeat =&gt; spamspamspamspamspam

getitem =&gt; 4
indexOf =&gt; 1
sequenceIncludes =&gt; 0</B></PRE>


<P class="docText"><A class="docLink" HREF="#pythonsl-CHP-1-EX-63">Example 1-63</A> shows some <TT>operator</TT> functions that can be used to check
object types.</P>


<H5 class="docExampleTitle"><A NAME="pythonsl-CHP-1-EX-63"></A>Example 1-63. Using the operator Module for Type Checking</H5>

<PRE>
File: operator-example-2.py

import operator
import UserList

def dump(data):
    print type(data), "=&gt;",
    if operator.isCallable(data):
        print "CALLABLE",
    if operator.isMappingType(data):
        print "MAPPING",
    if operator.isNumberType(data):
        print "NUMBER",
    if operator.isSequenceType(data):
        print "SEQUENCE",
    print
        
dump(0)
dump("string")
dump("string"[0])
dump([1, 2, 3])
dump((1, 2, 3))
dump({"a": 1})
dump(len) # function
dump(UserList) # module
dump(UserList.UserList) # class
dump(UserList.UserList()) # instance

<B>&lt;type 'int'&gt; =&gt; NUMBER
&lt;type 'string'&gt; =&gt; SEQUENCE
&lt;type 'string'&gt; =&gt; SEQUENCE
&lt;type 'list'&gt; =&gt; SEQUENCE
&lt;type 'tuple'&gt; =&gt; SEQUENCE
&lt;type 'dictionary'&gt; =&gt; MAPPING
&lt;type 'builtin_function_or_method'&gt; =&gt; CALLABLE
&lt;type 'module'&gt; =&gt;
&lt;type 'class'&gt; =&gt; CALLABLE
&lt;type 'instance'&gt; =&gt; MAPPING NUMBER SEQUENCE</B></PRE>


<P class="docText">
<A NAME="IXT-1-189402"></A>
<A NAME="IXT-1-189403"></A>
<A NAME="IXT-1-189404"></A>
Note that the <TT>operator</TT> module doesn't handle object instances in a
normal fashion.  Be careful when you use the
<TT>isNumberType</TT>, <TT>isMappingType</TT>,
and <TT>isSequenceType</TT> functions.  It's easy to make
your code less flexible than it has to be.</P>

<P class="docText">Also, note that a string sequence member (a character) is also a
sequence.  If you're writing a recursive function that uses
<TT>isSequenceType</TT> to traverse an object tree, you
better not pass it an ordinary string (or anything containing one).</P>

<ul></ul>
</td>
</tr>
</table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right">
          <a href="0596000960_pythonsl-CHP-1-SECT-10.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0596000960_pythonsl-CHP-1-SECT-12.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
