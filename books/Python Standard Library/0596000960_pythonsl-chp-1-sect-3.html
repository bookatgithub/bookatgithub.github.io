<html><head>
<META http-equiv="Content-Type" content="text/html">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="1.3 The exceptions Module"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right">
	<a href="0596000960_pythonsl-CHP-1-SECT-2.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0596000960_pythonsl-CHP-1-SECT-4.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top"><A NAME="pythonsl-CHP-1-SECT-3"></A>
<H3 class="docSection1Title">1.3 The exceptions Module</H3>

<P class="docText">
<A NAME="pythonsl-IDXTERM-56"></A>
<A NAME="pythonsl-IDXTERM-57"></A>
<A NAME="IXT-1-189329"></A>


The <TT>exceptions</TT> module provides the standard exception hierarchy.  It's
automatically imported when Python starts, and the exceptions are
added to the <TT>_ _builtin_ _</TT> module.  In
other words, you usually don't need to import this module.

</P>

<P class="docText">This is a Python module in 1.5.2, and a built-in module in 2.0 and
later.</P>

<P class="docText">The following standard exceptions are defined by this module:</P>

<UL>
<LI><P class="docList">

<I>Exception</I> is used as a base
class for all exceptions.  It's strongly recommended (but not yet
required) that user exceptions are derived from this class
too.
</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189330"></A>
  <I>SystemExit(Exception)</I> is raised
by the <TT>sys.exit</TT> function.  If it propagates to
the top level without being caught by a <TT>try-except</TT>
clause, the interpreter is terminated without a traceback message.

</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189331"></A>

<I>StandardError(Exception)</I> is
used as a base class for all standard exceptions (except
<I>SystemExit</I>, that is).

</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189332"></A>


<I>KeyboardInterrupt(StandardError)</I>
is raised when the user presses Control-C (or any other interrupt
key).  Note that this may cause strange errors if you use 
"catch
all" <TT>try-except</TT>
statements.

</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189333"></A>

<I>ImportError(StandardError)</I> is
raised when Python fails to import a module.

</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189334"></A>

<I>EnvironmentError</I> is used as a base
class for exceptions that can be caused by the interpreter's
environment (that is, they're usually not caused by bugs in the
program).

</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189335"></A>
<I>IOError(EnvironmentError)</I> is used
to flag I/O-related errors.
</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189336"></A>
<I>OSError(EnvironmentError)</I> is used
to flag errors by the <TT>os</TT> module.
</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189337"></A>
<I>WindowsError(OSError)</I> is used to
flag Windows-specific errors from the <TT>os</TT>
module.
</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189338"></A>
<I>NameError(StandardError)</I> is raised
when Python fails to find a global or local name.
</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189339"></A>
<I>UnboundLocalError(NameError)</I> is
raised if your program attempts to access a local variable before it
has been assigned a value.  This exception is only used in 2.0 and
later; earlier versions raise a plain <I>NameError</I>
exception instead.
</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189340"></A>
<I>AttributeError(StandardError)</I> is
raised when Python fails to find (or assign to) an instance attribute,
a method, a module function, or any other qualified
name.
</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189341"></A>
<I>SyntaxError(StandardError)</I> is raised
when the compiler stumbles upon a syntax error.
</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189342"></A>
(2.0 and later)
<I>IndentationError(SyntaxError)</I> is raised for
syntax errors caused by bad indentation.  This exception is only used
in 2.0 and later; earlier versions raise a plain
<I>SyntaxError</I> exception
instead.
</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189343"></A>
(2.0 and later)
<I>TabError(IndentationError)</I> is raised by the
interpreter when the <I>-tt</I> option is used to check for
inconsistent indentation.  This exception is only used in 2.0 and
later; earlier versions raise a plain
<I>SyntaxError</I> exception
instead.
</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189344"></A>
<I>TypeError(StandardError)</I> is raised
when an operation cannot be applied to an object of the given
type.
</P></LI>
<LI><P class="docList">

<I>AssertionError(StandardError)</I> is
raised when an <TT>assert</TT> statement fails (if the
expression is false, that is).
</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189345"></A>
<I>LookupError(StandardError)</I> is used
as a base class for exceptions raised when a sequence or dictionary
type doesn't contain a given index or key.
</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189346"></A>
<I>IndexError(LookupError)</I> is raised
by sequence objects when the given index doesn't
exist.</P></LI>
<LI><P class="docList"><I>KeyError(LookupError)</I> is raised by
dictionary objects when the given key doesn't exist.
</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189347"></A>
<I>ArithmeticError(StandardError)</I> is
used as a base class for exceptions that are math-related.
</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189348"></A>
<I>OverflowError(ArithmeticError)</I> is
raised when an operations overflows (for example, when an integer is
too large to fit in the given type).
</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189349"></A>
<I>ZeroDivisionError(ArithmeticError)</I>
is raised when you try to divide a number by zero.
</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189350"></A>
<I>FloatingPointError(ArithmeticError)</I>
is raised when a floating point operation fails.
</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189351"></A>
<I>ValueError(StandardError)</I> is raised
if an argument has the right type, but an invalid
value.
</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189352"></A>
(2.0 and later)
<I>UnicodeError(ValueError)</I> is raised for type
problems related to the Unicode string type.  This is only used in 2.0
and later.
</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189353"></A>
<I>RuntimeError(StandardError)</I> is used
for various run-time problems, including attempts to get outside the
box when running in restricted mode, unexpected hardware problems,
etc.
</P></LI>
<LI><P class="docList">

<I>NotImplementedError(RuntimeError)</I>
can be used to flag functions that hasn't been implemented yet, or
methods that should be overridden.
</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189354"></A>
<I>SystemError(StandardError)</I> is
raised if the interpreter messes up, and knows about it.  The
exception value contains a more detailed description (usually
something cryptic, like 
"<TT>eval_code2: NULL
globals</TT>" or so).  I cannot recall ever seeing this
exception in over five years of full-time Python programming, but
maybe that's just me.
</P></LI>
<LI><P class="docList">
<A NAME="IXT-1-189355"></A>
<I>MemoryError(StandardError)</I> is
raised when the interpreter runs out of memory.  Note that this only
happens when the underlying memory allocation routines complain; you
can often send your poor computer into a mindless swapping frenzy
before that happens.
</P></LI>
</UL>


<P class="docText">

<A NAME="IXTR3-8"></A>
<A NAME="IXTR3-9"></A>
<A NAME="IXT-1-189356"></A>
You can create your own exception classes.  Just inherit from the
built-in <I>Exception</I> class (or a proper standard
exception), and override the constructor and/or
<TT>_ _str_ _</TT> method as necessary. <A class="docLink" HREF="#pythonsl-CHP-1-EX-26">Example 1-26</A> shows the <TT>exceptions</TT> module.

</P>


<H5 class="docExampleTitle"><A NAME="pythonsl-CHP-1-EX-26"></A>Example 1-26. Using the exceptions Module</H5>


<PRE>
File: exceptions-example-1.py

# python imports this module by itself, so the following
# line isn't really needed
# import exceptions

class HTTPError(Exception):
    # indicates an HTTP protocol error
    def _ _init_ _(self, url, errcode, errmsg):
        self.url = url
        self.errcode = errcode
        self.errmsg = errmsg
    def _ _str_ _(self):
        return (
            "&lt;HTTPError for %s: %s %s&gt;" %
            (self.url, self.errcode, self.errmsg)
            )

try:
    raise HTTPError("http://www.python.org/foo", 200, "Not Found")
except HTTPError, error:
    print "url", "=&gt;", error.url
    print "errcode", "=&gt;", error.errcode
    print "errmsg", "=&gt;", error.errmsg
    raise # reraise exception

<B>url =&gt; http://www.python.org/foo
errcode =&gt; 200
errmsg =&gt; Not Found
Traceback (innermost last):
  File "exceptions-example-1", line 16, in ?
HTTPError: &lt;HTTPError for http://www.python.org/foo: 200 Not Found&gt;</B></PRE>


<a href="0596000960_"><img src="FILES/pixel.gif" width="1" height="1" border="0"></a><ul></ul>
</td>
</tr>
</table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right">
          <a href="0596000960_pythonsl-CHP-1-SECT-2.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0596000960_pythonsl-CHP-1-SECT-4.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
