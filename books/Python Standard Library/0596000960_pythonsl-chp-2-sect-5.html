<html><head>
<META http-equiv="Content-Type" content="text/html">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="2.5 The StringIO Module"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right">
	<a href="0596000960_pythonsl-CHP-2-SECT-4.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0596000960_pythonsl-CHP-2-SECT-6.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top"><A NAME="pythonsl-CHP-2-SECT-5"></A>
<H3 class="docSection1Title">2.5 The StringIO Module</H3>

<P class="docText">

<A NAME="IXT-2-189474"></A>
<A NAME="IXT-2-189475"></A>

The <TT>stringio</TT> module shown in <A class="docLink" HREF="#pythonsl-CHP-2-EX-8">Example 2-8</A> implements an in-memory file object.  This object can be
used as input or output to most functions that expect a standard file
object.</P>


<H5 class="docExampleTitle"><A NAME="pythonsl-CHP-2-EX-8"></A>Example 2-8. Using the StringIO Module to Read from a Static File</H5>

<PRE>
File: stringio-example-1.py

import StringIO

MESSAGE = "That man is depriving a village somewhere of a computer scientist."

file = StringIO.StringIO(MESSAGE)

print file.read()

<B>That man is depriving a village somewhere of a computer scientist.</B></PRE>


<P class="docText">
<A NAME="IXT-2-189476"></A>

The StringIO class implements memory file versions of all
methods available for built-in file objects, plus a
<TT>getvalue</TT> method that returns the internal string
value. <A class="docLink" HREF="#pythonsl-CHP-2-EX-9">Example 2-9</A> demonstrates this method.</P>


<H5 class="docExampleTitle"><A NAME="pythonsl-CHP-2-EX-9"></A>Example 2-9. Using the StringIO Module to Write to a Memory File</H5>

<PRE>
File: stringio-example-2.py

import StringIO

file = StringIO.StringIO()
file.write("This man is no ordinary man. ")
file.write("This is Mr. F. G. Superman.")

print file.getvalue()

<B>This man is no ordinary man. This is Mr. F. G. Superman.</B></PRE>


<P class="docText"><I>StringIO</I> can be used to capture redirected
output from the Python interpreter, as shown in <A class="docLink" HREF="#pythonsl-CHP-2-EX-10">Example 2-10</A>.</P>


<H5 class="docExampleTitle"><A NAME="pythonsl-CHP-2-EX-10"></A>Example 2-10. Using the StringIO Module to Capture Output</H5>

<PRE>
File: stringio-example-3.py

import StringIO
import string, sys

stdout = sys.stdout

sys.stdout = file = StringIO.StringIO()

print """
According to Gbaya folktales, trickery and guile
are the best ways to defeat the python, king of
snakes, which was hatched from a dragon at the
world's start. -- National Geographic, May 1997
"""

sys.stdout = stdout

print string.upper(file.getvalue())

<B>ACCORDING TO GBAYA FOLKTALES, TRICKERY AND GUILE
ARE THE BEST WAYS TO DEFEAT THE PYTHON, KING OF
SNAKES, WHICH WAS HATCHED FROM A DRAGON AT THE
WORLD'S START. -- NATIONAL GEOGRAPHIC, MAY 1997</B></PRE>


<a href="0596000960_"><img src="FILES/pixel.gif" width="1" height="1" border="0"></a><ul></ul>
</td>
</tr>
</table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right">
          <a href="0596000960_pythonsl-CHP-2-SECT-4.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0596000960_pythonsl-CHP-2-SECT-6.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
