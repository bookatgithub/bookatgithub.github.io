<html><head>
<META http-equiv="Content-Type" content="text/html">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="4.2 The array Module"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right">
	<a href="0596000960_pythonsl-CHP-4-SECT-1.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0596000960_pythonsl-CHP-4-SECT-3.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top"><A NAME="pythonsl-CHP-4-SECT-2"></A>
<H3 class="docSection1Title">4.2 The array Module</H3>

<P class="docText">

<A NAME="pythonsl-IDXTERM-351"></A>
<A NAME="pythonsl-IDXTERM-352"></A>



The <TT>array</TT> module implements an efficient array storage type.  Arrays are
similar to lists, but all items must be of the same primitive type.
The type is defined when the array is created.</P>

<P class="docText">Examples 4-1 through 4-5 are simple ones.  <A class="docLink" HREF="#pythonsl-CHP-4-EX-1">Example 4-1</A> creates an
<I>array</I> object and copies the internal buffer to
a string through the <TT>tostring</TT> method.</P>


<H5 class="docExampleTitle"><A NAME="pythonsl-CHP-4-EX-1"></A>Example 4-1. Using the array Module to Convert Lists of Integers to Strings</H5>

<PRE>
File: array-example-1.py

import array

a = array.array("B", range(16)) # unsigned char
b = array.array("h", range(16)) # signed short

print a
print repr(a.tostring())

print b
print repr(b.tostring())

<B>array('B', [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15])
'\000\001\002\003\004\005\006\007\010\011\012\013\014\015\016\017'

array('h', [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15])
'\000\000\001\000\002\000\003\000\004\000\005\000\006\000\007\000
\010\000\011\000\012\000\013\000\014\000\015\000\016\000\017\000'</B></PRE>



<P class="docText">The <I>array</I> objects can be treated as ordinary
lists to some extent, as <A class="docLink" HREF="#pythonsl-CHP-4-EX-2">Example 4-2</A> shows.  You cannot concatenate arrays if they have
different type codes, though.</P>


<H5 class="docExampleTitle"><A NAME="pythonsl-CHP-4-EX-2"></A>Example 4-2. Using Arrays as Ordinary Sequences</H5>

<PRE>
File: array-example-2.py

import array

a = array.array("B", [1, 2, 3])

a.append(4)

a = a + a

a = a[2:-2]

print a
print repr(a.tostring())
for i in a:
    print i,

<B>array('B', [3, 4, 1, 2])
'\003\004\001\002'
3 4 1 2</B></PRE>


<P class="docText">This module also provides a very efficient way to turn raw binary data
into a sequence of integers (or floating point values, for that
matter), as <A class="docLink" HREF="#pythonsl-CHP-4-EX-3">Example 4-3</A> demonstrates.</P>


<H5 class="docExampleTitle"><A NAME="pythonsl-CHP-4-EX-3"></A>Example 4-3. Using Arrays to Convert Strings to Lists of Integers</H5>

<PRE>
File: array-example-3.py

import array

a = array.array("i", "fish license") # signed integer

print a
print repr(a.tostring())
print a.tolist()

<B>array('i', [1752394086, 1667853344, 1702063717])
'fish license'
[1752394086, 1667853344, 1702063717]</B></PRE>


<P class="docText">Finally, <A class="docLink" HREF="#pythonsl-CHP-4-EX-4">Example 4-4</A> shows how to use this module to determine the endianess of
the current platform.</P>


<H5 class="docExampleTitle"><A NAME="pythonsl-CHP-4-EX-4"></A>Example 4-4. Using the array Module to Determine Platform Endianess</H5>

<PRE>
File: array-example-4.py

import array

def little_endian():
    return ord(array.array("i",[1]).tostring()[0])

if little_endian():
    print "little-endian platform (intel, alpha)"
else:
    print "big-endian platform (motorola, sparc)"

<B>big-endian platform (motorola, sparc)</B></PRE>


<P class="docText">Python 2.0 and later provides a <TT>sys.byteorder</TT>
attribute, which is set to either

"<TT>little</TT>" or

"<TT>big</TT>," as you can see in <A class="docLink" HREF="#pythonsl-CHP-4-EX-5">Example 4-5</A>.</P>


<H5 class="docExampleTitle"><A NAME="pythonsl-CHP-4-EX-5"></A>Example 4-5. Using the sys.byteorder Attribute to Determine Platform
Endianess (Python 2.0)</H5>

<PRE>
File: sys-byteorder-example-1.py

import sys

# 2.0 and later
if sys.byteorder == "little":
    print "little-endian platform (intel, alpha)"
else:
    print "big-endian platform (motorola, sparc)"

<B>big-endian platform (motorola, sparc)</B></PRE>


<a href="0596000960_"><img src="FILES/pixel.gif" width="1" height="1" border="0"></a><ul></ul>
</td>
</tr>
</table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right">
          <a href="0596000960_pythonsl-CHP-4-SECT-1.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0596000960_pythonsl-CHP-4-SECT-3.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
