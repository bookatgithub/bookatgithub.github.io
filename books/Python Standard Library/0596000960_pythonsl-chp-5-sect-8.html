<html><head>
<META http-equiv="Content-Type" content="text/html">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="5.8 The ConfigParser Module"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right">
	<a href="0596000960_pythonsl-CHP-5-SECT-7.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0596000960_pythonsl-CHP-5-SECT-9.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top"><A NAME="pythonsl-CHP-5-SECT-8"></A>
<H3 class="docSection1Title">5.8 The ConfigParser Module</H3>

<P class="docText">
<A NAME="IXTR3-58"></A>
<A NAME="IXTR3-59"></A>
<A NAME="pythonsl-IDXTERM-480"></A>
<A NAME="pythonsl-IDXTERM-481"></A>





The <TT>ConfigParser</TT> module reads configuration files.</P>

<P class="docText">The files should be written in a format similar to Windows INI files.
The file contains one or more sections, separated by section names
written in brackets.  Each section can contain one or more
configuration items.</P>

<P class="docText">Here's the sample file used in <A class="docLink" HREF="#pythonsl-CHP-5-EX-16">Example 5-16</A>:</P>

<PRE>[book]
title: The Python Standard Library
author: Fredrik Lundh
email: fredrik@pythonware.com
version: 2.0-001115

[ematter]
pages: 250

[hardcopy]
pages: 350</PRE>

<P class="docText"><A class="docLink" HREF="#pythonsl-CHP-5-EX-16">Example 5-16</A> uses the <TT>ConfigParser</TT> module to read the sample configuration file.</P>


<H5 class="docExampleTitle"><A NAME="pythonsl-CHP-5-EX-16"></A>Example 5-16. Using the ConfigParser Module</H5>

<PRE>
File: configparser-example-1.py

import ConfigParser
import string

config = ConfigParser.ConfigParser()

config.read("samples/sample.ini")

# print summary
print
print string.upper(config.get("book", "title"))
print "by", config.get("book", "author"),
print  "(" + config.get("book", "email") + ")"
print
print config.get("ematter", "pages"), "pages"
print

# dump entire config file
for section in config.sections():
    print section
    for option in config.options(section):
        print " ", option, "=", config.get(section, option)

<B>THE PYTHON STANDARD LIBRARY
by Fredrik Lundh (fredrik@pythonware.com)

250 pages

book
  title = The Python Standard Library
  email = fredrik@pythonware.com
  author = Fredrik Lundh
  version = 2.0-001115
  _ _name_ _ = book
ematter
  _ _name_ _ = ematter
  pages = 250
hardcopy
  _ _name_ _ = hardcopy
  pages = 350</B></PRE>


<P class="docText">In Python 2.0, the <TT>ConfigParser</TT> module also allows you to write configuration data
to a file, as <A class="docLink" HREF="#pythonsl-CHP-5-EX-17">Example 5-17</A> shows.</P>


<H5 class="docExampleTitle"><A NAME="pythonsl-CHP-5-EX-17"></A>Example 5-17. Using the ConfigParser Module to Write Configuration Data</H5>

<PRE>
File: configparser-example-2.py

import ConfigParser
import sys

config = ConfigParser.ConfigParser()

# set a number of parameters
config.add_section("book")
config.set("book", "title", "the python standard library")
config.set("book", "author", "fredrik lundh")

config.add_section("ematter")
config.set("ematter", "pages", 250)

# write to screen
config.write(sys.stdout)

<B>[book]
title = the python standard library
author = fredrik lundh

[ematter]
pages = 250</B></PRE>


<ul></ul>
</td>
</tr>
</table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right">
          <a href="0596000960_pythonsl-CHP-5-SECT-7.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0596000960_pythonsl-CHP-5-SECT-9.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
