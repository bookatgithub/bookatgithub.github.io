<html><head>
<META http-equiv="Content-Type" content="text/html">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="7.7 The urlparse Module"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right">
	<a href="0596000960_pythonsl-CHP-7-SECT-6.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0596000960_pythonsl-CHP-7-SECT-8.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top"><A NAME="pythonsl-CHP-7-SECT-7"></A>
<H3 class="docSection1Title">7.7 The urlparse Module</H3>

<P class="docText">

<A NAME="IXT-7-189726"></A>
<A NAME="IXT-7-189727"></A>

The <TT>urlparse</TT> module contains functions to process
URLs, and to convert between URLs and platform-specific filenames. <A class="docLink" HREF="#pythonsl-CHP-7-EX-16">Example 7-16</A> demonstrates.</P>


<H5 class="docExampleTitle"><A NAME="pythonsl-CHP-7-EX-16"></A>Example 7-16. Using the urlparse Module</H5>

<PRE>
File: urlparse-example-1.py

import urlparse

print urlparse.urlparse("http://host/path;params?query#fragment")

<B>('http', 'host', '/path', 'params', 'query', 'fragment')</B></PRE>


<P class="docText">A common use is to split an HTTP URL into host and path components
(an HTTP request involves asking the host to return data identified by
the path), as shown in <A class="docLink" HREF="#pythonsl-CHP-7-EX-17">Example 7-17</A>.</P>


<H5 class="docExampleTitle"><A NAME="pythonsl-CHP-7-EX-17"></A>Example 7-17. Using the urlparse Module to Parse HTTP Locators</H5>

<PRE>
File: urlparse-example-2.py

import urlparse

scheme, host, path, params, query, fragment =\
        urlparse.urlparse("http://host/path;params?query#fragment")

if scheme == "http":
    print "host", "=&gt;", host
    if params:
        path = path + ";" + params
    if query:
        path = path + "?" + query
    print "path", "=&gt;", path

<B>host =&gt; host
path =&gt; /path;params?query</B></PRE>


<P class="docText">Alternatively, <A class="docLink" HREF="#pythonsl-CHP-7-EX-18">Example 7-18</A> shows how you can use the <TT>urlunparse</TT>
function to put the URL back together again.</P>


<H5 class="docExampleTitle"><A NAME="pythonsl-CHP-7-EX-18"></A>Example 7-18. Using the urlparse Module to Parse HTTP Locators</H5>

<PRE>
File: urlparse-example-3.py

import urlparse

scheme, host, path, params, query, fragment =\
        urlparse.urlparse("http://host/path;params?query#fragment")

if scheme == "http":
    print "host", "=&gt;", host
    print "path", "=&gt;", urlparse.urlunparse(
    (None, None, path, params, query, None)
    )

<B>host =&gt; host
path =&gt; /path;params?query</B></PRE>


<P class="docText"><A class="docLink" HREF="#pythonsl-CHP-7-EX-19">Example 7-19</A> uses the <TT>urljoin</TT> function to combine an
absolute URL with a second, possibly relative URL.</P>


<H5 class="docExampleTitle"><A NAME="pythonsl-CHP-7-EX-19"></A>Example 7-19. Using the urlparse Module to Combine Relative Locators</H5>

<PRE>
File: urlparse-example-4.py

import urlparse

base = "http://spam.egg/my/little/pony"

for path in "/index", "goldfish", "../black/cat":
    print path, "=&gt;", urlparse.urljoin(base, path)

<B>/index =&gt; http://spam.egg/index
goldfish =&gt; http://spam.egg/my/little/goldfish
../black/cat =&gt; http://spam.egg/my/black/cat</B></PRE>


<a href="0596000960_"><img src="FILES/pixel.gif" width="1" height="1" border="0"></a><ul></ul>
</td>
</tr>
</table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right">
          <a href="0596000960_pythonsl-CHP-7-SECT-6.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0596000960_pythonsl-CHP-7-SECT-8.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
