<html><head>
<META http-equiv="Content-Type" content="text/html">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="10.4 Auxiliary Modules for File I/O"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0596001886_pythonian-chp-10-sect-3.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0596001886_pythonian-chp-10-sect-5.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top"><A NAME="pythonian-CHP-10-SECT-4"></A>
<H3 class="docSection1Title">10.4 Auxiliary Modules for File I/O</H3>

<P class="docText"><A NAME="pythonian-CHP-10-ITERM-5727"></A>File objects supply all functionality that
is strictly needed for file I/O. There are some auxiliary Python
library modules, however, that offer convenient supplementary
functionality, making I/O even easier and handier in several
important special cases.</P>

<A NAME="pythonian-CHP-10-SECT-4.1"></A>
<H4 class="docSection2Title">10.4.1 The fileinput Module</H4>

<P class="docText"><A NAME="pythonian-CHP-10-ITERM-5728"></A>
<A NAME="pythonian-CHP-10-ITERM-5729"></A>
<A NAME="pythonian-CHP-10-ITERM-5730"></A>The <TT>fileinput</TT> module
lets you loop over all the lines in a list of text files. Performance
is quite good, comparable to the performance of direct iteration on
each file, since <TT>fileinput</TT> uses internal buffering
to minimize I/O. Therefore, you can use module
<TT>fileinput</TT> for line-oriented file input whenever
you find the module's rich functionality convenient,
without worrying about performance. The <TT>input</TT>
function is the main function of module <TT>fileinput</TT>,
and the module also provides a <TT>FileInput</TT> class
that supports the same functionality as the module's
functions.</P>


<A NAME="ch10-77103"></A><A NAME="pythonian-CHP-10-ITERM-5731"></A><A NAME="pythonian-CHP-10-ITERM-5732"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>close
</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>close(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Closes the whole sequence, so that iteration stops and no file
remains open.</P>

<A NAME="ch10-77104"></A><A NAME="pythonian-CHP-10-ITERM-5733"></A><A NAME="pythonian-CHP-10-ITERM-5734"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>FileInput
</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>class FileInput(<TT><I>files</I></TT>=None,<TT><I>inplace</I></TT>=0,<TT><I>backup</I></TT>='',<TT><I>bufsize</I></TT>=0)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Creates and returns an instance <TT><I>f</I></TT> of class
<TT>FileInput</TT>. Arguments are the same as for
<TT>fileinput.input</TT>, and methods of
<TT><I>f</I></TT> have the same names, arguments, and
semantics as functions of module <TT>fileinput</TT>.
<TT><I>f</I></TT> also supplies a method
<TT>readline</TT>, which reads and returns the next line.
You can use class <TT>FileInput</TT> explicitly, rather
than the single implicit instance used by the functions of module
<TT>fileinput</TT>, when you want to nest or otherwise mix
loops that read lines from more than one sequence of files.</P>

<A NAME="ch10-77105"></A><A NAME="pythonian-CHP-10-ITERM-5735"></A><A NAME="pythonian-CHP-10-ITERM-5736"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>filelineno</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>filelineno(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Returns the number of lines read so far from the file now being read.
For example, returns <TT>1</TT> if the first line has just
been read from the current file.</P>

<A NAME="ch10-77106"></A><A NAME="pythonian-CHP-10-ITERM-5737"></A><A NAME="pythonian-CHP-10-ITERM-5738"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>filename</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>filename(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Returns the name of the file being read, or <TT>None</TT>
if no line has been read yet.</P>

<A NAME="ch10-77107"></A><A NAME="pythonian-CHP-10-ITERM-5739"></A><A NAME="pythonian-CHP-10-ITERM-5740"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>input</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>input(<TT><I>files</I></TT>=None,<TT><I>inplace</I></TT>=0,<TT><I>backup</I></TT>='',<TT><I>bufsize</I></TT>=0)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Returns the sequence of lines in the files, suitable for use in a
<TT>for</TT> loop. <TT><I>files</I></TT> is a
sequence of filenames to open and read one after the other, in order.
Filename '<TT>-</TT>' means standard input
(<TT>sys.stdin</TT>). If <TT><I>files</I></TT>
is a string, it's a single filename to open and
read. If <TT><I>files</I></TT> is <TT>None</TT>,
<TT>input</TT> uses <TT>sys.argv[1:]</TT> as the
list of filenames If the sequence of filenames is empty,
<TT>input</TT> reads <TT>sys.stdin</TT>.</P>
<P class="docText">The sequence object that <TT>input</TT> returns is an
instance of class <TT>FileInput</TT>; that instance is also
the global state of module <TT>input</TT>, so all other
functions of module <TT>fileinput</TT> operate on the same
shared state. Each function of module <TT>fileinput</TT>
corresponds directly to a method of class
<TT>FileInput</TT>.</P>
<P class="docText">When <TT><I>inplace</I></TT> is false (the default),
<TT>input</TT> just reads the files. When
<TT><I>inplace</I></TT> is true, however,
<TT>input</TT> moves each file being read (except standard
input) to a backup file, and redirects standard output
(<TT>sys.stdout</TT>) to write to the file being read. This
operation lets you simulate overwriting files in-place. If
<TT><I>backup</I></TT> is a string starting with a dot,
<TT>input</TT> uses <TT><I>backup</I></TT> as
the extension of the backup files and does not remove the backup
files. If <TT><I>backup</I></TT> is an empty string (the
default), <TT>input</TT> uses extension
<I>.bak</I>, and deletes each backup file when the file
is closed.</P>
<P class="docText"><TT><I>bufsize</I></TT> is the size of the internal buffer
that <TT>input</TT> uses to read lines from the input
files. If <TT><I>bufsize</I></TT> is <TT>0</TT>,
<TT>input</TT> uses a buffer of 8192 bytes.</P>

<A NAME="ch10-77108"></A><A NAME="pythonian-CHP-10-ITERM-5741"></A><A NAME="pythonian-CHP-10-ITERM-5742"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>isfirstline</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>isfirstline(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Returns <TT>True</TT> or <TT>False</TT>, just
like <TT>filelineno( )= =1</TT>.</P>

<A NAME="ch10-77109"></A><A NAME="pythonian-CHP-10-ITERM-5743"></A><A NAME="pythonian-CHP-10-ITERM-5744"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>isstdin</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>isstdin(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Returns <TT>True</TT> if the file now being read is
<TT>sys.stdin</TT>, otherwise <TT>False</TT>.</P>

<A NAME="ch10-77110"></A><A NAME="pythonian-CHP-10-ITERM-5745"></A><A NAME="pythonian-CHP-10-ITERM-5746"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>lineno</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>lineno(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Returns the total number of lines read so far since the call to
<TT>input</TT>.</P>

<A NAME="ch10-77111"></A><A NAME="pythonian-CHP-10-ITERM-5747"></A><A NAME="pythonian-CHP-10-ITERM-5748"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>nextfile</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>nextfile(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Closes the file now being read, so that the next line to be read will
be the first one of the following file.</P>


<A NAME="pythonian-CHP-10-SECT-4.2"></A>
<H4 class="docSection2Title">10.4.2 The linecache Module</H4>

<P class="docText"><A NAME="pythonian-CHP-10-ITERM-5749"></A>
<A NAME="pythonian-CHP-10-ITERM-5750"></A>The
<TT>linecache</TT> module lets you read a given line
(specified by number) from a file with a given name. The module keeps
an internal cache, so if you need to read several lines from a file,
the operation is cheaper than opening and examining the file each
time. Module <TT>linecache</TT> exposes the following
functions.</P>


<A NAME="ch10-77113"></A><A NAME="pythonian-CHP-10-ITERM-5751"></A><A NAME="pythonian-CHP-10-ITERM-5752"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>checkcache</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>checkcache(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Ensures that the module's cache holds no stale data,
but rather reflects what's on the filesystem. Call
<TT>checkcache</TT> when the files you're
reading may have changed on the filesystem, if you need to ensure
that future calls to <TT>getline</TT> return updated
information.</P>

<A NAME="ch10-77114"></A><A NAME="pythonian-CHP-10-ITERM-5753"></A><A NAME="pythonian-CHP-10-ITERM-5754"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>clearcache</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>clearcache(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Drops the module's cache so that the memory can be
reused for other purposes. Call <TT>clearcache</TT> when
you don't need to perform any more reading for now.</P>

<A NAME="ch10-77115"></A><A NAME="pythonian-CHP-10-ITERM-5755"></A><A NAME="pythonian-CHP-10-ITERM-5756"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>getline</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>getline(<TT><I>filename</I></TT>,<TT><I>lineno</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Reads and returns the <TT><I>lineno</I></TT> line from the
text file named <TT><I>filename</I></TT>, including the
trailing <TT>\n</TT>. For any error,
<TT>getline</TT> does not raise exceptions, but rather
returns the empty string ''. If
<TT><I>filename</I></TT> is not found,
<TT>getline</TT> also looks for the file in the directories
listed in <TT>sys.path</TT>.</P>


<A NAME="pythonian-CHP-10-SECT-4.3"></A>
<H4 class="docSection2Title">10.4.3 The struct Module</H4>

<P class="docText"><A NAME="pythonian-CHP-10-ITERM-5757"></A>
<A NAME="pythonian-CHP-10-ITERM-5758"></A>The
<TT>struct</TT> module lets you pack binary data into a
string, and then unpack the bytes of such a string back into the data
they represent. Such operations can be useful for various kinds of
low-level programming. Most often, you use module
<TT>struct</TT> to interpret data records from binary files
having some specified format or to prepare records to be written to
such binary files. The module's name comes from
C's keyword <TT>struct</TT>, which is
usable for related purposes. On any error, functions of module
<TT>struct</TT> raise exceptions that are instances of
exception class <TT>struct.error</TT>, the only class that
the module supplies.</P>

<P class="docText">Operations of module <TT>struct</TT> rely on struct format
strings, which are ordinary strings that follow a specified syntax.
The first character of a format string can specify the byte order,
size, and alignment of packed data:</P>

<A NAME="pythonian-CHP-10-ITERM-5759"></A><A NAME="pythonian-CHP-10-ITERM-5760"></A><A NAME="pythonian-CHP-10-ITERM-5761"></A><A NAME="pythonian-CHP-10-ITERM-5762"></A><A NAME="pythonian-CHP-10-ITERM-5763"></A><A NAME="pythonian-CHP-10-ITERM-5764"></A><A NAME="pythonian-CHP-10-ITERM-5765"></A><A NAME="pythonian-CHP-10-ITERM-5766"></A><A NAME="pythonian-CHP-10-ITERM-5767"></A><A NAME="pythonian-CHP-10-ITERM-5768"></A><DL class="docList">
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">@</span></span><A NAME="pythonian-CHP-10-ITERM-5759"></A>
<A NAME="pythonian-CHP-10-ITERM-5760"></A></span></DT>
<DD>
<P class="docList">Native byte order, native data sizes, and native alignment for the
current platform; this is the default, if the first character is none
of the characters listed here (note that format <TT>P</TT>
in <A class="docLink" HREF="#pythonian-CHP-10-TABLE-2">Table 10-2</A> is available only for this kind of
format string)</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">=</span></span><A NAME="pythonian-CHP-10-ITERM-5761"></A>
<A NAME="pythonian-CHP-10-ITERM-5762"></A></span></DT>
<DD>
<P class="docList">Native byte order for the current platform, but standard size and
alignment</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">&lt;</span></span><A NAME="pythonian-CHP-10-ITERM-5763"></A>
<A NAME="pythonian-CHP-10-ITERM-5764"></A></span></DT>
<DD>
<P class="docList">Little-endian byte order (like Intel platforms), standard size and
alignment</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">&gt;</span></span><A NAME="pythonian-CHP-10-ITERM-5765"></A>
<A NAME="pythonian-CHP-10-ITERM-5766"></A>
<A NAME="pythonian-CHP-10-ITERM-5767"></A>
<A NAME="pythonian-CHP-10-ITERM-5768"></A>, <span class="docPubcolor"><span class="docMonofont">!</span></span></span></DT>
<DD>
<P class="docList">Big-endian byte order (network-standard), standard size and alignment</P>
</DD>
</DL>

<P class="docText">Standard sizes are indicated in <A class="docLink" HREF="#pythonian-CHP-10-TABLE-2">Table 10-2</A>.
Standard alignment means that there is no forced alignment and that
explicit pad bytes are used if needed. Native sizes and alignment are
whatever the platform's C compiler uses. Native byte
order is either little-endian or big-endian, depending on the current
platform.</P>

<P class="docText">After the optional leading character, a format string is made up of
one or more format characters that can be preceded by an optional
count (an integer represented by its decimal digits). The possible
format characters are shown in <A class="docLink" HREF="#pythonian-CHP-10-TABLE-2">Table 10-2</A>. For most
format characters, the count indicates repetition (e.g.,
'<TT>3h</TT>' is exactly the same as
'<TT>hhh</TT>'). When the format character is
<TT>s</TT> or <TT>p</TT>, indicating a string,
the count is not a repetition, but rather the total number of bytes
occupied by the string. Whitespace can be freely and innocuously used
between formats, but not between a count and its format character.</P>

<A NAME="pythonian-CHP-10-TABLE-2"></A><P><TABLE BORDER="1" CELLSPACING="0" CELLPADDING="1" WIDTH="100%">
<CAPTION><h5 class="docTableTitle">Table 10-2. Format characters for struct</h5></CAPTION><COLGROUP span="4">
<TR>
<TH class="docTableHeader">
<P class="docText">Character</P>
</TH>
<TH class="docTableHeader">
<P class="docText">C type</P>
</TH>
<TH class="docTableHeader">
<P class="docText">Python type</P>
</TH>
<TH class="docTableHeader">
<P class="docText">Standard size</P>
</TH>
</TR>
<TR>
<TD class="docTableCell">
<PRE>B</PRE>
</TD>
<TD class="docTableCell">
<PRE>unsigned char</PRE>
</TD>
<TD class="docTableCell">
<PRE>int</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">1 byte</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<PRE>b</PRE>
</TD>
<TD class="docTableCell">
<PRE>signed char</PRE>
</TD>
<TD class="docTableCell">
<PRE>int</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">1 byte</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<PRE>c</PRE>
</TD>
<TD class="docTableCell">
<PRE>char</PRE>
</TD>
<TD class="docTableCell">
<P class="docText"><TT>str</TT> (length 1)</P>
</TD>
<TD class="docTableCell">
<P class="docText">1 byte</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<PRE>d</PRE>
</TD>
<TD class="docTableCell">
<PRE>double</PRE>
</TD>
<TD class="docTableCell">
<PRE>float</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">8 bytes</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<PRE>f</PRE>
</TD>
<TD class="docTableCell">
<PRE>float</PRE>
</TD>
<TD class="docTableCell">
<PRE>float</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">4 bytes</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<PRE>H</PRE>
</TD>
<TD class="docTableCell">
<PRE>unsigned short</PRE>
</TD>
<TD class="docTableCell">
<PRE>int</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">2 bytes</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<PRE>h</PRE>
</TD>
<TD class="docTableCell">
<PRE>signed short</PRE>
</TD>
<TD class="docTableCell">
<PRE>int</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">2 bytes</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<PRE>I</PRE>
</TD>
<TD class="docTableCell">
<PRE>unsigned int</PRE>
</TD>
<TD class="docTableCell">
<PRE>long</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">4 bytes</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<PRE>i</PRE>
</TD>
<TD class="docTableCell">
<PRE>signed int</PRE>
</TD>
<TD class="docTableCell">
<PRE>int</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">4 bytes</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<PRE>L</PRE>
</TD>
<TD class="docTableCell">
<PRE>unsigned long</PRE>
</TD>
<TD class="docTableCell">
<PRE>long</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">4 bytes</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<PRE>l</PRE>
</TD>
<TD class="docTableCell">
<PRE>signed long</PRE>
</TD>
<TD class="docTableCell">
<PRE>int</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">4 bytes</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<PRE>P</PRE>
</TD>
<TD class="docTableCell">
<PRE>void*</PRE>
</TD>
<TD class="docTableCell">
<PRE>int</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">N/A</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<PRE>p</PRE>
</TD>
<TD class="docTableCell">
<PRE>char[  ]</PRE>
</TD>
<TD class="docTableCell">
<PRE>string</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">N/A</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<PRE>s</PRE>
</TD>
<TD class="docTableCell">
<PRE>char[  ]</PRE>
</TD>
<TD class="docTableCell">
<PRE>string</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">N/A</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<PRE>x</PRE>
</TD>
<TD class="docTableCell">
<PRE>padding byte</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">no value</P>
</TD>
<TD class="docTableCell">
<P class="docText">1 byte</P>
</TD>
</TR>
</COLGROUP>
</TABLE></P>

<P class="docText"><A NAME="pythonian-CHP-10-ITERM-5769"></A>Format <TT>s</TT> denotes
a fixed-length string, exactly as long as its count (the Python
string is truncated or padded with copies of the null character
'<TT>\0</TT>', if needed). Format <TT>p</TT>
denotes a Pascal-like string: the first byte is the number of
significant characters, and the characters start from the second
byte. The count indicates the total number of bytes, including the
length byte.</P>

<P class="docText">Module <TT>struct</TT> supplies the following functions.</P>


<A NAME="ch10-77117"></A><A NAME="pythonian-CHP-10-ITERM-5770"></A><A NAME="pythonian-CHP-10-ITERM-5771"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>calcsize</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>calcsize(<TT><I>fmt</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Returns the size in bytes of the structure corresponding to format
string <TT><I>fmt</I></TT>.</P>

<A NAME="ch10-77118"></A><A NAME="pythonian-CHP-10-ITERM-5772"></A><A NAME="pythonian-CHP-10-ITERM-5773"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>pack</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>pack(<TT><I>fmt</I></TT>,*<TT><I>values</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Packs the given values according to format string
<TT><I>fmt</I></TT> and returns the resulting string.
<TT><I>values</I></TT> must match in number and types the
values required by <TT><I>fmt</I></TT>.</P>

<A NAME="ch10-77119"></A><A NAME="pythonian-CHP-10-ITERM-5774"></A><A NAME="pythonian-CHP-10-ITERM-5775"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>unpack</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>unpack(<TT><I>fmt</I></TT>,<TT><I>str</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Unpacks binary string <TT><I>str</I></TT> according to
format string <TT><I>fmt</I></TT> and returns a tuple of
values.
<TT>len(</TT><TT><I>str</I></TT><TT>)</TT>
must be equal to
<TT>struct.calcsize(</TT><TT><I>fmt</I></TT><TT>)</TT>.</P>


<A NAME="pythonian-CHP-10-SECT-4.4"></A>
<H4 class="docSection2Title">10.4.4 The xreadlines Module</H4>

<P class="docText"><A NAME="pythonian-CHP-10-ITERM-5776"></A>
<A NAME="pythonian-CHP-10-ITERM-5777"></A>
<A NAME="pythonian-CHP-10-ITERM-5778"></A>
<A NAME="pythonian-CHP-10-ITERM-5779"></A>The
<TT>xreadlines</TT> module will be deprecated in Python
2.3. You should avoid it in Python 2.2, since directly iterating on a
file object is at least as fast. If you need to support Python 2.1,
module <TT>xreadlines</TT> and the
<TT>xreadlines</TT> method of file objects are a good
choice in terms of input performance. Module
<TT>fileinput</TT>, covered earlier in this chapter, is a
good compromise if your code needs to support many different versions
of Python, and still get good performance. The
<TT>xreadlines</TT> module supplies one function.</P>


<A NAME="ch10-77121"></A><A NAME="pythonian-CHP-10-ITERM-5780"></A><A NAME="pythonian-CHP-10-ITERM-5781"></A><A NAME="pythonian-CHP-10-ITERM-5782"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>xreadlines
</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>xreadlines(<TT><I>f</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Accepts argument <TT><I>f</I></TT>, which must be a file
object or a file-like object with a <TT>readlines</TT>
method like that of file objects. Returns a sequence object
<TT><I>x</I></TT> that is usable in a
<TT>for</TT> statement or as the argument to built-in
functions such as <TT>filter</TT>.
<TT><I>x</I></TT> represents the same sequence of strings
as <TT><I>f</I></TT><TT>.readlines( )</TT>, but
<TT><I>x</I></TT> does so in a lazy way, limiting memory
consumption. <TT>xreadlines</TT> is to
<TT>readlines</TT> much like <TT>xrange</TT> is
to <TT>range</TT>.<A NAME="pythonian-CHP-10-ITERM-5782"></A></P>



<a href="0596001886_"><img src="FILES/pixel.gif" width="1" height="1" border="0"></a><ul></ul>
</td>
</tr>
</table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0596001886_pythonian-chp-10-sect-3.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0596001886_pythonian-chp-10-sect-5.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
