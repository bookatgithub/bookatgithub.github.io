<html><head>
<META http-equiv="Content-Type" content="text/html">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="15.4 The array Module"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0596001886_pythonian-chp-15-sect-3.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0596001886_pythonian-chp-15-sect-5.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top"><A NAME="pythonian-CHP-15-SECT-4"></A>
<H3 class="docSection1Title">15.4 The array Module</H3>

<P class="docText"><A NAME="pythonian-CHP-15-ITERM-7149"></A> <A NAME="pythonian-CHP-15-ITERM-7150"></A>The <TT>array</TT> module
supplies a type, also called <TT>array</TT>, whose
instances are mutable sequences, like lists. An
<TT>array</TT> <TT><I>a</I></TT> is a
one-dimensional sequence whose items can be only characters, or only
numbers of one specific numeric type that is fixed when
<TT><I>a</I></TT> is created.<A NAME="pythonian-CHP-15-ITERM-7151"></A></P>

<P class="docText">The extension module <TT>Numeric</TT>, covered later in
this chapter, also supplies a type called <TT>array</TT>
that is far more powerful than <TT>array.array</TT>. For
advanced array operations and multidimensional arrays, I recommend
<TT>Numeric</TT> even if your array elements are not
numbers.<A NAME="pythonian-CHP-15-ITERM-7152"></A> <A NAME="pythonian-CHP-15-ITERM-7153"></A></P>

<P class="docText"><TT>array.array</TT><A NAME="pythonian-CHP-15-ITERM-7154"></A> is a simple type, whose main
advantage is that, compared to a list, it can save memory to hold
objects all of the same (numeric or character) type. An
<TT>array</TT> object <TT><I>a</I></TT> has a
one-character read-only attribute
<TT><I>a</I></TT><TT>.typecode</TT>, set when
<TT><I>a</I></TT> is created, that gives the type of
<TT><I>a</I></TT>'s items. <A class="docLink" HREF="#pythonian-CHP-15-TABLE-2">Table 15-2</A> shows the possible type codes for
<TT>array</TT>.</P>

<A NAME="pythonian-CHP-15-TABLE-2"></A><P><TABLE BORDER="1" CELLSPACING="0" CELLPADDING="1" WIDTH="100%">
<CAPTION><h5 class="docTableTitle">Table 15-2. Type codes for the array module</h5></CAPTION><COLGROUP span="4">
<TR>
<TH class="docTableHeader">
<P class="docText">Type code</P>
</TH>
<TH class="docTableHeader">
<P class="docText">C type</P>
</TH>
<TH class="docTableHeader">
<P class="docText">Python type</P>
</TH>
<TH class="docTableHeader">
<P class="docText">Minimum size</P>
</TH>
</TR>
<TR>
<TD class="docTableCell">
<PRE>'c'</PRE>
</TD>
<TD class="docTableCell">
<PRE>char</PRE>
</TD>
<TD class="docTableCell">
<P class="docText"><TT>str</TT> (length 1)</P>
</TD>
<TD class="docTableCell">
<P class="docText">1 byte</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<PRE>'b'</PRE>
</TD>
<TD class="docTableCell">
<PRE>char</PRE>
</TD>
<TD class="docTableCell">
<PRE>int</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">1 byte</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<PRE>'B'</PRE>
</TD>
<TD class="docTableCell">
<PRE>unsigned char</PRE>
</TD>
<TD class="docTableCell">
<PRE>int</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">1 byte</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<PRE>'h'</PRE>
</TD>
<TD class="docTableCell">
<PRE>short</PRE>
</TD>
<TD class="docTableCell">
<PRE>int</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">2 bytes</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<PRE>'H'</PRE>
</TD>
<TD class="docTableCell">
<PRE>unsigned short</PRE>
</TD>
<TD class="docTableCell">
<PRE>int</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">2 bytes</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<PRE>'i'</PRE>
</TD>
<TD class="docTableCell">
<PRE>int</PRE>
</TD>
<TD class="docTableCell">
<PRE>int</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">2 bytes</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<PRE>'I'</PRE>
</TD>
<TD class="docTableCell">
<PRE>unsigned</PRE>
</TD>
<TD class="docTableCell">
<PRE>long</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">2 bytes</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<PRE>'l'</PRE>
</TD>
<TD class="docTableCell">
<PRE>long</PRE>
</TD>
<TD class="docTableCell">
<PRE>int</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">4 bytes</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<PRE>'L'</PRE>
</TD>
<TD class="docTableCell">
<PRE>unsigned long</PRE>
</TD>
<TD class="docTableCell">
<PRE>long</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">4 bytes</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<PRE>'f'</PRE>
</TD>
<TD class="docTableCell">
<PRE>float</PRE>
</TD>
<TD class="docTableCell">
<PRE>float</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">4 bytes</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<PRE>'d'</PRE>
</TD>
<TD class="docTableCell">
<PRE>double</PRE>
</TD>
<TD class="docTableCell">
<PRE>float</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">8 bytes</P>
</TD>
</TR>
</COLGROUP>
</TABLE></P>

<P class="docText">The size in bytes of each item may be larger than the minimum,
depending on the machine's architecture, and is
available as the read-only attribute
<TT><I>a</I></TT><TT>.itemsize</TT>. Module
<TT>array</TT> supplies just one function, a factory
function called <TT>array</TT>.</P>

<A NAME="ch15-77053"></A><A NAME="pythonian-CHP-15-ITERM-7157"></A><A NAME="pythonian-CHP-15-ITERM-7158"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>array</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>array(<TT><I>typecode</I></TT>,<TT><I>init</I></TT>='')</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Creates and returns an <TT>array</TT> object
<TT><I>a</I></TT> with the given
<TT><I>typecode</I></TT>. <TT><I>init</I></TT>
can be a plain string whose length is a multiple of
<TT>itemsize</TT>; the string's bytes,
interpreted as machine values, directly initialize
<TT><I>a</I></TT>'s items. Alternatively,
<TT><I>init</I></TT> can be a list (of characters when
<TT><I>typecode</I></TT> is '<TT>c</TT>',
otherwise of numbers): each item of the list initializes one item of
<TT><I>a</I></TT>.</P>

<P class="docText"><A NAME="pythonian-CHP-15-ITERM-7159"></A>Array
objects expose all the methods and operations of mutable sequences,
as covered in <A class="docLink" HREF="0596001886_pythonian-chp-4.html#pythonian-CHP-4">Chapter 4</A>, except method
<TT>sort</TT>. Concatenation (with both
<TT>+</TT> and <TT>extend</TT>) and assignment to
slices require both operands to be arrays with the same type code
(i.e., there is no implicit coercion between sequences). In addition
to the methods of mutable sequences, an <TT>array</TT>
object <TT><I>a</I></TT> also exposes the following
methods.</P>

<A NAME="ch15-77054"></A><A NAME="pythonian-CHP-15-ITERM-7160"></A><A NAME="pythonian-CHP-15-ITERM-7161"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>byteswap</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>a</I></TT>.byteswap(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Swaps the byte order of each item of <TT><I>a</I></TT>.</P>

<A NAME="ch15-77055"></A><A NAME="pythonian-CHP-15-ITERM-7162"></A><A NAME="pythonian-CHP-15-ITERM-7163"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>fromfile</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>a</I></TT>.fromfile(<TT><I>f</I></TT>,<TT><I>n</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Reads <TT><I>n</I></TT> items, taken as machine values,
from file object <TT><I>f</I></TT>, and appends the items
to <TT><I>a</I></TT>. Note that
<TT><I>f</I></TT> should be open for reading in binary
mode, for example with mode '<TT>rb</TT>'. When less than
<TT><I>n</I></TT> items are available in
<TT><I>f</I></TT>, <TT>fromfile</TT> raises
<TT>EOFError</TT> after appending the items that are
available.</P>

<A NAME="ch15-77056"></A><A NAME="pythonian-CHP-15-ITERM-7164"></A><A NAME="pythonian-CHP-15-ITERM-7165"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>fromlist</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>a</I></TT>.fromlist(<TT><I>L</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Appends to <TT><I>a</I></TT> all items of list
<TT><I>L</I></TT>.</P>

<A NAME="ch15-77057"></A><A NAME="pythonian-CHP-15-ITERM-7166"></A><A NAME="pythonian-CHP-15-ITERM-7167"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>fromstring</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>a</I></TT>.fromstring(<TT><I>s</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Appends to <TT><I>a</I></TT> the bytes, interpreted as
machine values, of string <TT><I>s</I></TT>.
<TT>len(</TT><TT><I>s</I></TT><TT>)</TT>
must be a multiple of
<TT><I>a</I></TT><TT>.itemsize</TT>.</P>

<A NAME="ch15-77058"></A><A NAME="pythonian-CHP-15-ITERM-7168"></A><A NAME="pythonian-CHP-15-ITERM-7169"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>tofile</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>a</I></TT>.tofile(<TT><I>f</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Writes all items of <TT><I>a</I></TT>, taken as machine
values, to file object <TT><I>f</I></TT>. Note that
<TT><I>f</I></TT> should be open for reading in binary
mode, for example with mode '<TT>rb</TT>'.</P>

<A NAME="ch15-77059"></A><A NAME="pythonian-CHP-15-ITERM-7170"></A><A NAME="pythonian-CHP-15-ITERM-7171"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>tolist</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>a</I></TT>.tolist(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Creates and returns a list object with the same items as
<TT><I>a</I></TT>.</P>

<A NAME="ch15-77060"></A><A NAME="pythonian-CHP-15-ITERM-7172"></A><A NAME="pythonian-CHP-15-ITERM-7173"></A><A NAME="pythonian-CHP-15-ITERM-7174"></A><A NAME="pythonian-CHP-15-ITERM-7175"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>tostring</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>a</I></TT>.tostring(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Returns the string with the bytes from all items of
<TT><I>a</I></TT>, taken as machine values. For any
<TT><I>a</I></TT>,
<TT>len(</TT><TT><I>a</I></TT><TT>.tostring(
))</TT> always equals
<TT>len(</TT><TT><I>a</I></TT><TT>)*</TT><TT><I>a</I></TT><TT>.itemsize</TT>.
<TT><I>f</I></TT><TT>.write(</TT><TT><I>a</I></TT><TT>.tostring(
))</TT> is the same as
<TT><I>a</I></TT><TT>.tofile(</TT><TT><I>f</I></TT><TT>)</TT>.<A NAME="pythonian-CHP-15-ITERM-7174"></A> <A NAME="pythonian-CHP-15-ITERM-7175"></A></P>


<ul></ul>
</td>
</tr>
</table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0596001886_pythonian-chp-15-sect-3.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0596001886_pythonian-chp-15-sect-5.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
