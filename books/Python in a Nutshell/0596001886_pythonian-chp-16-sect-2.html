<html><head>
<META http-equiv="Content-Type" content="text/html">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="16.2 Widget Fundamentals"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0596001886_pythonian-chp-16-sect-1.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0596001886_pythonian-chp-16-sect-3.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top"><A NAME="pythonian-CHP-16-SECT-2"></A>
<H3 class="docSection1Title">16.2 Widget Fundamentals</H3>

<P class="docText"><A NAME="pythonian-CHP-16-ITERM-7374"></A>The
<TT>Tkinter</TT> module supplies many kinds of widgets, and
most of them have several things in common. All widgets are instances
of classes that inherit from class <TT>Widget</TT>. Class
<TT>Widget</TT> itself is <I>abstract</I>;
that is, you never instantiate <TT>Widget</TT> itself. You
only instantiate concrete subclasses corresponding to specific kinds
of widgets. Class <TT>Widget</TT>'s
functionality is common to all the widgets you
instantiate.<A NAME="pythonian-CHP-16-ITERM-7375"></A></P>

<P class="docText">To instantiate any kind of widget, call the widget's
class. The first argument is the parent window of the widget, also
known as the widget's <I>master</I>.
If you omit this positional argument, the widget's
master is the application's main window. All other
arguments are in named form,
<TT><I>option</I></TT><TT>=</TT><TT><I>value</I></TT>.
You can also set or change options on an existing widget
<TT><I>w</I></TT> by calling
<TT><I>w</I></TT><TT>.config(</TT><TT><I>option</I></TT><TT>=</TT><TT><I>value</I></TT><TT>)</TT>.
You can get an option of <TT><I>w</I></TT> by calling
<TT><I>w.</I></TT><TT>cget(</TT>'<TT><I>option</I></TT>'<TT>)</TT>,
which returns the option's value. Each widget
<TT><I>w</I></TT> is a mapping, so you can also get an
option as
<TT><I>w</I></TT><TT>[</TT>'<TT><I>option</I></TT>'<TT>]</TT>
and set or change it with
<TT><I>w</I></TT><TT>[</TT>'<TT><I>option</I></TT>'<TT>]=</TT><TT><I>value</I></TT>.</P>

<A NAME="pythonian-CHP-16-SECT-2.1"></A>
<H4 class="docSection2Title">16.2.1 Common Widget Options</H4>

<P class="docText"><A NAME="pythonian-CHP-16-ITERM-7376"></A>Many widgets
accept some common options. Some options affect a
widget's colors, others affect lengths (normally in
pixels), and there are various other kinds. This section details the
most commonly used options.</P>

<A NAME="pythonian-CHP-16-SECT-2.1.1"></A>
<H5 class="docSection3Title">16.2.1.1 Color options</H5>

<P class="docText"><A NAME="pythonian-CHP-16-ITERM-7377"></A>Tkinter represents colors with
strings. The string can be a color name, such as
'<TT>red</TT>' or '<TT>orange</TT>', or it may be
of the form
'<TT>#</TT><TT><I>RRGGBB</I></TT>',
where each of <TT><I>R</I></TT>,
<TT><I>G</I></TT>, and <TT><I>B</I></TT> is a
hexadecimal digit, to represent a color by the values of red, green,
and blue components on a scale of <TT>0</TT> to
<TT>255</TT>. Don't worry; if your screen
can't display millions of different colors, as
implied by this scheme; Tkinter maps any requested color to the
closest color that your screen can display. The common color options
are:</P>

<DL class="docList">
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">activebackground</span></span></span></DT>
<DD>
<P class="docList">Background color for the widget when the widget is
<I>active</I>, meaning that the mouse is over the
widget and clicking on it makes something happen</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">activeforeground</span></span></span></DT>
<DD>
<P class="docList">Foreground color for the widget when the widget is active</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">background</span></span> (also <span class="docPubcolor"><span class="docMonofont">bg</span></span>)</span></DT>
<DD>
<P class="docList">Background color for the widget</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">disabledforeground</span></span></span></DT>
<DD>
<P class="docList">Foreground color for the widget when the widget is
<I>disabled</I>, meaning that clicking on the widget is
ignored</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">foreground</span></span> (also <span class="docPubcolor"><span class="docMonofont">fg</span></span>)</span></DT>
<DD>
<P class="docList">Foreground color for the widget</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">highlightbackground</span></span></span></DT>
<DD>
<P class="docList">Background color of the highlight region when the widget has focus</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">highlightcolor</span></span></span></DT>
<DD>
<P class="docList">Foreground color of the highlight region when the widget has focus</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">selectbackground</span></span></span></DT>
<DD>
<P class="docList">Background color for the selected items of the widget, for widgets
that have selectable items, such as <TT>Listbox</TT></P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">selectforeground</span></span></span></DT>
<DD>
<P class="docList">Foreground color for the selected items of the widget</P>
</DD>
</DL>



<A NAME="pythonian-CHP-16-SECT-2.1.2"></A>
<H5 class="docSection3Title">16.2.1.2 Length options</H5>

<P class="docText"><A NAME="pythonian-CHP-16-ITERM-7378"></A>Tkinter normally expresses a length as
an integer number of pixels; other units of measure are possible, but
rarely used. The common length options are:</P>

<DL class="docList">
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">borderwidth</span></span></span></DT>
<DD>
<P class="docList">Width of the border (if any), giving a 3D look to the widget</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">highlightthickness</span></span></span></DT>
<DD>
<P class="docList">Width of the highlight rectangle when the widget has focus (when
<TT>0</TT>, the widget does not draw a highlight rectangle)</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">padx</span></span>, <span class="docPubcolor"><span class="docMonofont">pady</span></span></span></DT>
<DD>
<P class="docList">Extra space the widget requests from its geometry manager beyond the
minimum the widget needs to display its contents, in the
<TT>x</TT> and <TT>y</TT> directions</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">selectborderwidth</span></span></span></DT>
<DD>
<P class="docList">Width of the 3D border (if any) around selected items of the widget</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">wraplength</span></span></span></DT>
<DD>
<P class="docList">Maximum line length for widgets that perform word wrapping (when less
than or equal to <TT>0</TT>, no wrapping: the widget breaks
lines of text only at '<TT>\n</TT>')</P>
</DD>
</DL>



<A NAME="pythonian-CHP-16-SECT-2.1.3"></A>
<H5 class="docSection3Title">16.2.1.3 Options expressing numbers of characters</H5>

<P class="docText">Some options indicate a widget's requested geometry
not in pixels, but rather as a number of characters, using average
width or height of the widget's fonts:</P>

<DL class="docList">
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">height</span></span></span></DT>
<DD>
<P class="docList">Desired height of the widget; must be greater than or equal to
<TT>1</TT></P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">underline</span></span></span></DT>
<DD>
<P class="docList">Index of the character to underline in the widget's
text (<TT>0</TT> is the first character,
<TT>1</TT> the second one, and so on). The underlined
character also determines what shortcut key reaches or activates the
widget.</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">width</span></span></span></DT>
<DD>
<P class="docList">Desired width of the widget (when less than or equal to
<TT>0</TT>, desired width is just enough to hold the
widget's current contents)</P>
</DD>
</DL>



<A NAME="pythonian-CHP-16-SECT-2.1.4"></A>
<H5 class="docSection3Title">16.2.1.4 Other common options</H5>

<P class="docText">Other options accepted by many kinds of widgets are a mixed bag,
dealing with both behavior and presentation issues.</P>

<A NAME="pythonian-CHP-16-ITERM-7379"></A><DL class="docList">
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">anchor</span></span></span></DT>
<DD>
<P class="docList">Where the information in the widget is displayed; must be
<TT>N</TT>, <TT>NE</TT>, <TT>E</TT>,
<TT>SE</TT>, <TT>S</TT>, <TT>SW</TT>,
<TT>W</TT>, <TT>NW</TT>, or
<TT>CENTER</TT> (all except <TT>CENTER</TT> are
compass directions)</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">command</span></span></span></DT>
<DD>
<P class="docList">Callable without arguments; executes when the user clicks on the
widget (only for widgets <TT>Button</TT>,
<TT>Checkbutton</TT>, and <TT>Radiobutton</TT>)</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">font</span></span></span></DT>
<DD>
<P class="docList">Font for the text in this widget (see
<A class="docLink" HREF="0596001886_pythonian-chp-16-sect-6.html#pythonian-CHP-16-SECT-6.6">Section 16.6.6</A> later in this chapter)</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">image</span></span></span></DT>
<DD>
<P class="docList">An image to display in the widget instead of text; the value must be
a <TT>Tkinter</TT> image object (see
<A class="docLink" HREF="#pythonian-CHP-16-SECT-2.4">Section 16.2.4</A> later in this
chapter)</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">justify</span></span></span></DT>
<DD>
<P class="docList">How lines are justified when a widget shows more than a line of text;
must be <TT>LEFT</TT>, <TT>CENTER</TT>, or
<TT>RIGHT</TT></P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">relief</span></span></span></DT>
<DD>
<P class="docList">The 3D effect that indicates how the interior of the widget appears
relative to the exterior; must be <TT>RAISED</TT>,
<TT>SUNKEN</TT>, <TT>FLAT</TT>,
<TT>RIDGE</TT>, <TT>SOLID</TT>, or
<TT>GROOVE</TT></P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">state</span></span></span></DT>
<DD>
<P class="docList">Widget look and behavior on mouse and keyboard clicks; must be
<TT>NORMAL</TT>, <TT>ACTIVE</TT>, or
<TT>DISABLED</TT></P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">takefocus</span></span></span></DT>
<DD>
<P class="docList">If true, the widget accepts focus when the user navigates among
widgets by pressing the Tab or Shift-Tab keys</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">text</span></span></span></DT>
<DD>
<P class="docList">The text string displayed by the widget</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">textvariable</span></span></span></DT>
<DD>
<P class="docList">The <TT>Tkinter</TT> variable object associated with the
widget (see <A class="docLink" HREF="#pythonian-CHP-16-SECT-2.3">Section 16.2.3</A> later in this chapter)<A NAME="pythonian-CHP-16-ITERM-7379"></A></P>
</DD>
</DL>



<A NAME="pythonian-CHP-16-SECT-2.2"></A>
<H4 class="docSection2Title">16.2.2 Common Widget Methods</H4>

<P class="docText">A widget <TT><I>w</I></TT> supplies many methods. Besides
event-related methods, mentioned in
<A class="docLink" HREF="0596001886_pythonian-chp-16-sect-9.html#pythonian-CHP-16-SECT-9">Section 16.9</A> later in this chapter,
commonly used widget methods are the following.</P>

<A NAME="ch16-77014"></A><A NAME="pythonian-CHP-16-ITERM-7380"></A><A NAME="pythonian-CHP-16-ITERM-7381"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>cget</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>w</I></TT>.cget(<TT><I>option</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><A NAME="pythonian-CHP-16-ITERM-7380"></A> <A NAME="pythonian-CHP-16-ITERM-7381"></A>Returns the value configured in
<TT><I>w</I></TT> for <TT><I>option</I></TT>.</P>

<A NAME="ch16-77015"></A><A NAME="pythonian-CHP-16-ITERM-7382"></A><A NAME="pythonian-CHP-16-ITERM-7383"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>config</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>w</I></TT>.config(**<TT><I>options</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><TT><I>w</I></TT><A NAME="pythonian-CHP-16-ITERM-7382"></A>
<A NAME="pythonian-CHP-16-ITERM-7383"></A><TT>.config( )</TT>, without
arguments, returns a dictionary where each possible option of
<TT><I>w</I></TT> is mapped to a tuple that describes it.
Called with one or more named arguments, <TT>config</TT>
sets those options in <TT><I>w</I></TT>'s
configuration.</P>

<A NAME="ch16-77016"></A><A NAME="pythonian-CHP-16-ITERM-7384"></A><A NAME="pythonian-CHP-16-ITERM-7385"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>focus_set</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>w</I></TT>.focus_set(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Sets focus to <TT><I>w</I></TT>, so that all keyboard
events for the application are sent to <TT><I>w</I></TT>.</P>

<A NAME="ch16-77017"></A><A NAME="pythonian-CHP-16-ITERM-7386"></A><A NAME="pythonian-CHP-16-ITERM-7387"></A><A NAME="pythonian-CHP-16-ITERM-7388"></A><A NAME="pythonian-CHP-16-ITERM-7389"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>grab_set,grab_release</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>w</I></TT>.grab_set(  ) 
<TT><I>w</I></TT>.grab_release(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><TT>grab_set</TT> ensures that all of the
application's events are sent to
<TT><I>w</I></TT> until a corresponding call to
<TT>grab_release</TT>.</P>

<A NAME="ch16-77018"></A><A NAME="pythonian-CHP-16-ITERM-7390"></A><A NAME="pythonian-CHP-16-ITERM-7391"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>mainloop</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>w</I></TT>.mainloop(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><A NAME="pythonian-CHP-16-ITERM-7390"></A> <A NAME="pythonian-CHP-16-ITERM-7391"></A>Enters a Tkinter event loop. Event
loops may be nested; each call to <TT>mainloop</TT> enters
one further-nested level of the event loop.</P>

<A NAME="ch16-77019"></A><A NAME="pythonian-CHP-16-ITERM-7392"></A><A NAME="pythonian-CHP-16-ITERM-7393"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>quit</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>w</I></TT>.quit(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><A NAME="pythonian-CHP-16-ITERM-7392"></A> <A NAME="pythonian-CHP-16-ITERM-7393"></A>Quits a Tkinter event loop. When event
loops are nested; each call to <TT>quit</TT> exits one
nested level of the event loop.</P>

<A NAME="ch16-77020"></A><A NAME="pythonian-CHP-16-ITERM-7394"></A><A NAME="pythonian-CHP-16-ITERM-7395"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>update</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>w</I></TT>.update(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Handles all pending events. <span class="docEmphasis">Never</span> call this
while handling an event!</P>

<A NAME="ch16-77021"></A><A NAME="pythonian-CHP-16-ITERM-7396"></A><A NAME="pythonian-CHP-16-ITERM-7397"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>update_idletasks</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>w</I></TT>.update_idletasks(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Handles those pending events that would normally be handled only when
the event loop is idle (such as layout-manager updates and widget
redrawing) but does not perform any callbacks. You can safely call
this method at any time.</P>

<A NAME="ch16-77022"></A><A NAME="pythonian-CHP-16-ITERM-7398"></A><A NAME="pythonian-CHP-16-ITERM-7399"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>wait_variable</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>w</I></TT>.wait_variable(<TT><I>v</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><TT><I>v</I></TT> must be a <TT>Tkinter</TT>
variable object (covered in the next section).
<TT>wait_variable</TT> returns only when the value of
<TT><I>v</I></TT> changes. Meanwhile, other parts of the
application remain active.</P>

<A NAME="ch16-77023"></A><A NAME="pythonian-CHP-16-ITERM-7400"></A><A NAME="pythonian-CHP-16-ITERM-7401"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>wait_visibility</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>w</I></TT>.wait_visibility(<TT><I>w1</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><TT><I>w1</I></TT> must be a widget.
<TT>wait_visibility</TT> returns only when
<TT><I>w1</I></TT> becomes visible. Meanwhile, other parts
of the application remain active.</P>

<A NAME="ch16-77024"></A><A NAME="pythonian-CHP-16-ITERM-7402"></A><A NAME="pythonian-CHP-16-ITERM-7403"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>wait_window</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>w</I></TT>.wait_window(<TT><I>w1</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><TT><I>w1</I></TT><A NAME="pythonian-CHP-16-ITERM-7402"></A> <A NAME="pythonian-CHP-16-ITERM-7403"></A> must be a widget.
<TT>wait_window</TT> returns only when
<TT><I>w1</I></TT> is destroyed. Meanwhile, other parts of
the application remain active.</P>

<A NAME="ch16-77025"></A><A NAME="pythonian-CHP-16-ITERM-7404"></A><A NAME="pythonian-CHP-16-ITERM-7405"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>winfo_height</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>w</I></TT>.winfo_height(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Returns <TT><I>w</I></TT>'s height in
pixels.</P>

<A NAME="ch16-77026"></A><A NAME="pythonian-CHP-16-ITERM-7406"></A><A NAME="pythonian-CHP-16-ITERM-7407"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>winfo_width</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>w</I></TT>.winfo_width(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Returns <TT><I>w</I></TT>'s width in
pixels.</P>

<P class="docText"><TT><I>w</I></TT> supplies many other methods whose names
start with <TT>winfo_</TT>, but the two above are the most
often called, typically after calling
<TT><I>w</I></TT><TT>.update_idletasks</TT>.
They let you ascertain a widget's dimensions after
the user has resized a window, causing the layout manager to
rearrange the widgets' geometry.<A NAME="pythonian-CHP-16-ITERM-7408"></A></P>


<A NAME="pythonian-CHP-16-SECT-2.3"></A>
<H4 class="docSection2Title">16.2.3 Tkinter Variable Objects</H4>

<P class="docText"><A NAME="pythonian-CHP-16-ITERM-7409"></A>The <TT>Tkinter</TT> module
supplies classes whose instances represent variables. Each class
deals with a specific data type: <TT>DoubleVar</TT> for
<TT>float</TT>, <TT>IntVar</TT> for
<TT>int</TT>, <TT>StringVar</TT> for
<TT>str</TT>. You can instantiate any of these classes
without arguments to obtain an instance <TT><I>x</I></TT>,
also known in <TT>Tkinter</TT> as a
<I>variable</I> <I>object</I>. Then,
<TT><I>x</I></TT><TT>.set(</TT><TT><I>datum</I></TT><TT>)</TT>
sets <TT><I>x</I></TT>'s value to the
given value, and <TT><I>x</I></TT><TT>.get(
)</TT> returns <TT><I>x</I></TT>'s
current value.</P>

<P class="docText">You can pass <TT><I>x</I></TT> as the
<TT>textvariable</TT> or <TT>variable</TT>
configuration option for a widget. Once you do this, the
widget's text changes to track any change to
<TT><I>x</I></TT>'s value, and
<TT><I>x</I></TT>'s value, in turn,
tracks changes to the widget (for some kinds of widgets). Further, a
single <TT>Tkinter</TT> variable can control more than one
widget. <TT>Tkinter</TT> variables let you control widget
contents more transparently, and sometimes more conveniently, than
explicitly querying and setting widget properties. The following
example shows how to use a <TT>StringVar</TT> to connect an
<TT>Entry</TT> widget and a <TT>Label</TT> widget
automatically:</P>

<PRE>import Tkinter

root = Tkinter.Tk(  )
tv = Tkinter.StringVar(  )
Tkinter.Label(textvariable=tv).pack(  )
Tkinter.Entry(textvariable=tv).pack(  )
tv.set('Welcome!')
Tkinter.Button(text="Exit", command=root.quit).pack(  )

Tkinter.mainloop(  )
print tv.get(  )</PRE>

<P class="docText">As you edit the <TT>Entry</TT>, you'll see
the <TT>Label</TT> change automatically. This example
instantiates the <TT>Tkinter</TT> main window explicitly,
binds it to name <TT><I>root</I></TT>, and then sets as
the <TT>Button</TT>'s command the bound
method <TT><I>root</I></TT><TT>.quit</TT>, which
quits <TT>Tkinter</TT>'s main loop but
does not terminate the Python application. Thus, the example ends
with a <TT>print</TT> statement, to show on standard output
the final value of variable object <TT><I>tv</I></TT>.</P>


<A NAME="pythonian-CHP-16-SECT-2.4"></A>
<H4 class="docSection2Title">16.2.4 Tkinter Images</H4>

<P class="docText"><A NAME="pythonian-CHP-16-ITERM-7410"></A>
<A NAME="pythonian-CHP-16-ITERM-7411"></A> <A NAME="pythonian-CHP-16-ITERM-7412"></A>
<A NAME="pythonian-CHP-16-ITERM-7413"></A>
<A NAME="pythonian-CHP-16-ITERM-7414"></A>
<A NAME="pythonian-CHP-16-ITERM-7415"></A>
<A NAME="pythonian-CHP-16-ITERM-7416"></A>The <TT>Tkinter</TT> class
<TT>PhotoImage</TT> supports Graphical Interchange Format
(GIF) and Portable PixMap (PPM) images. You instantiate class
<TT>PhotoImage</TT> with a keyword argument
<TT>file=</TT><TT><I>path</I></TT> to load the
image's data from the image file at the given
<TT><I>path</I></TT> and get an instance
<TT><I>x</I></TT>.</P>

<P class="docText">You can set <TT><I>x</I></TT> as the
<TT>image</TT> configuration option for one or more
widgets. When you do this, the widget displays the image rather than
text. If you need image processing functionality and support for many
image formats (including JPEG, PNG, and TIFF), use PIL, the Python
Imaging Library (<A class="docLink" target="_blank" HREF="http://www.pythonware.com/products/pil/default.htm">http://www.pythonware.com/products/pil/</A>),
designed to work with <TT>Tkinter</TT>. I do not cover PIL
further in this book.<A NAME="pythonian-CHP-16-ITERM-7417"></A> <A NAME="pythonian-CHP-16-ITERM-7418"></A></P>

<P class="docText"><TT>Tkinter</TT><A NAME="pythonian-CHP-16-ITERM-7419"></A> also supplies class
<TT>BitmapImage</TT>, whose instances are usable wherever
instances of <TT>PhotoImage</TT> are.
<TT>BitmapImage</TT> supports some file formats known as
bitmaps. I do not cover <TT>BitmapImage</TT> further in
this book.</P>

<P class="docText">Being set as the <TT>image</TT> configuration option of a
widget does not suffice to keep instances of
<TT>PhotoImage</TT> and <TT>BitmapImage</TT>
alive. Be sure to hold such instances in a Python container object,
typically a list or dictionary, to ensure that the instances are not
garbage-collected. The following example shows how to display GIF
images:</P>

<PRE>import os
import Tkinter

root = Tkinter.Tk(  )
L = Tkinter.Listbox(selectmode=Tkinter.SINGLE)
gifsdict = {  }

dirpath = 'imgs'
for gifname in os.listdir(dirpath):
    if not gifname[0].isdigit(  ): continue
    gifpath = os.path.join(dirpath, gifname)
    gif = Tkinter.PhotoImage(file=gifpath)
    gifsdict[gifname] = gif
    L.insert(Tkinter.END, gifname)

L.pack(  )
img = Tkinter.Label(  )
img.pack(  )
def list_entry_clicked(*ignore):
    imgname = L.get(L.curselection(  )[0])
img.config(image=gifsdict[imgname])
L.bind('&lt;ButtonRelease-1&gt;', list_entry_clicked)
root.mainloop(  )</PRE>

<P class="docText">Assuming you have in some directory ('<TT>imgs</TT>' in the
example) several GIF files whose filenames start with digits, the
example loads the images into memory, shows the filenames in a
<TT>Listbox</TT> instance, and shows in a
<TT>Label</TT> instance the GIF whose filename you click
on. Note that for simplicity, the example does not give the
<TT>Listbox</TT> widget a <TT>Scrollbar</TT>
(we'll see how to equip a <TT>Listbox</TT>
with a <TT>Scrollbar</TT> shortly).</P>



<ul></ul>
</td>
</tr>
</table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0596001886_pythonian-chp-16-sect-1.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0596001886_pythonian-chp-16-sect-3.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
