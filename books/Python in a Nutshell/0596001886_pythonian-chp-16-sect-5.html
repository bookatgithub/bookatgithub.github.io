<html><head>
<META http-equiv="Content-Type" content="text/html">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="16.5 Menus"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0596001886_pythonian-chp-16-sect-4.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0596001886_pythonian-chp-16-sect-6.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top"><A NAME="pythonian-CHP-16-SECT-5"></A>
<H3 class="docSection1Title">16.5 Menus</H3>

<P class="docText"><A NAME="pythonian-CHP-16-ITERM-7528"></A>
<A NAME="pythonian-CHP-16-ITERM-7529"></A>Class <TT>Menu</TT> implements
all kinds of menus: menubars of top-level windows, submenus, and
pop-up menus. To use a <TT>Menu</TT> instance
<TT><I>m</I></TT> as the menubar for a top-level window
<TT><I>w</I></TT>, set
<TT><I>w</I></TT>'s configuration option
<TT>menu=</TT><TT><I>m</I></TT>. To use
<TT><I>m</I></TT> as a submenu of a
<TT>Menu</TT> instance <TT><I>x</I></TT>, call
<TT><I>x</I></TT><TT>.add_cascade</TT> with a
named argument <TT>menu=</TT><TT><I>m</I></TT>.
To use <TT><I>m</I></TT> as a pop-up menu, call method
<TT><I>m</I></TT><TT>.post</TT>.<A NAME="pythonian-CHP-16-ITERM-7530"></A>
<A NAME="pythonian-CHP-16-ITERM-7531"></A></P>

<P class="docText">Besides configuration options covered in <A class="docLink" HREF="0596001886_pythonian-chp-16-sect-2.html#pythonian-CHP-16-SECT-2.1">Section 16.2.1</A> earlier in this chapter, a
<TT>Menu</TT> instance <TT><I>m</I></TT>
supports option
<TT>postcommand=</TT><TT><I>callable</I></TT>.
<TT>Tkinter</TT> calls <TT><I>callable</I></TT>
without arguments each time it is about to display
<TT><I>m</I></TT> (whether because of a call to
<TT><I>m</I></TT><TT>.post</TT> or because of
user actions). You can use this option to update a dynamic menu just
in time when necessary.</P>

<P class="docText">By default, a <TT>Tkinter</TT> menu shows a tear-off entry
(a dashed line before other entries), which lets the user get a copy
of the menu in a separate <TT>Toplevel</TT> window. Since
such tear-offs are not part of user interface standards on popular
platforms, you may want to disable tear-off functionality by using
configuration option <TT>tearoff=0</TT> for the menu.</P>

<A NAME="pythonian-CHP-16-SECT-5.1"></A>
<H4 class="docSection2Title">16.5.1 Menu-Specific Methods</H4>

<P class="docText">Besides methods common to all widgets, an instance
<TT><I>m</I></TT> of class <TT>Menu</TT>
supplies several menu-specific methods.</P>

<A NAME="ch16-77070"></A><A NAME="pythonian-CHP-16-ITERM-7532"></A><A NAME="pythonian-CHP-16-ITERM-7533"></A><A NAME="pythonian-CHP-16-ITERM-7534"></A><A NAME="pythonian-CHP-16-ITERM-7535"></A><A NAME="pythonian-CHP-16-ITERM-7536"></A><A NAME="pythonian-CHP-16-ITERM-7537"></A><A NAME="pythonian-CHP-16-ITERM-7538"></A><A NAME="pythonian-CHP-16-ITERM-7539"></A><A NAME="pythonian-CHP-16-ITERM-7540"></A><A NAME="pythonian-CHP-16-ITERM-7541"></A><A NAME="pythonian-CHP-16-ITERM-7542"></A><A NAME="pythonian-CHP-16-ITERM-7543"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>add, add_cascade, add_checkbutton, add_command, add_radiobutton, add_separator


</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>m</I></TT>.add(<TT><I>entry_kind</I></TT>, **<TT><I>entry_options</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><A NAME="pythonian-CHP-16-ITERM-7536"></A> <A NAME="pythonian-CHP-16-ITERM-7537"></A> <A NAME="pythonian-CHP-16-ITERM-7538"></A> <A NAME="pythonian-CHP-16-ITERM-7539"></A> <A NAME="pythonian-CHP-16-ITERM-7540"></A> <A NAME="pythonian-CHP-16-ITERM-7541"></A>Adds after
<TT><I>m</I></TT>'s existing entries a
new entry whose kind is the string
<TT><I>entry_kind</I></TT>, which is one of the strings
'<TT>cascade</TT>', '<TT>checkbutton</TT>',
'<TT>command</TT>', '<TT>radiobutton</TT>', or
'<TT>separator</TT>'. <A class="docLink" HREF="#pythonian-CHP-16-SECT-5.2">Section 16.5.2</A> later in this chapter covers entry kinds
and options.</P>
<P class="docText">Methods whose names start with <TT>add_</TT> work just like
method <TT>add</TT>, but they accept no positional
argument; what kind of entry each method adds is implied by the
method's name.<A NAME="pythonian-CHP-16-ITERM-7542"></A> <A NAME="pythonian-CHP-16-ITERM-7543"></A></P>

<A NAME="ch16-77071"></A><A NAME="pythonian-CHP-16-ITERM-7544"></A><A NAME="pythonian-CHP-16-ITERM-7545"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>delete
</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>m</I></TT>.delete(<TT><I>i</I></TT>[,<TT><I>j</I></TT>])</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><TT><I>m</I></TT><TT>.delete(</TT><TT><I>i</I></TT><TT>)</TT>
removes <TT><I>m</I></TT>'s
<TT><I>i</I></TT> entry.
<TT><I>m</I></TT><TT>.delete(</TT><TT><I>i</I></TT>,<TT><I>j</I></TT><TT>)</TT>
removes <TT><I>m</I></TT>'s entries from
the <TT><I>i</I></TT> one to the
<TT><I>j</I></TT> one, included. The first entry has index
<TT>0</TT>.</P>

<A NAME="ch16-77072"></A><A NAME="pythonian-CHP-16-ITERM-7546"></A><A NAME="pythonian-CHP-16-ITERM-7547"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>entryconfigure, entryconfig</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>m</I></TT>.entryconfigure(<TT><I>i</I></TT>, **<TT><I>entry_options</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Changes entry options for
<TT><I>m</I></TT>'s
<TT><I>i</I></TT> entry. <TT>entryconfig</TT> is
an exact synonym.</P>

<A NAME="ch16-77073"></A><A NAME="pythonian-CHP-16-ITERM-7548"></A><A NAME="pythonian-CHP-16-ITERM-7549"></A><A NAME="pythonian-CHP-16-ITERM-7550"></A><A NAME="pythonian-CHP-16-ITERM-7551"></A><A NAME="pythonian-CHP-16-ITERM-7552"></A><A NAME="pythonian-CHP-16-ITERM-7553"></A><A NAME="pythonian-CHP-16-ITERM-7554"></A><A NAME="pythonian-CHP-16-ITERM-7555"></A><A NAME="pythonian-CHP-16-ITERM-7556"></A><A NAME="pythonian-CHP-16-ITERM-7557"></A><A NAME="pythonian-CHP-16-ITERM-7558"></A><A NAME="pythonian-CHP-16-ITERM-7559"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>insert, insert_cascade,  insert_checkbutton, insert_command, insert_radiobutton, insert_separator</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>m</I></TT>.insert(<TT><I>i</I></TT>,<TT><I>entry_kind</I></TT>, **<TT><I>entry_options</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Adds before <TT><I>m</I></TT>'s entry
<TT><I>i</I></TT> a new entry whose kind is the string
<TT><I>entry_kind</I></TT>, which is one of the strings
'<TT>cascade</TT>', '<TT>checkbutton</TT>',
'<TT>command</TT>', '<TT>radiobutton</TT>', or
'<TT>separator</TT>'. <A class="docLink" HREF="#pythonian-CHP-16-SECT-5.2">Section 16.5.2</A> later in this chapter covers entry kinds
and options. <A NAME="pythonian-CHP-16-ITERM-7554"></A> <A NAME="pythonian-CHP-16-ITERM-7555"></A> <A NAME="pythonian-CHP-16-ITERM-7556"></A> <A NAME="pythonian-CHP-16-ITERM-7557"></A></P>
<P class="docText"><A NAME="pythonian-CHP-16-ITERM-7558"></A> <A NAME="pythonian-CHP-16-ITERM-7559"></A>Methods whose names start with
<TT>insert_</TT> work just like method
<TT>insert</TT>, except that they don't
accept a second positional argument; what kind of entry each method
inserts is implied by the method's name.</P>

<A NAME="ch16-77074"></A><A NAME="pythonian-CHP-16-ITERM-7560"></A><A NAME="pythonian-CHP-16-ITERM-7561"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>invoke</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>m</I></TT>.invoke(<TT><I>i</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Invokes <TT><I>m</I></TT>'s
<TT><I>i</I></TT> entry, just as if the user clicked on
it.</P>

<A NAME="ch16-77075"></A><A NAME="pythonian-CHP-16-ITERM-7562"></A><A NAME="pythonian-CHP-16-ITERM-7563"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>post</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>m</I></TT>.post(<TT><I>x</I></TT>,<TT><I>y</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Displays <TT><I>m</I></TT> as a pop-up menu, with
<TT><I>m</I></TT>'s upper left corner at
coordinates <TT><I>x</I></TT>,<TT><I>y</I></TT>
(offsets in pixels from upper left corner of
<TT>Tkinter</TT>'s root window).</P>

<A NAME="ch16-77076"></A><A NAME="pythonian-CHP-16-ITERM-7564"></A><A NAME="pythonian-CHP-16-ITERM-7565"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>unpost</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>m</I></TT>.unpost(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Closes <TT><I>m</I></TT> if <TT><I>m</I></TT>
was displaying as a pop-up menu, otherwise does nothing.</P>


<A NAME="pythonian-CHP-16-SECT-5.2"></A>
<H4 class="docSection2Title">16.5.2 Menu Entries</H4>

<P class="docText"><A NAME="pythonian-CHP-16-ITERM-7566"></A> <A NAME="pythonian-CHP-16-ITERM-7567"></A>When
a menu <TT><I>m</I></TT> displays, it shows a vertical
(horizontal for a menubar) list of entries. Each entry can be one of
the following kinds:</P>

<DL class="docList">
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">cascade</span></span></span></DT>
<DD>
<P class="docList">A submenu; option
<TT>menu=</TT><TT><I>x</I></TT> must give as
<TT><I>x</I></TT> another <TT>Menu</TT> instance</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">checkbutton</span></span></span></DT>
<DD>
<P class="docList">Similar to a <TT>Checkbutton</TT> widget; typical options
are <TT>variable</TT> (which must indicate a
<TT>Tkinter</TT> variable object),
<TT>onvalue</TT>, <TT>offvalue</TT>, and
optionally <TT>command</TT>, quite similarly to a
<TT>Checkbutton</TT> instance</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">command</span></span></span></DT>
<DD>
<P class="docList">Similar to a <TT>Button</TT> widget; typical option is
<TT>command=</TT><TT><I>callable</I></TT></P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">radiobutton</span></span></span></DT>
<DD>
<P class="docList">Similar to a <TT>Radiobutton</TT> widget; typical options
are <TT>variable</TT> (which must indicate a
<TT>Tkinter</TT> variable object),
<TT>value</TT>, and optionally <TT>command</TT>,
quite similarly to a <TT>Radiobutton</TT> instance</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">separator</span></span></span></DT>
<DD>
<P class="docList">A line segment that separates groups of other entries</P>
</DD>
</DL>

<P class="docText">Other entry options often used with menu entries are:</P>

<DL class="docList">
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">image</span></span></span></DT>
<DD>
<P class="docList">Option <TT>image=</TT><TT><I>x</I></TT> uses
<TT><I>x</I></TT>, a <TT>Tkinter</TT> image
object, to label the entry with an image rather than text</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">label</span></span></span></DT>
<DD>
<P class="docList">Option <TT>label=</TT><TT><I>somestring</I></TT>
labels the entry with a text string</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">underline</span></span></span></DT>
<DD>
<P class="docList">Option <TT>underline=</TT><TT><I>x</I></TT>
gives <TT><I>x</I></TT> as the index of the character to
underline within the entry's label
(<TT>0</TT> is the first character, <TT>1</TT>
the second one, and so on)</P>
</DD>
</DL>


<A NAME="pythonian-CHP-16-SECT-5.3"></A>
<H4 class="docSection2Title">16.5.3 Menu Example</H4>

<P class="docText">The following example shows how to add a menubar with typical File
and Edit menus:</P>

<PRE>import Tkinter

root = Tkinter.Tk(  )
bar = Tkinter.Menu(  )

def show(menu, entry): print menu, entry

fil = Tkinter.Menu(  )
for x in 'New', 'Open', 'Close', 'Save':
    fil.add_command(label=x,command=lambda x=x:show('File',x))
bar.add_cascade(label='File',menu=fil)

edi = Tkinter.Menu(  )
for x in 'Cut', 'Copy', 'Paste', 'Clear':
    edi.add_command(label=x,command=lambda x=x:show('Edit',x))
bar.add_cascade(label='Edit',menu=edi)</PRE>

<P class="docText">In this example, each menu command just outputs information to
standard output for demonstration purposes. Note the
<TT><I>x</I></TT><TT>=</TT><TT><I>x</I></TT>
idiom to snapshot the value of <TT><I>x</I></TT> at the
time we create each <TT>lambda</TT>. Otherwise, the current
value of <TT><I>x</I></TT> at the time a
<TT>lambda</TT> executes, '<TT>Clear</TT>', would
show up at each menu selection. A good alternative to the
<TT>lambda</TT> expressions would be a closure. Instead of
<TT>def</TT> <TT>show</TT>, use:</P>

<PRE>def mkshow(menu):
    def emit(entry, menu=menu): print menu, entry
    return emit</PRE>

<P class="docText">and use <TT>command=mkshow('File')</TT> and
<TT>command=mkshow('Edit')</TT>, respectively, in the calls
to the <TT>add_command</TT> methods of
<TT><I>fil</I></TT> and
<TT><I>edi</I></TT>.<A NAME="pythonian-CHP-16-ITERM-7568"></A> <A NAME="pythonian-CHP-16-ITERM-7569"></A></P>



<ul></ul>
</td>
</tr>
</table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0596001886_pythonian-chp-16-sect-4.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0596001886_pythonian-chp-16-sect-6.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
