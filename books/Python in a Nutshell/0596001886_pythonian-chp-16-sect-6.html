<html><head>
<META http-equiv="Content-Type" content="text/html">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="16.6 The Text Widget"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0596001886_pythonian-chp-16-sect-5.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0596001886_pythonian-chp-16-sect-7.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top"><A NAME="pythonian-CHP-16-SECT-6"></A>
<H3 class="docSection1Title">16.6 The Text Widget</H3>

<P class="docText"><A NAME="pythonian-CHP-16-ITERM-7570"></A>
<A NAME="pythonian-CHP-16-ITERM-7571"></A>Class <TT>Text</TT> implements
a powerful multiline text editor, able to display images and embedded
widgets as well as text in one or more fonts and colors. An instance
<TT><I>t</I></TT> of <TT>Text</TT> supports many
ways to refer to specific points in
<TT><I>t</I></TT>'s contents.
<TT><I>t</I></TT> supplies methods and configuration
options allowing fine-grained control of operations, content, and
rendering. This section covers a large, frequently used subset of
this vast functionality. In some very simple cases, you can get by
with just three <TT>Text</TT>-specific
idioms:<A NAME="pythonian-CHP-16-ITERM-7572"></A> <A NAME="pythonian-CHP-16-ITERM-7573"></A></P>

<PRE><TT><I>t</I></TT>.delete('1.0', END)             # clear the widget's contents
<TT><I>t</I></TT>.insert(END, <TT><I>astring</I></TT>)           # append <TT><I>astring</I></TT> to the widget's contents
<TT><I>somestring</I></TT> = <TT><I>t</I></TT>.get('1.0', END)   # get the widget's contents as a string</PRE>

<P class="docText"><TT>END</TT> is an index on any <TT>Text</TT>
instance <TT><I>t</I></TT>, indicating the end of
<TT><I>t</I></TT>'s text.
'<TT>1.0</TT>' is also an index, indicating the start of
<TT><I>t</I></TT>'s text (first line,
first column). For more about indices, see <A class="docLink" HREF="#pythonian-CHP-16-SECT-6.5">Section 16.6.5</A> later in this chapter.</P>

<A NAME="pythonian-CHP-16-SECT-6.1"></A>
<H4 class="docSection2Title">16.6.1 Text Widget Methods</H4>

<P class="docText">An instance <TT><I>t</I></TT> of class
<TT>Text</TT> supplies many methods. Methods dealing with
marks and tags are covered in later sections. Many methods accept one
or two indices into <TT><I>t</I></TT>'s
contents. The most frequently used methods are the following.</P>

<A NAME="ch16-77081"></A><A NAME="pythonian-CHP-16-ITERM-7574"></A><A NAME="pythonian-CHP-16-ITERM-7575"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>delete</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.delete(<TT><I>i</I></TT>[,<TT><I>j</I></TT>])</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><TT><I>t</I></TT><TT>.delete(</TT><TT><I>i</I></TT><TT>)</TT>
removes <TT><I>t</I></TT>'s character at
index <TT><I>i</I></TT>.
<TT><I>t</I></TT><TT>.delete(</TT><TT><I>i</I></TT>,<TT><I>j</I></TT><TT>)</TT>
removes all characters from index <TT><I>i</I></TT> to
index <TT><I>j</I></TT>, included.</P>

<A NAME="ch16-77082"></A><A NAME="pythonian-CHP-16-ITERM-7576"></A><A NAME="pythonian-CHP-16-ITERM-7577"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>get</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.get(<TT><I>i</I></TT>[,<TT><I>j</I></TT>])</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><TT><I>t</I></TT><TT>.get(</TT><TT><I>i</I></TT><TT>)</TT>
returns <TT><I>t</I></TT>'s character at
index <TT><I>i</I></TT>.
<TT><I>t</I></TT><TT>.get(</TT><TT><I>i</I></TT>,<TT><I>j</I></TT><TT>)</TT>
returns a string made up of all characters from index
<TT><I>i</I></TT> to index <TT><I>j</I></TT>,
included.</P>

<A NAME="ch16-77083"></A><A NAME="pythonian-CHP-16-ITERM-7578"></A><A NAME="pythonian-CHP-16-ITERM-7579"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>image_create</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.image_create(<TT><I>i</I></TT>,**<TT><I>window_options</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Inserts an embedded image in
<TT><I>t</I></TT>'s contents at index
<TT><I>i</I></TT>. Call <TT>image_create</TT>
with option <TT>image=</TT><TT><I>e</I></TT>,
where <TT><I>e</I></TT> is a <TT>Tkinter</TT>
image object, as covered in <A class="docLink" HREF="0596001886_pythonian-chp-16-sect-2.html#pythonian-CHP-16-SECT-2.4">Section 16.2.4</A> earlier in this chapter.</P>

<A NAME="ch16-77084"></A><A NAME="pythonian-CHP-16-ITERM-7580"></A><A NAME="pythonian-CHP-16-ITERM-7581"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>insert</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.insert(<TT><I>i</I></TT>,<TT><I>s</I></TT>[,<TT><I>tags</I></TT>])</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Inserts string <TT><I>s</I></TT> in
<TT><I>t</I></TT>'s contents at index
<TT><I>i</I></TT>. <TT><I>tags</I></TT>, if
supplied, is a sequence of strings to attach as tags to the new text,
as covered in <A class="docLink" HREF="#pythonian-CHP-16-SECT-6.4">Section 16.6.4</A> later in this
chapter.</P>

<A NAME="ch16-77085"></A><A NAME="pythonian-CHP-16-ITERM-7582"></A><A NAME="pythonian-CHP-16-ITERM-7583"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>search</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.search(<TT><I>pattern</I></TT>,<TT><I>i</I></TT>,**<TT><I>search_options</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Finds the first occurrence of string
<TT><I>pattern</I></TT> in
<TT><I>t</I></TT>'s contents not earlier
than index <TT><I>i</I></TT> and returns a string that is
the index of the occurrence, or an empty string ''
if not found. Option <TT>nocase=True</TT> makes the search
case-insensitive; by default, or with an explicit option
<TT>nocase=False</TT>, the search is case-sensitive. Option
<TT>stop=</TT><TT><I>j</I></TT> makes the search
stop at index <TT><I>j</I></TT>; by default, the search
wraps around to the start of
<TT><I>t</I></TT>'s contents. When you
need to avoid wrapping, you can use <TT>stop=END</TT>.</P>

<A NAME="ch16-77086"></A><A NAME="pythonian-CHP-16-ITERM-7584"></A><A NAME="pythonian-CHP-16-ITERM-7585"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>see</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.see(<TT><I>i</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Scrolls <TT><I>t</I></TT>, if needed, to make sure the
contents at index <TT><I>i</I></TT> are visible. If the
contents at index <TT><I>i</I></TT> are already visible,
<TT>see</TT> does nothing.</P>

<A NAME="ch16-77087"></A><A NAME="pythonian-CHP-16-ITERM-7586"></A><A NAME="pythonian-CHP-16-ITERM-7587"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>window_create</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.window_create(<TT><I>i</I></TT>,**<TT><I>window_options</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Inserts an embedded widget in
<TT><I>t</I></TT>'s contents at index
<TT><I>i</I></TT>. <TT><I>t</I></TT> must be
the parent of the widget <TT><I>w</I></TT> that you are
inserting. Call <TT>window_create</TT> either with option
<TT>window=</TT><TT><I>w</I></TT> to insert an
already existing widget <TT><I>w</I></TT>, or with option
<TT>create=</TT><TT><I>callable</I></TT>. If you
use option <TT>create</TT>, <TT>Tkinter</TT>
calls <TT><I>callable</I></TT> without arguments the first
time the embedded widget needs to be displayed, and
<TT><I>callable</I></TT> must create a widget
<TT><I>w</I></TT> (with <TT><I>t</I></TT> as
<TT><I>w</I></TT>'s parent) and return
<TT><I>w</I></TT> as
<TT><I>callable</I></TT>'s result. Option
<TT>create</TT> lets you arrange creation of embedded
widgets just in time and only if needed, and is useful as an
optimization when you have many embedded widgets in a very long text.</P>

<A NAME="ch16-77088"></A><A NAME="pythonian-CHP-16-ITERM-7588"></A><A NAME="pythonian-CHP-16-ITERM-7589"></A><A NAME="pythonian-CHP-16-ITERM-7590"></A><A NAME="pythonian-CHP-16-ITERM-7591"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>xview, yview</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.xview([...]) 
<TT><I>t</I></TT>.yview([...])</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><TT>xview</TT><A NAME="pythonian-CHP-16-ITERM-7588"></A> <A NAME="pythonian-CHP-16-ITERM-7589"></A> <A NAME="pythonian-CHP-16-ITERM-7590"></A>
<A NAME="pythonian-CHP-16-ITERM-7591"></A> and
<TT>yview</TT> handle scrolling in horizontal and vertical
directions respectively, and accept several different patterns of
arguments. <TT><I>t</I></TT><TT>.xview( )</TT>,
without arguments, returns a tuple of two floats between
<TT>0.0</TT> and <TT>1.0</TT> indicating the
fraction of <TT><I>t</I></TT>'s contents
corresponding to the first (leftmost) and last (rightmost) currently
visible columns.
<TT><I>t</I></TT><TT>.xview(MOVETO</TT>,<TT><I>frac</I></TT><TT>)</TT>
scrolls <TT><I>t</I></TT> left or right so that the first
(leftmost) visible column becomes the one corresponding to fraction
<TT><I>frac</I></TT> of
<TT><I>t</I></TT>'s contents, between
<TT>0.0</TT> and <TT>1.0</TT>.
<TT>yview</TT> supports the same patterns of arguments, but
uses lines rather than columns, and scrolls up and down rather than
left and right. <TT>yview</TT> supports one more pattern of
arguments:
<TT><I>t</I></TT><TT>.yview(</TT><TT><I>i</I></TT><TT>)</TT>,
for any index <TT><I>i</I></TT>, scrolls
<TT><I>t</I></TT> up or down so that the first (topmost)
visible line becomes the one of index <TT><I>i</I></TT>.</P>


<A NAME="pythonian-CHP-16-SECT-6.2"></A>
<H4 class="docSection2Title">16.6.2 Giving Text a Scrollbar</H4>

<P class="docText"><A NAME="pythonian-CHP-16-ITERM-7592"></A> <A NAME="pythonian-CHP-16-ITERM-7593"></A>You'll often want
to couple a <TT>Scrollbar</TT> instance to a
<TT>Text</TT> instance in order to let the user scroll
through the text. The following example shows how to use a
<TT>Scrollbar</TT> <TT><I>s</I></TT> to control
vertical scrolling of a <TT>Text</TT> instance
<TT><I>T</I></TT>:</P>

<PRE>import Tkinter

root = Tkinter.Tk(  )
s = Tkinter.Scrollbar(root)
T = Tkinter.Text(root)
T.focus_set(  )
s.pack(side=Tkinter.RIGHT, fill=Tkinter.Y)
T.pack(side=Tkinter.LEFT, fill=Tkinter.Y)
s.config(command=T.yview)
T.config(yscrollcommand=s.set)
for i in range(40): T.insert(Tkinter.END, "This is line %d\n" % i)
Tkinter.mainloop(  )</PRE>


<A NAME="pythonian-CHP-16-SECT-6.3"></A>
<H4 class="docSection2Title">16.6.3 Marks</H4>

<P class="docText"><A NAME="pythonian-CHP-16-ITERM-7594"></A>
<A NAME="pythonian-CHP-16-ITERM-7595"></A>A <span class="docEmphasis">mark</span> on a
<TT>Text</TT> instance <TT><I>t</I></TT> is a
symbolic name indicating a point within the contents of
<TT><I>t</I></TT>. <TT>INSERT</TT> and
<TT>CURRENT</TT> are predefined marks on any
<TT>Text</TT> instance <TT><I>t</I></TT>, with
special predefined meanings. <TT>INSERT</TT> names the
point where the <I>insertion</I>
<I>cursor</I> (also known as the text caret) is located
in <TT><I>t</I></TT>. By default, when the user enters
text at the keyboard with the focus on <TT><I>t</I></TT>,
<TT><I>t</I></TT> inserts the text at index
<TT>INSERT</TT>. <TT>CURRENT</TT> names the point
in <TT><I>t</I></TT> that was closest to the mouse cursor
when the user last moved the mouse within
<TT><I>t</I></TT>. By default, when the user clicks the
mouse on <TT><I>t</I></TT>, <TT><I>t</I></TT>
gets focus and sets <TT>INSERT</TT> to
<TT>CURRENT</TT>.</P>

<P class="docText">To create other marks on <TT><I>t</I></TT>, call method
<TT><I>t</I></TT><TT>.mark_set</TT>. Each mark
is an arbitrary string containing no whitespace. To avoid any
confusion with other forms of index, use no punctuation in a mark. A
mark is an index, as covered in
<A class="docLink" HREF="#pythonian-CHP-16-SECT-6.5">Section 16.6.5</A> later in this chapter;
you can pass a string that is a mark on <TT><I>t</I></TT>
wherever a method of <TT><I>t</I></TT> accepts an index
argument.</P>

<P class="docText">When you insert or delete text before a mark
<TT><I>m</I></TT>, <TT><I>m</I></TT> moves
accordingly. Deleting a portion of text that surrounds
<TT><I>m</I></TT> does not remove
<TT><I>m</I></TT>. To remove a mark on
<TT><I>t</I></TT>, call method
<TT><I>t</I></TT><TT>.mark_unset</TT>. What
happens when you insert text at a mark <TT><I>m</I></TT>
depends on <TT><I>m</I></TT>'s gravity
setting, which can be <TT>RIGHT</TT> (the default) or
<TT>LEFT</TT>. When <TT><I>m</I></TT> has
gravity <TT>RIGHT</TT>, <TT><I>m</I></TT> moves
to remain at the end (i.e., to the right) of text inserted at
<TT><I>m</I></TT>. When <TT><I>m</I></TT> has
gravity <TT>LEFT</TT>, <TT><I>m</I></TT> does
not move when you insert text at <TT><I>m</I></TT>: text
inserted at <TT><I>m</I></TT> goes after
<TT><I>m</I></TT>, and <TT><I>m</I></TT> itself
remains at the start (i.e., to the left) of such inserted text.</P>

<P class="docText">A <TT>Text</TT> instance <TT><I>t</I></TT>
supplies the following methods related to marks on
<TT><I>t</I></TT>.</P>

<A NAME="ch16-77091"></A><A NAME="pythonian-CHP-16-ITERM-7596"></A><A NAME="pythonian-CHP-16-ITERM-7597"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>mark_gravity</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.mark_gravity(<TT><I>mark</I></TT>[,<TT><I>gravity</I></TT>])</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><TT><I>mark</I></TT> is a mark on
<TT><I>t</I></TT>.
<TT><I>t</I></TT><TT>.mark_gravity(</TT><TT><I>mark</I></TT><TT>)</TT>
returns <TT><I>mark</I></TT>'s gravity
setting, <TT>RIGHT</TT> or <TT>LEFT</TT>.
<TT><I>t</I></TT><TT>.mark_gravity(</TT><TT><I>mark,gravity</I></TT><TT>)</TT>
sets <TT><I>mark</I></TT>'s gravity to
<TT><I>gravity</I></TT>, which must be
<TT>RIGHT</TT> or <TT>LEFT</TT>.</P>

<A NAME="ch16-77092"></A><A NAME="pythonian-CHP-16-ITERM-7598"></A><A NAME="pythonian-CHP-16-ITERM-7599"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>mark_set</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.mark_set(<TT><I>mark</I></TT>,<TT><I>i</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">If <TT><I>mark</I></TT> was not yet a mark on
<TT><I>t</I></TT>, <TT>mark_set</TT> creates
<TT><I>mark</I></TT> at index
<TT><I>i</I></TT>. If <TT><I>mark</I></TT> was
already a mark on <TT><I>t</I></TT>,
<TT>mark_set</TT> moves <TT><I>mark</I></TT> to
index <TT><I>i</I></TT>.</P>

<A NAME="ch16-77093"></A><A NAME="pythonian-CHP-16-ITERM-7600"></A><A NAME="pythonian-CHP-16-ITERM-7601"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>mark_unset</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.mark_unset(<TT><I>mark</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><TT><I>mark</I></TT> is a user-defined mark on
<TT><I>t</I></TT> (not one of the predefined marks
<TT>INSERT</TT> or <TT>CURRENT</TT>).
<TT>mark_unset</TT> removes <TT><I>mark</I></TT>
from among the marks on <TT><I>t</I></TT>.</P>


<A NAME="pythonian-CHP-16-SECT-6.4"></A>
<H4 class="docSection2Title">16.6.4 Tags</H4>

<P class="docText"><A NAME="pythonian-CHP-16-ITERM-7602"></A>
<A NAME="pythonian-CHP-16-ITERM-7603"></A>A <span class="docEmphasis">tag</span> on a
<TT>Text</TT> instance <TT><I>t</I></TT> is a
symbolic name indicating zero or more regions (ranges) in the
contents of a <TT>Text</TT> instance
<TT><I>t</I></TT>. <TT>SEL</TT> is a predefined
tag on any <TT>Text</TT> instance
<TT><I>t</I></TT>, and names a single range of
<TT><I>t</I></TT> that is selected, normally by the user
dragging over it with the mouse. <TT>Tkinter</TT> typically
displays the <TT>SEL</TT> range with distinctive background
and foreground colors. To create other tags on
<TT><I>t</I></TT>, call the
<TT><I>t</I></TT><TT>.tag_add</TT> or
<TT><I>t</I></TT><TT>.tag_config</TT> method, or
use optional parameter <TT><I>tags</I></TT> of method
<TT><I>t</I></TT><TT>.insert</TT>. Ranges of
various tags on <TT><I>t</I></TT> may overlap.
<TT><I>t</I></TT> renders text having several tags by
using options from the uppermost tag, according to calls to methods
<TT><I>t</I></TT><TT>.tag_raise</TT> or
<TT><I>t</I></TT><TT>.tag_lower</TT>. By
default, a tag created more recently is above one created earlier.</P>

<P class="docText">Each tag is an arbitrary string containing no whitespace. Each tag
has two indices, <TT>first</TT> (start of the
tag's first range) and <TT>last</TT> (end
of the tag's last range). You can pass a
tag's index wherever a method of
<TT><I>t</I></TT> accepts an index argument.
<TT>SEL_FIRST</TT> and <TT>SEL_LAST</TT> indicate
the <TT>first</TT> and <TT>last</TT> indices of
predefined tag <TT>SEL</TT>.</P>

<P class="docText">A <TT>Text</TT> instance <TT><I>t</I></TT>
supplies the following methods related to tags on
<TT><I>t</I></TT>.</P>

<A NAME="ch16-77095"></A><A NAME="pythonian-CHP-16-ITERM-7604"></A><A NAME="pythonian-CHP-16-ITERM-7605"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>tag_add</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.tag_add(<TT><I>tag</I></TT>,<TT><I>i</I></TT>[,<TT><I>j</I></TT>])</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><TT><I>t</I></TT><TT>.tag_add(</TT><TT><I>tag</I></TT>,<TT><I>i</I></TT><TT>)</TT>
adds tag <TT><I>tag</I></TT> to the single character at
index <TT><I>i</I></TT> in <TT><I>t</I></TT>.
<TT><I>t</I></TT><TT>.tag_add(</TT><TT><I>tag</I></TT>,<TT><I>i</I></TT>,<TT><I>j</I></TT><TT>)</TT>
adds tag <TT><I>tag</I></TT> to characters from index
<TT><I>i</I></TT> to index <TT><I>j</I></TT>.</P>

<A NAME="ch16-77096"></A><A NAME="pythonian-CHP-16-ITERM-7606"></A><A NAME="pythonian-CHP-16-ITERM-7607"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>tag_bind</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.tag_bind(<TT><I>tag</I></TT>,<TT><I>event_name</I></TT>,<TT><I>callable</I></TT>[,'+'])</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><TT><I>t</I></TT><TT>.tag_bind(</TT><TT><I>tag</I></TT>,<TT><I>event_name</I></TT>,<TT><I>callable</I></TT><TT>)</TT>
sets <TT><I>callable</I></TT> as the callback object for
<TT><I>event_name</I></TT> on
<TT><I>tag</I></TT>'s ranges.
<TT><I>t</I></TT><TT>.tag_bind(</TT><TT><I>tag</I></TT>,<TT><I>event_name</I></TT>,<TT><I>callable</I></TT><TT>,'+')</TT>
adds <TT><I>callable</I></TT> to the previous bindings.
Events, callbacks, and bindings are covered in
<A class="docLink" HREF="0596001886_pythonian-chp-16-sect-9.html#pythonian-CHP-16-SECT-9">Section 16.9</A>
later in this chapter.</P>

<A NAME="ch16-77097"></A><A NAME="pythonian-CHP-16-ITERM-7608"></A><A NAME="pythonian-CHP-16-ITERM-7609"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>tag_cget</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.tag_cget(<TT><I>tag</I></TT>,<TT><I>tag_option</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Returns the value currently associated with option
<TT><I>tag_option</I></TT> for tag
<TT><I>tag</I></TT>. For example,
<TT><I>t</I></TT><TT>.tag_cget(SEL,'background')</TT>
returns the color that <TT><I>t</I></TT> is using as the
background of <TT><I>t</I></TT>'s
selected range.</P>

<A NAME="ch16-77098"></A><A NAME="pythonian-CHP-16-ITERM-7610"></A><A NAME="pythonian-CHP-16-ITERM-7611"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>tag_config</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.tag_config(<TT><I>tag</I></TT>,**<TT><I>tag_options</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Sets or changes tag options associated with tag
<TT><I>tag</I></TT>, determining the way
<TT><I>t</I></TT> renders text in
<TT><I>tag</I></TT>'s region. The most
frequently used tag options are:</P>
<DL class="docList">
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">background</span></span>, <span class="docPubcolor"><span class="docMonofont">foreground</span></span></span></DT>
<DD>
<P class="docList">Background and foreground colors</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">bgstipple</span></span>, <span class="docPubcolor"><span class="docMonofont">fgstipple</span></span></span></DT>
<DD>
<P class="docList">Background and foreground stipples, typically
'<TT>gray12</TT>', '<TT>gray25</TT>',
'<TT>gray50</TT>', or '<TT>gray75</TT>'; by
default, solid colors (no stippling)</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">borderwidth</span></span></span></DT>
<DD>
<P class="docList">Width in pixels of the text border; default is <TT>0</TT>
(no border)</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">font</span></span></span></DT>
<DD>
<P class="docList">Font used for text in the tag's ranges (see
<A class="docLink" HREF="#pythonian-CHP-16-SECT-6.6">Section 16.6.6</A>
later in this chapter)</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">justify</span></span></span></DT>
<DD>
<P class="docList">Text justification, <TT>LEFT</TT> (default),
<TT>CENTER</TT>, or <TT>RIGHT</TT></P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">lmargin1</span></span>, <span class="docPubcolor"><span class="docMonofont">lmargin2</span></span>, <span class="docPubcolor"><span class="docMonofont">rmargin</span></span></span></DT>
<DD>
<P class="docList">Left margin (first line, other lines) and right margin (all lines),
in pixels; default is <TT>0</TT> (no margin)</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">offset</span></span></span></DT>
<DD>
<P class="docList">Offset from baseline in pixels (greater than <TT>0</TT> for
superscript, less than <TT>0</TT> for subscript); default
is <TT>0</TT> (no offset, i.e., text aligned with the
baseline)</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">overstrike</span></span></span></DT>
<DD>
<P class="docList">If true, draw a line right over the text</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">relief</span></span></span></DT>
<DD>
<P class="docList">Text relief: <TT>FLAT</TT> (default),
<TT>SUNKEN</TT>, <TT>RAISED</TT>,
<TT>GROOVE</TT>, or <TT>RIDGE</TT></P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">spacing1</span></span>, <span class="docPubcolor"><span class="docMonofont">spacing2</span></span>, <span class="docPubcolor"><span class="docMonofont">spacing3</span></span></span></DT>
<DD>
<P class="docList">Extra spacing in pixels (before first line, between lines, after last
line); default is <TT>0</TT> (no extra spacing)</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">underline</span></span></span></DT>
<DD>
<P class="docList">If true, draw a line under the text</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">wrap</span></span></span></DT>
<DD>
<P class="docList">Wrapping mode: <TT>WORD</TT> (default),
<TT>CHAR</TT>, or <TT>NONE</TT></P>
</DD>
</DL><P class="docText">For example:</P>
<PRE>t.tag_config(SEL,background='black',foreground='yellow')</PRE><P class="docText">tells <TT><I>t</I></TT> to display
<TT><I>t</I></TT>'s selected range with
yellow text on a black background.</P>

<A NAME="ch16-77099"></A><A NAME="pythonian-CHP-16-ITERM-7612"></A><A NAME="pythonian-CHP-16-ITERM-7613"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>tag_delete</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.tag_delete(<TT><I>tag</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Forgets all information associated with tag
<TT><I>tag</I></TT> on <TT><I>t</I></TT>.</P>

<A NAME="ch16-77100"></A><A NAME="pythonian-CHP-16-ITERM-7614"></A><A NAME="pythonian-CHP-16-ITERM-7615"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>tag_lower</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.tag_lower(<TT><I>tag</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Gives <TT><I>tag</I></TT>'s options
minimum priority for ranges overlapping with other tags.</P>

<A NAME="ch16-77101"></A><A NAME="pythonian-CHP-16-ITERM-7616"></A><A NAME="pythonian-CHP-16-ITERM-7617"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>tag_names</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.tag_names([<TT><I>i</I></TT>])</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Returns a sequence of strings whose items are all the tags that
include index <TT><I>i</I></TT>. Called without arguments,
returns a sequence of strings whose items are all the tags that
currently exist on <TT><I>t</I></TT>.</P>

<A NAME="ch16-77102"></A><A NAME="pythonian-CHP-16-ITERM-7618"></A><A NAME="pythonian-CHP-16-ITERM-7619"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>tag_raise</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.tag_raise(<TT><I>tag</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Gives <TT><I>tag</I></TT>'s options
maximum priority for ranges overlapping with other tags.</P>

<A NAME="ch16-77103"></A><A NAME="pythonian-CHP-16-ITERM-7620"></A><A NAME="pythonian-CHP-16-ITERM-7621"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>tag_ranges</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.tag_ranges(<TT><I>tag</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Returns a sequence with an even number of strings (zero if
<TT><I>tag</I></TT> is not a tag on
<TT><I>t</I></TT> or has no ranges), alternating start and
stop indices of <TT><I>tag</I></TT>'s
ranges.</P>

<A NAME="ch16-77104"></A><A NAME="pythonian-CHP-16-ITERM-7622"></A><A NAME="pythonian-CHP-16-ITERM-7623"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>tag_remove</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.tag_remove(<TT><I>tag</I></TT>,<TT><I>i</I></TT>[,<TT><I>j</I></TT>])</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><TT><I>t</I></TT><TT>.tag_remove(</TT><TT><I>tag</I></TT>,<TT><I>i</I></TT><TT>)</TT>
removes tag <TT><I>tag</I></TT> from the single character
at index <TT><I>i</I></TT> in
<TT><I>t</I></TT>.
<TT><I>t</I></TT><TT>.tag_remove(</TT><TT><I>tag</I></TT>,<TT><I>i</I></TT>,<TT><I>j</I></TT><TT>)</TT>
removes tag <TT><I>tag</I></TT> from characters from index
<TT><I>i</I></TT> to index <TT><I>j</I></TT>.
Removing a tag from characters that do not have that tag is not an
error; it's an innocuous no-operation.</P>

<A NAME="ch16-77105"></A><A NAME="pythonian-CHP-16-ITERM-7624"></A><A NAME="pythonian-CHP-16-ITERM-7625"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>tag_unbind</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.tag_unbind(<TT><I>tag</I></TT>,<TT><I>event</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><TT><I>t</I></TT><TT>.tag_unbind(</TT><TT><I>tag</I></TT>,<TT><I>event</I></TT><TT>)</TT>
removes any binding for <TT><I>event</I></TT> on
<TT><I>tag</I></TT>'s ranges. Events and
bindings are covered in <A class="docLink" HREF="0596001886_pythonian-chp-16-sect-9.html#pythonian-CHP-16-SECT-9">Section 16.9</A> later in this chapter.</P>


<A NAME="pythonian-CHP-16-SECT-6.5"></A>
<H4 class="docSection2Title">16.6.5 Indices</H4>

<P class="docText"><A NAME="pythonian-CHP-16-ITERM-7626"></A>
<A NAME="pythonian-CHP-16-ITERM-7627"></A>All
ways to indicate a spot in the contents of a <TT>Text</TT>
instance <TT><I>t</I></TT> are known as
<I>indices</I> on <TT><I>t</I></TT>. The
basic form of an index is a string of the form
'<TT>%d.%d'%(</TT><TT><I>L,C</I></TT><TT>)</TT>,
indicating the spot in the text that is at line
<TT><I>L</I></TT> (the first line is
<TT>1</TT>), column <TT><I>C</I></TT> (the first
column is <TT>0</TT>). For example,
'<TT>1.0</TT>' is a basic-form index indicating the start
of text for any <TT><I>t</I></TT>.
<TT><I>t</I></TT><TT>.index(</TT><TT><I>i</I></TT><TT>)</TT>
returns the basic-form equivalent to an index
<TT><I>i</I></TT> of any form.</P>

<P class="docText"><TT>END</TT> is an index indicating the end of text for any
<TT><I>t</I></TT>.
'<TT>%d.end'%</TT><TT><I>L</I></TT>, for any
line number <TT><I>L</I></TT>, is an index indicating the
end (the '<TT>\n</TT>' end-of-line marker) of line
<TT><I>L</I></TT>. For example, '<TT>1.end</TT>'
indicates the end of the first line. To get the number of characters
in line number <TT><I>L</I></TT> of a
<TT>Text</TT> instance <TT><I>t</I></TT>, you
can use:</P>

<PRE>def line_length(t, L):
    return int(t.index('%d.end'%L).split('.')[-1])</PRE>

<P class="docText">'<TT>@%d,%d'%(</TT><TT><I>x</I></TT>,<TT><I>y</I></TT><TT>)</TT>
is also an index on <TT><I>t</I></TT>, where
<TT><I>x</I></TT> and <TT><I>y</I></TT> are
coordinates in pixels within
<TT><I>t</I></TT>'s window.</P>

<P class="docText">Any tag on <TT><I>t</I></TT> is associated with two
indices, strings
'<TT>%s.first'%</TT><TT><I>tag</I></TT> (the
start of <TT><I>tag</I></TT>'s first
range) and
'<TT>%s.last'%</TT><TT><I>tag</I></TT> (the end
of <TT><I>tag</I></TT>'s last range). For
example, right after
<TT><I>t</I></TT><TT>.tag_add('mytag'</TT>,<TT><I>i</I></TT>,<TT><I>j</I></TT><TT>)</TT>,
'<TT>mytag.first</TT>' indicates the same spot in
<TT><I>t</I></TT> as index <TT><I>i</I></TT>,
and '<TT>mytag.last</TT>' indicates the same spot in
<TT><I>t</I></TT> as index <TT><I>j</I></TT>.
Trying to use an index such as '<TT>x.first</TT>' or
'<TT>x.last</TT>' when no characters in
<TT><I>t</I></TT> are tagged with '<TT>x</TT>'
raises an exception.</P>

<P class="docText"><TT>SEL_FIRST</TT> and <TT>SEL_LAST</TT> are
indices (the start and end of the selection, the
<TT>SEL</TT> tag). Trying to use
<TT>SEL_FIRST</TT> or <TT>SEL_LAST</TT> when
there is no selected range on <TT><I>t</I></TT>, however,
raises an exception.</P>

<P class="docText">Marks (covered earlier), including predefined marks
<TT>INSERT</TT> and <TT>CURRENT</TT>, are also
indices. Moreover, any image or widget embedded in
<TT><I>t</I></TT> is also an index on
<TT><I>t</I></TT> (methods <TT>image_create</TT>
and <TT>window_create</TT> are also covered earlier in this
chapter).</P>

<P class="docText">Another form of index, <span class="docEmphasis">index expressions</span>, are
obtained by concatenating to the string form of any index one or more
of the following modifier string literals:</P>

<DL class="docList">
<DT><span class="docPubcolor">'<span class="docPubcolor"><span class="docMonofont">+</span></span> <TT><I>n</I></TT> <span class="docPubcolor"><span class="docMonofont">chars</span></span> ', '<span class="docPubcolor"><span class="docMonofont">-</span></span> <TT><I>n</I></TT> <span class="docPubcolor"><span class="docMonofont">chars</span></span> '</span></DT>
<DD>
<P class="docList"><TT><I>n</I></TT> characters toward the end or start of
the text (including newlines)</P>
</DD>
<DT><span class="docPubcolor">'<span class="docPubcolor"><span class="docMonofont">+</span></span> <TT><I>n</I></TT> <span class="docPubcolor"><span class="docMonofont">lines</span></span> ', '<span class="docPubcolor"><span class="docMonofont">-</span></span> <TT><I>n</I></TT> <span class="docPubcolor"><span class="docMonofont">lines</span></span> '</span></DT>
<DD>
<P class="docList"><TT><I>n</I></TT> lines toward the end or start of the text</P>
</DD>
<DT><span class="docPubcolor">'<span class="docPubcolor"><span class="docMonofont">linestart</span></span>', '<span class="docPubcolor"><span class="docMonofont">lineend</span></span>'</span></DT>
<DD>
<P class="docList">Column <TT>0</TT> in the index's line or
the '<TT>\n</TT>' in the index's line</P>
</DD>
<DT><span class="docPubcolor">'<span class="docPubcolor"><span class="docMonofont">wordstart</span></span>', '<span class="docPubcolor"><span class="docMonofont">wordend</span></span>'</span></DT>
<DD>
<P class="docList">Start or end of the word that comprises the index (in this context, a
<span class="docEmphasis">word</span> is a sequence of letters, digits, and
underscores)</P>
</DD>
</DL>

<P class="docText">You can optionally omit spaces and abbreviate keywords (even down to
one character). For example, '<TT>%s-4c'%END</TT> means
"four characters before the end of
<TT><I>t</I></TT>'s text
contents," and '<TT>%s+1line</TT>
<TT>linestart'%SEL_LAST</TT> means "the
start of the line immediately after the line where
<TT><I>t</I></TT>'s selection
ends."</P>

<P class="docText">A <TT>Text</TT> instance <TT><I>t</I></TT>
supplies two methods related to indices on
<TT><I>t</I></TT>.</P>

<A NAME="ch16-77107"></A><A NAME="pythonian-CHP-16-ITERM-7628"></A><A NAME="pythonian-CHP-16-ITERM-7629"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>compare</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.compare(<TT><I>i</I></TT>,<TT><I>op</I></TT>,<TT><I>j</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Returns <TT>True</TT> or <TT>False</TT>
reflecting the comparison of indices <TT><I>i</I></TT> and
<TT><I>j</I></TT>, where a lower number means earlier, and
<TT><I>op</I></TT> is one of '<TT>&lt;</TT>',
'<TT>&gt;</TT>', '<TT>&lt;=</TT>',
'<TT>&gt;=</TT>', '<TT>= =</TT>', or
'<TT>!=</TT>'. For example,
<TT><I>t</I></TT><TT>.compare('1.0+90c','&lt;',END)</TT>
returns <TT>True</TT> if <TT><I>t</I></TT>
contains more than <TT>90</TT> characters, counting each
line end as a character.</P>

<A NAME="ch16-77108"></A><A NAME="pythonian-CHP-16-ITERM-7630"></A><A NAME="pythonian-CHP-16-ITERM-7631"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>index</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.index(<TT><I>i</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Returns the basic form
'<TT><I>L</I></TT>.<TT><I>C</I></TT>'
of index <TT><I>i</I></TT> where
<TT><I>L</I></TT> and <TT><I>C</I></TT> are
decimal string forms of the line and column of
<TT><I>i</I></TT> (lines start from <TT>1</TT>,
columns start from <TT>0</TT>).</P>


<A NAME="pythonian-CHP-16-SECT-6.6"></A>
<H4 class="docSection2Title">16.6.6 Fonts</H4>

<P class="docText"><A NAME="pythonian-CHP-16-ITERM-7632"></A>
<A NAME="pythonian-CHP-16-ITERM-7633"></A>
<A NAME="pythonian-CHP-16-ITERM-7634"></A>
<A NAME="pythonian-CHP-16-ITERM-7635"></A>You can change fonts on any
<TT>Tkinter</TT> widget with option
<TT>font=</TT><TT><I>font</I></TT>. In most
cases it makes no sense to change widgets' fonts.
However, in <TT>Text</TT> instances, and for specific tags
on them, changing fonts can be quite useful.</P>

<P class="docText">Module <TT>tkFont</TT> supplies class
<TT>Font</TT>, attributes <TT>BOLD</TT>,
<TT>ITALIC</TT>, and <TT>NORMAL</TT> to define
font characteristics, and functions <TT>families</TT>
(returns a sequence of strings naming all families of available
fonts) and <TT>names</TT> (returns a sequence of strings
naming all user-defined fonts). Frequently used font options are:</P>

<DL class="docList">
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">family</span></span></span></DT>
<DD>
<P class="docList">Font family (e.g. '<TT>courier</TT>' or
'<TT>helvetica</TT>')</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">size</span></span></span></DT>
<DD>
<P class="docList">Font size (in points if positive, in pixels if negative)</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">slant</span></span></span></DT>
<DD>
<P class="docList"><TT>NORMAL</TT> (default) or <TT>ITALIC</TT></P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">weight</span></span></span></DT>
<DD>
<P class="docList"><TT>NORMAL</TT> (default) or <TT>BOLD</TT></P>
</DD>
</DL>

<P class="docText">An instance <TT>F</TT> of <TT>Font</TT> supplies
the following frequently used methods.</P>

<A NAME="ch16-77110"></A><A NAME="pythonian-CHP-16-ITERM-7636"></A><A NAME="pythonian-CHP-16-ITERM-7637"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>actual</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>F</I></TT>.actual([<TT><I>font_option</I></TT>])</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><TT><I>F</I></TT><TT>.actual( )</TT>, without
arguments, returns a dictionary with all options actually used in
<TT><I>F</I></TT> (best available approximations to those
requested).
<TT><I>F</I></TT><TT>.actual(</TT><TT><I>font_option</I></TT><TT>)</TT>
returns the value actually used in <TT><I>F</I></TT> for
the option <TT><I>font_option</I></TT>.</P>

<A NAME="ch16-77111"></A><A NAME="pythonian-CHP-16-ITERM-7638"></A><A NAME="pythonian-CHP-16-ITERM-7639"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>cget</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>F</I></TT>.cget(<TT><I>font_option</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Returns the value configured (i.e., requested) in
<TT><I>F</I></TT> for
<TT><I>font_option</I></TT>.</P>

<A NAME="ch16-77112"></A><A NAME="pythonian-CHP-16-ITERM-7640"></A><A NAME="pythonian-CHP-16-ITERM-7641"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>config</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>F</I></TT>.config(**<TT><I>font_options</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><TT><I>F</I></TT><TT>.config( )</TT>, without
arguments, returns a dictionary with all options configured (i.e.,
requested) in <TT><I>F</I></TT>. Called with one or more
named arguments, <TT>config</TT> sets font options in
<TT><I>F</I></TT>'s configuration.</P>

<A NAME="ch16-77113"></A><A NAME="pythonian-CHP-16-ITERM-7642"></A><A NAME="pythonian-CHP-16-ITERM-7643"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>copy</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>F</I></TT>.copy(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Returns a font <TT><I>G</I></TT> that is a copy of
<TT><I>F</I></TT>. You can then modify either or both of
<TT><I>F</I></TT> and <TT><I>G</I></TT>
separately, and any modifications on one do not affect the other.</P>


<A NAME="pythonian-CHP-16-SECT-6.7"></A>
<H4 class="docSection2Title">16.6.7 Text Example</H4>

<P class="docText">To exemplify some of the many features of class
<TT>Text</TT>, the following example shows one way to
highlight all occurrences of a string in the text:</P>

<A NAME="pythonian-CHP-16-ITERM-7644"></A><A NAME="pythonian-CHP-16-ITERM-7645"></A><PRE>from Tkinter import *

root = Tk(  )

# at top of root, left to right, put a Label, an Entry, and a Button
fram = Frame(root)
Label(fram,text='Text to find:').pack(side=LEFT)
edit = Entry(fram)
edit.pack(side=LEFT, fill=BOTH, expand=1)
edit.focus_set(  )
butt = Button(fram, text='Find')
butt.pack(side=RIGHT)
fram.pack(side=TOP)

# fill rest of root with a Text and put some text there
text = Text(root)
text.insert('1.0',
'''Nel mezzo del cammin di nostra vita
mi ritrovai per una selva oscura
che la diritta via era smarrita
''')
text.pack(side=BOTTOM)

# action-function for the Button: highlight all occurrences of string
def find(  ):
    # remove previous uses of tag `found', if any
    text.tag_remove('found', '1.0', END)
    # get string to look for (if empty, no searching)
    s = edit.get(  )
    if s:
        # start from the beginning (and when we come to the end, stop)
        idx = '1.0'
        while 1:
            # find next occurrence, exit loop if no more
            idx = text.search(s, idx, nocase=1, stopindex=END)
            if not idx: break
            # index right after the end of the occurrence
            lastidx = '%s+%dc' % (idx, len(s))
            # tag the whole occurrence (start included, stop excluded)
            text.tag_add('found', idx, lastidx)
            # prepare to search for next occurrence
            idx = lastidx
        # use a red foreground for all the tagged occurrences
        text.tag_config('found', foreground='red')
    # give focus back to the Entry field
    edit.focus_set(  )

# install action-function to execute when user clicks Button
butt.config(command=find)

# start the whole show (go event-driven)
root.mainloop(  )</PRE>

<P class="docText">This example also shows how to use a <TT>Frame</TT> to
perform a simple widget layout task (put three widgets side by side,
with the <TT>Text</TT> below them all). <A class="docLink" HREF="#pythonian-CHP-16-FIG-1">Figure 16-1</A> shows this example in action.</P>

<CENTER>
<H5 class="docFigureTitle"><A NAME="pythonian-CHP-16-FIG-1"></A>Figure 16-1. Highlighting in a Text instance</H5>
<IMG BORDER="0" WIDTH="431" HEIGHT="100" src="FILES/pynut_1601.gif" ALT="figs/pynut_1601.gif"></CENTER>



<a href="0596001886_"><img src="FILES/pixel.gif" width="1" height="1" border="0"></a><ul></ul>
</td>
</tr>
</table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0596001886_pythonian-chp-16-sect-5.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0596001886_pythonian-chp-16-sect-7.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
