<html><head>
<META http-equiv="Content-Type" content="text/html">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="18.5 Telnet"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0596001886_pythonian-chp-18-sect-4.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0596001886_pythonian-chp-18-sect-6.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top"><A NAME="pythonian-CHP-18-SECT-5"></A>
<H3 class="docSection1Title">18.5 Telnet</H3>

<P class="docText"><A NAME="pythonian-CHP-18-ITERM-8255"></A> <A NAME="pythonian-CHP-18-ITERM-8256"></A>Telnet is an old protocol, specified by
RFC 854 (see <A class="docLink" target="_blank" HREF="http://www.faqs.org/rfcs/rfc854.html">http://www.faqs.org/rfcs/rfc854.html</A>), and
normally used for interactive user sessions. The Python standard
library supports this protocol in its module
<TT>telnetlib</TT>. Module <TT>telnetlib</TT>
supplies a class <TT>Telnet</TT> to connect to a Telnet
server.<A NAME="pythonian-CHP-18-ITERM-8257"></A>
<A NAME="pythonian-CHP-18-ITERM-8258"></A>
<A NAME="pythonian-CHP-18-ITERM-8259"></A>
<A NAME="pythonian-CHP-18-ITERM-8260"></A></P>

<A NAME="ch18-98-fm2xml"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>Telnet</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>class Telnet(<TT><I>host</I></TT>=None,<TT><I>port</I></TT>=23)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Returns an instance <TT><I>t</I></TT> of class
<TT>Telnet</TT>. When <TT><I>host</I></TT> (and
optionally <TT><I>port</I></TT>) is given, implicitly
calls
<TT><I>t</I></TT><TT>.open(</TT><TT><I>host,port</I></TT><TT>)</TT>.</P>

<P class="docText">Instance <TT><I>t</I></TT> supplies many methods, of which
the most frequently used are as follows.</P>

<A NAME="ch18-99-fm2xml"></A><A NAME="pythonian-CHP-18-ITERM-8261"></A><A NAME="pythonian-CHP-18-ITERM-8262"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>close</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.close(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Closes the connection.</P>

<A NAME="ch18-100-fm2xml"></A><A NAME="pythonian-CHP-18-ITERM-8263"></A><A NAME="pythonian-CHP-18-ITERM-8264"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>expect</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.expect(<TT><I>res</I></TT>,<TT><I>timeout</I></TT>=None)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Reads data from the connection until it matches any of the regular
expressions that are the items of list
<TT><I>res</I></TT>, or until
<TT><I>timeout</I></TT> seconds elapse when
<TT><I>timeout</I></TT> is not <TT>None</TT>.
Regular expressions and match objects are covered in <A class="docLink" HREF="0596001886_pythonian-chp-9.html#pythonian-CHP-9">Chapter 9</A>. Returns a tuple of three items
<TT>(</TT><TT><I>i</I></TT>,<TT><I>mo</I></TT>,<TT><I>txt</I></TT><TT>)</TT>,
where <TT><I>i</I></TT> is the index in
<TT><I>res</I></TT> of the regular expression that
matched, <TT><I>mo</I></TT> is the match object, and
<TT><I>txt</I></TT> is all the text read until the match,
included. Raises <TT>EOFError</TT> when the connection is
closed and no data is available; otherwise, when it gets no match,
returns
<TT>(-1,None</TT>,<TT><I>txt</I></TT><TT>)</TT>,
where <TT><I>txt</I></TT> is all the text read, or
possibly '' if nothing was read before a timeout.
Results are non-deterministic if more than one item in
<TT><I>res</I></TT> can match, or if any of the items in
<TT><I>res</I></TT> include greedy parts (such as
'<TT>.*</TT>').</P>

<A NAME="ch18-101-fm2xml"></A><A NAME="pythonian-CHP-18-ITERM-8265"></A><A NAME="pythonian-CHP-18-ITERM-8266"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>interact</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.interact(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><A NAME="pythonian-CHP-18-ITERM-8265"></A> <A NAME="pythonian-CHP-18-ITERM-8266"></A>Enters interactive mode, connecting
standard input and output to the two channels of the connection, like
a dumb Telnet client.</P>

<A NAME="ch18-102-fm2xml"></A><A NAME="pythonian-CHP-18-ITERM-8267"></A><A NAME="pythonian-CHP-18-ITERM-8268"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>open</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.open(<TT><I>host</I></TT>,<TT><I>port</I></TT>=23)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><A NAME="pythonian-CHP-18-ITERM-8267"></A>
<A NAME="pythonian-CHP-18-ITERM-8268"></A>Connects to a Telnet server on the
given <TT><I>host</I></TT> and
<TT><I>port</I></TT>. Call once per instance
<TT><I>t</I></TT>, as
<TT><I>t</I></TT>'s first method call.
Don't call if <TT><I>host</I></TT> was
given on creation.</P>

<A NAME="ch18-103-fm2xml"></A><A NAME="pythonian-CHP-18-ITERM-8269"></A><A NAME="pythonian-CHP-18-ITERM-8270"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>read_all</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.read_all(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><A NAME="pythonian-CHP-18-ITERM-8269"></A> <A NAME="pythonian-CHP-18-ITERM-8270"></A>Reads data from the connection until
the connection is closed, then returns all available data. Blocks
until the time the connection is closed.</P>

<A NAME="ch18-104-fm2xml"></A><A NAME="pythonian-CHP-18-ITERM-8271"></A><A NAME="pythonian-CHP-18-ITERM-8272"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>read_eager</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.read_eager(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><A NAME="pythonian-CHP-18-ITERM-8271"></A> <A NAME="pythonian-CHP-18-ITERM-8272"></A>Reads and returns everything that can
be read from the connection without blocking; may be the empty string
''. Raises <TT>EOFError</TT> if the
connection is closed and no data is available.</P>

<A NAME="ch18-105-fm2xml"></A><A NAME="pythonian-CHP-18-ITERM-8273"></A><A NAME="pythonian-CHP-18-ITERM-8274"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>read_some</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.read_some(  )</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Reads and returns at least one byte of data from the connection,
unless the connection is closed, in which case it returns
''. Blocks until at least one byte of data is
available.</P>

<A NAME="ch18-106-fm2xml"></A><A NAME="pythonian-CHP-18-ITERM-8275"></A><A NAME="pythonian-CHP-18-ITERM-8276"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>read_until</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.read_until(<TT><I>expected</I></TT>,<TT><I>timeout</I></TT>=None)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><A NAME="pythonian-CHP-18-ITERM-8275"></A> <A NAME="pythonian-CHP-18-ITERM-8276"></A>Reads data from the connection until it
encounters string <TT><I>expected</I></TT>, or until
<TT><I>timeout</I></TT> seconds elapse when
<TT><I>timeout</I></TT> is not <TT>None</TT>.
Returns whatever data is available at that time, or possibly the
empty string ''. Raises
<TT>EOFError</TT> if the connection is closed and no data
is available.</P>

<A NAME="ch18-107-fm2xml"></A><A NAME="pythonian-CHP-18-ITERM-8277"></A><A NAME="pythonian-CHP-18-ITERM-8278"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>write</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre><TT><I>t</I></TT>.write(<TT><I>astring</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Writes string <TT><I>astring</I></TT> to the connection.</P>


<a href="0596001886_"><img src="FILES/pixel.gif" width="1" height="1" border="0"></a><ul></ul>
</td>
</tr>
</table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0596001886_pythonian-chp-18-sect-4.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0596001886_pythonian-chp-18-sect-6.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
