<html><head>
<META http-equiv="Content-Type" content="text/html">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="21.1 Encoding Binary Data as Text"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0596001886_pythonian-chp-21.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0596001886_pythonian-chp-21-sect-2.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top"><A NAME="pythonian-CHP-21-SECT-1"></A>
<H3 class="docSection1Title">21.1 Encoding Binary Data as Text</H3>

<P class="docText"><A NAME="pythonian-CHP-21-ITERM-8692"></A> <A NAME="pythonian-CHP-21-ITERM-8693"></A>Several kinds of media (e.g., email
messages) contain only text. When you want to transmit binary data
via such media, you need to encode the data as text strings. The
Python standard library supplies modules that support the standard
encodings known as Base 64, Quoted Printable, and
UU.<A NAME="pythonian-CHP-21-ITERM-8694"></A> <A NAME="pythonian-CHP-21-ITERM-8695"></A></P>

<A NAME="pythonian-CHP-21-SECT-1.1"></A>
<H4 class="docSection2Title">21.1.1 The base64 Module</H4>

<P class="docText"><A NAME="pythonian-CHP-21-ITERM-8696"></A>
<A NAME="pythonian-CHP-21-ITERM-8697"></A>
<A NAME="pythonian-CHP-21-ITERM-8698"></A>The
<TT>base64</TT> module supports the encoding specified in
RFC 1521 as Base 64. The Base 64 encoding is a compact way to
represent arbitrary binary data as text, without any attempt to
produce human-readable results. Module <TT>base64</TT>
supplies four functions.</P>

<A NAME="ch21-4-fm2xml"></A><A NAME="pythonian-CHP-21-ITERM-8699"></A><A NAME="pythonian-CHP-21-ITERM-8700"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>decode</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>decode(<TT><I>infile</I></TT>,<TT><I>outfile</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText"><A NAME="pythonian-CHP-21-ITERM-8699"></A> <A NAME="pythonian-CHP-21-ITERM-8700"></A>Reads text-file-like object
<TT><I>infile</I></TT>, by calling
<TT><I>infile</I></TT><TT>.readline</TT> until
end of file (i.e, until a call to
<TT><I>infile</I></TT><TT>.readline</TT> returns
an empty string), decodes the Base 64-encoded text thus read, and
writes the decoded data to binary-file-like object
<TT><I>outfile</I></TT>.</P>

<A NAME="ch21-5-fm2xml"></A><A NAME="pythonian-CHP-21-ITERM-8701"></A><A NAME="pythonian-CHP-21-ITERM-8702"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>decodestring</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>decodestring(<TT><I>s</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Decodes text string <TT><I>s</I></TT>, which contains one
or more complete lines of Base 64-encoded text, and returns the byte
string with the corresponding decoded data.</P>

<A NAME="ch21-6-fm2xml"></A><A NAME="pythonian-CHP-21-ITERM-8703"></A><A NAME="pythonian-CHP-21-ITERM-8704"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>encode</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>encode(<TT><I>infile</I></TT>,<TT><I>outfile</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Reads binary-file-like object <TT><I>infile</I></TT>, by
calling <TT><I>infile</I></TT><TT>.read</TT>
(for a few bytes at a time—the amount of data that Base 64
encodes into a single output line) until end of file (i.e, until a
call to <TT><I>infile</I></TT><TT>.read</TT>
returns an empty string). Then it encodes the data thus read in Base
64, and writes the encoded text as lines to text-file-like object
<TT><I>outfile</I></TT>. <TT>encode</TT> appends
<TT>\n</TT> to each line of text it emits, including the
last one.</P>

<A NAME="ch21-7-fm2xml"></A><A NAME="pythonian-CHP-21-ITERM-8705"></A><A NAME="pythonian-CHP-21-ITERM-8706"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>encodestring</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>encodestring(<TT><I>s</I></TT>)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Encodes binary string <TT><I>s</I></TT>, which contains
arbitrary bytes, and returns a text string with one or more complete
lines of Base 64-encoded data. <TT>encodestring</TT> always
returns a text string ending with <TT>\n</TT>.</P>


<A NAME="pythonian-CHP-21-SECT-1.2"></A>
<H4 class="docSection2Title">21.1.2 The quopri Module</H4>

<P class="docText"><A NAME="pythonian-CHP-21-ITERM-8707"></A>
<A NAME="pythonian-CHP-21-ITERM-8708"></A>
<A NAME="pythonian-CHP-21-ITERM-8709"></A>
<A NAME="pythonian-CHP-21-ITERM-8710"></A> <A NAME="pythonian-CHP-21-ITERM-8711"></A>The
<TT>quopri</TT> module supports the encoding specified in
RFC 1521 as Quoted Printable (QP). QP can represent any binary data
as text, but it's mainly intended for data that is
textual, with a relatively modest amount of characters with the high
bit set (i.e., characters outside of the ASCII range). For such data,
QP produces results that are both compact and rather human-readable.
Module <TT>quopri</TT> supplies four functions.</P>

<A NAME="ch21-9-fm2xml"></A><A NAME="pythonian-CHP-21-ITERM-8712"></A><A NAME="pythonian-CHP-21-ITERM-8713"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>decode</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>decode(<TT><I>infile</I></TT>,<TT><I>outfile</I></TT>,<TT><I>header</I></TT>=False)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Reads file-like object <TT><I>infile</I></TT>, by calling
<TT><I>infile</I></TT><TT>.readline</TT> until
end of file (i.e, until a call to
<TT><I>infile</I></TT><TT>.readline</TT> returns
an empty string), decodes the QP-encoded ASCII text thus read, and
writes the decoded data to file-like object
<TT><I>outfile</I></TT>. When
<TT><I>header</I></TT> is true, <TT>decode</TT>
also decodes <TT>_</TT> (underscores) into spaces.</P>

<A NAME="ch21-10-fm2xml"></A><A NAME="pythonian-CHP-21-ITERM-8714"></A><A NAME="pythonian-CHP-21-ITERM-8715"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>decodestring</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>decodestring(<TT><I>s</I></TT>,<TT><I>header</I></TT>=False)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Decodes string <TT><I>s</I></TT>, which contains
QP-encoded ASCII text, and returns the byte string with the decoded
data. When <TT><I>header</I></TT> is true,
<TT>decodestring</TT> also decodes <TT>_</TT>
(underscores) into spaces.</P>

<A NAME="ch21-11-fm2xml"></A><A NAME="pythonian-CHP-21-ITERM-8716"></A><A NAME="pythonian-CHP-21-ITERM-8717"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>encode</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>encode(<TT><I>infile</I></TT>,<TT><I>outfile</I></TT>,<TT><I>spaces</I></TT>,<TT><I>header</I></TT>=False)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Reads file-like object <TT><I>infile</I></TT>, by calling
<TT><I>infile</I></TT><TT>.readline</TT> until
end of file (i.e, until a call to
<TT><I>infile</I></TT><TT>.readline</TT> returns
an empty string), encodes the data thus read in QP, and writes the
encoded ASCII text to file-like object
<TT><I>outfile</I></TT>. When
<TT><I>spaces</I></TT> is true, <TT>encode</TT>
also encodes spaces and tabs. When <TT><I>header</I></TT>
is true, <TT>encode</TT> encodes spaces as
<TT>_</TT> (underscores).</P>

<A NAME="ch21-12-fm2xml"></A><A NAME="pythonian-CHP-21-ITERM-8718"></A><A NAME="pythonian-CHP-21-ITERM-8719"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>encodestring</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>encodestring(<TT><I>s</I></TT>,<TT><I>spaces</I></TT>=False,<TT><I>header</I></TT>=False)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Encodes string <TT><I>s</I></TT>, which contains arbitrary
bytes, and returns a string with QP-encoded ASCII text. When
<TT><I>spaces</I></TT> is true,
<TT>encodestring</TT> also encodes spaces and tabs. When
<TT><I>header</I></TT> is true,
<TT>encodestring</TT> encodes spaces as
<TT>_</TT> (underscores).</P>


<A NAME="pythonian-CHP-21-SECT-1.3"></A>
<H4 class="docSection2Title">21.1.3 The uu Module</H4>

<P class="docText"><A NAME="pythonian-CHP-21-ITERM-8720"></A>
<A NAME="pythonian-CHP-21-ITERM-8721"></A>
<A NAME="pythonian-CHP-21-ITERM-8722"></A>
<A NAME="pythonian-CHP-21-ITERM-8723"></A>
<A NAME="pythonian-CHP-21-ITERM-8724"></A>The <TT>uu</TT> module
supports the traditional Unix-to-Unix (UU) encoding, as implemented
by Unix programs <I>uuencode </I>and
<I>uudecode</I>. UU begins encoded data with a
<TT>begin</TT> line, which also gives the filename and
permissions of the file being encoded, and ends it with an
<TT>end</TT> line. Therefore, UU encoding lets you embed
encoded data in otherwise unstructured text, while Base 64 encoding
relies on the existence of other indications of where the encoded
data starts and finishes. Module <TT>uu</TT> supplies two
functions.</P>

<A NAME="ch21-14-fm2xml"></A><A NAME="pythonian-CHP-21-ITERM-8725"></A><A NAME="pythonian-CHP-21-ITERM-8726"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>decode</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>decode(<TT><I>infile</I></TT>,<TT><I>outfile</I></TT>=None,<TT><I>mode</I></TT>=None)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Reads file-like object <TT><I>infile</I></TT>, by calling
<TT><I>infile</I></TT><TT>.readline</TT> until
end of file (i.e, until a call to
<TT><I>infile</I></TT><TT>.readline</TT> returns
an empty string) or until a terminator line (the string
'<TT>end</TT>' surrounded by any amount of whitespace).
<TT>decode</TT> decodes the UU-encoded text thus read, and
writes the decoded data to file-like object
<TT><I>outfile</I></TT>. When
<TT><I>outfile</I></TT> is <TT>None</TT>,
<TT>decode</TT> creates the file specified in the UU-format
<TT>begin</TT> line, with the permission bits given by
<TT><I>mode</I></TT> (the permission bits specified in the
<TT>begin</TT> line, when <TT><I>mode</I></TT>
is <TT>None)</TT>. In this case, <TT>decode</TT>
raises an exception if the file already exists.</P>

<A NAME="ch21-15-fm2xml"></A><A NAME="pythonian-CHP-21-ITERM-8727"></A><A NAME="pythonian-CHP-21-ITERM-8728"></A><A NAME="pythonian-CHP-21-ITERM-8729"></A><A NAME="pythonian-CHP-21-ITERM-8730"></A><table width="515" border="0" cellpadding="5">
<tr>
<td align="left"><b><i>encode</i></b></td>
<td align="right"></td>
</tr>
</table>
<hr width="515" size="3" noshade="true" align="left" color="black">
<table width="515" border="0" cellpadding="5">
<tr>
<td align="left">
<pre>encode(<TT><I>infile</I></TT>,<TT><I>outfile</I></TT>,<TT><I>name</I></TT>='-',<TT><I>mode</I></TT>=0666)</pre>
</td>
<td align="right"></td>
</tr>
</table>
<P class="docText">Reads file-like object <TT><I>infile</I></TT>, by calling
<TT><I>infile</I></TT><TT>.read</TT> (for a few
bytes at a time—the amount of data that UU encodes into a
single output line) until end of file (i.e, until a call to
<TT><I>infile</I></TT><TT>.read</TT> returns an
empty string). Then it encodes the data thus read in UU, and writes
the encoded text to file-like object
<TT><I>outfile</I></TT>. <TT>encode</TT> also
writes a UU <TT>begin</TT> line before the encoded text,
and a UU <TT>end</TT> line after the encoded text. In the
<TT>begin</TT> line, <TT>encode</TT> specifies
the filename as <TT><I>name</I></TT> and the mode as
<TT><I>mode</I></TT>.<A NAME="pythonian-CHP-21-ITERM-8729"></A> <A NAME="pythonian-CHP-21-ITERM-8730"></A></P>



<a href="0596001886_"><img src="FILES/pixel.gif" width="1" height="1" border="0"></a><ul></ul>
</td>
</tr>
</table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0596001886_pythonian-chp-21.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0596001886_pythonian-chp-21-sect-2.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
