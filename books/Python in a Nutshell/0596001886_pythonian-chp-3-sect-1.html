<html><head>
<META http-equiv="Content-Type" content="text/html">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="3.1 The python Program"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0596001886_pythonian-chp-3.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0596001886_pythonian-chp-3-sect-2.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top"><A NAME="pythonian-CHP-3-SECT-1"></A>
<H3 class="docSection1Title">3.1 The python Program</H3>

<P class="docText"><A NAME="pythonian-CHP-3-ITERM-3619"></A>The
Python interpreter program is run as <I>python</I>
(it's named <I>python.exe </I>on
Windows). <I>python</I> includes both the interpreter
itself and the Python compiler, which is implicitly invoked, as
needed, on imported modules. Depending on your system, the program
may have to be in a directory listed in your
<TT>PATH</TT><I> </I>environment variable.
Alternatively, as with any other program, you can give a complete
pathname to it at the command (shell) prompt, or in the shell script
(or <I>.BAT</I> file, shortcut target, etc.) that runs
it.<sup class="docFootnote"><A class="docLink" HREF="#pythonian-CHP-3-FNOTE-1">[1]</A></sup> On Windows, you can also use Start
<img src="FILES/U2192.GIF" border=0> Programs <img src="FILES/U2192.GIF" border=0> Python 2.2
<img src="FILES/U2192.GIF" border=0> Python (command line).<A NAME="pythonian-CHP-3-ITERM-3620"></A></P>
<blockquote><p class="docFootnote"><sup><A NAME="pythonian-CHP-3-FNOTE-1">[1]</A></sup> This may involve using quotes, if the pathname
contains spaces—again, this depends on your operating
system.</p></blockquote>

<A NAME="pythonian-CHP-3-SECT-1.1"></A>
<H4 class="docSection2Title">3.1.1 Environment Variables</H4>

<P class="docText"><A NAME="pythonian-CHP-3-ITERM-3621"></A> <A NAME="pythonian-CHP-3-ITERM-3622"></A>Besides <TT>PATH</TT>, other
environment variables affect the <I>python</I> program.
Some environment variables have the same effects as options passed to
<I>python </I>on the command line; these are documented
in the next section. A few provide settings not available via
command-line options:</P>

<A NAME="pythonian-CHP-3-ITERM-3623"></A><A NAME="pythonian-CHP-3-ITERM-3624"></A><A NAME="pythonian-CHP-3-ITERM-3625"></A><A NAME="pythonian-CHP-3-ITERM-3626"></A><A NAME="pythonian-CHP-3-ITERM-3627"></A><A NAME="pythonian-CHP-3-ITERM-3628"></A><A NAME="pythonian-CHP-3-ITERM-3629"></A><DL class="docList">
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">PYTHONHOME</span></span><A NAME="pythonian-CHP-3-ITERM-3623"></A></span></DT>
<DD>
<P class="docList">The Python installation directory. A <I>lib
</I>subdirectory, containing the standard Python library
modules, should exist under this directory. On Unix-like systems, the
standard library modules should be in subdirectory
<I>lib/python-2.2</I> for Python 2.2,
<I>lib/python-2.3</I> for Python 2.3, and so on.</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">PYTHONPATH</span></span><A NAME="pythonian-CHP-3-ITERM-3624"></A>
<A NAME="pythonian-CHP-3-ITERM-3625"></A>
<A NAME="pythonian-CHP-3-ITERM-3626"></A>
<A NAME="pythonian-CHP-3-ITERM-3627"></A>
<A NAME="pythonian-CHP-3-ITERM-3628"></A></span></DT>
<DD>
<P class="docList">A list of directories, separated by colons on Unix-like systems and
by semicolons on Windows. Modules are imported from these
directories. This extends the initial value for
Python's <TT>sys.path</TT> variable.
Modules, importing, and the <TT>sys.path</TT> variable are
covered in <A class="docLink" HREF="0596001886_pythonian-chp-7.html#pythonian-CHP-7">Chapter 7</A>.</P>
</DD>
<DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">PYTHONSTARTUP</span></span><A NAME="pythonian-CHP-3-ITERM-3629"></A></span></DT>
<DD>
<P class="docList">The name of a Python source file that is automatically executed each
time an interactive interpreter session starts. No such file is run
if this variable is not set, or if it is set to the path of a file
that is not found. The <TT>PYTHONSTARTUP</TT> file is not
used when you run a Python script: it is used only when you start an
interactive session.</P>
</DD>
</DL>

<P class="docText">How you set and examine environment variables depends on your
operating system: shell commands, persistent startup shell files
(e.g., <I>AUTOEXEC.BAT</I> on Windows), or other
approaches (e.g., Start <img src="FILES/U2192.GIF" border=0> Settings
<img src="FILES/U2192.GIF" border=0> Control Panel <img src="FILES/U2192.GIF" border=0> System
<img src="FILES/U2192.GIF" border=0> Environment on Windows/NT, 2000, and XP). Some
Python versions for Windows also look for this information in the
registry, in addition to the environment. On Macintosh systems, the
Python interpreter is started through the PythonInterpreter icon and
configured through the EditPythonPrefs icon. See <A class="docLink" target="_blank" HREF="http://www.python.org/doc/current/mac/mac.html">http://www.python.org/doc/current/mac/mac.html</A>
for information about Python on the
Mac.<A NAME="pythonian-CHP-3-ITERM-3630"></A> <A NAME="pythonian-CHP-3-ITERM-3631"></A>
<A NAME="pythonian-CHP-3-ITERM-3632"></A></P>


<A NAME="pythonian-CHP-3-SECT-1.2"></A>
<H4 class="docSection2Title">3.1.2 Command-Line Syntax and Options</H4>

<P class="docText"><A NAME="pythonian-CHP-3-ITERM-3633"></A>The Python interpreter command-line
syntax can be summarized as follows:<A NAME="pythonian-CHP-3-ITERM-3634"></A> <A NAME="pythonian-CHP-3-ITERM-3635"></A> <A NAME="pythonian-CHP-3-ITERM-3636"></A> <A NAME="pythonian-CHP-3-ITERM-3637"></A></P>

<PRE>[<TT><I>path</I></TT>]python {<TT><I>options</I></TT>} [ -c <TT><I>command</I></TT> | <TT><I>file</I></TT> | - ] {<TT><I>arguments</I></TT>}</PRE>

<P class="docText">Here, brackets (<TT>[ ]</TT>) denote something that is
optional, braces (<TT>{ }</TT>) enclose items of which 0 or
more may be present, and vertical bars (<TT>|</TT>) show a
choice between alternatives (with none of them also being a
possibility).</P>

<P class="docText"><TT><I>options</I></TT> are case-sensitive short strings,
starting with a hyphen, that ask <I>python</I> for a
non-default behavior. Unlike most Windows programs,
<I>python</I> only accepts options starting with a
hyphen, not with a slash. Python consistently uses slashes for file
paths, as in Unix. The most useful options are listed in <A class="docLink" HREF="#pythonian-CHP-3-TABLE-1">Table 3-1</A>. Each option's description
gives the environment variable (if any) that, when set to any value,
requests the same behavior.</P>

<A NAME="pythonian-CHP-3-TABLE-1"></A><P><TABLE BORDER="1" CELLSPACING="0" CELLPADDING="1" WIDTH="100%">
<CAPTION><h5 class="docTableTitle">Table 3-1. Python frequently used command-line options</h5></CAPTION><COLGROUP span="2">
<TR>
<TH class="docTableHeader">
<P class="docText">Option</P>
</TH>
<TH class="docTableHeader">
<P class="docText">Meaning (and equivalent environment variable)</P>
</TH>
</TR>
<TR>
<TD class="docTableCell">
<P class="docText"><TT>-h</TT></P>
</TD>
<TD class="docTableCell">
<P class="docText">Prints a full list of options and summary help, then terminates</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<P class="docText"><TT>-i</TT></P>
</TD>
<TD class="docTableCell">
<P class="docText">Ensures an interactive session, no matter what
(<TT>PYTHONINSPECT</TT>)</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<P class="docText"><TT>-O</TT></P>
</TD>
<TD class="docTableCell">
<P class="docText">Optimizes generated bytecode (<TT>PYTHONOPTIMIZE</TT>)</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<P class="docText"><TT>-OO</TT></P>
</TD>
<TD class="docTableCell">
<P class="docText">Like <TT>-O</TT>, but also removes documentation strings
from the bytecode</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<P class="docText"><TT>-Q</TT> <TT><I>arg</I></TT></P>
</TD>
<TD class="docTableCell">
<P class="docText">Controls the behavior of division operator <TT>/</TT> on
integers</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<P class="docText"><TT>-S</TT></P>
</TD>
<TD class="docTableCell">
<P class="docText">Omits the normally implicit <TT>import</TT>
<TT>site</TT> on startup</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<P class="docText"><TT>-t</TT></P>
</TD>
<TD class="docTableCell">
<P class="docText">Warns about inconsistent usage of tabs and blank spaces</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<P class="docText"><TT>-tt</TT></P>
</TD>
<TD class="docTableCell">
<P class="docText">Like <TT>-tt</TT>, but raises an error rather than a warning</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<P class="docText"><TT>-u</TT></P>
</TD>
<TD class="docTableCell">
<P class="docText">Uses unbuffered binary files for standard output and standard error
(<TT>PYTHONUNBUFFERED</TT>)</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<P class="docText"><TT>-U</TT></P>
</TD>
<TD class="docTableCell">
<P class="docText">Treats all literal strings as Unicode literals</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<P class="docText"><TT>-v</TT></P>
</TD>
<TD class="docTableCell">
<P class="docText">Verbosely traces import and cleanup actions
(<TT>PYTHONVERBOSE</TT>)</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<P class="docText"><TT>-V</TT></P>
</TD>
<TD class="docTableCell">
<P class="docText">Prints the Python version number, then terminates</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<P class="docText"><TT>-W</TT> <TT><I>arg</I></TT></P>
</TD>
<TD class="docTableCell">
<P class="docText">Adds an entry to the warnings filter (covered in <A class="docLink" HREF="0596001886_pythonian-chp-17.html#pythonian-CHP-17">Chapter 17</A>)</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<P class="docText"><TT>-x</TT></P>
</TD>
<TD class="docTableCell">
<P class="docText">Excludes (skips) the first line of the main script's
source</P>
</TD>
</TR>
</COLGROUP>
</TABLE></P>

<P class="docText"><TT>-i</TT> is used to get an interactive session
immediately after running some script, with variables still intact
and available for inspection. You do not need it for normal
interactive sessions. <TT>-t</TT> and
<TT>-tt</TT> ensure that your tabs and spaces in Python
sources are used consistently (see <A class="docLink" HREF="0596001886_pythonian-chp-4.html#pythonian-CHP-4">Chapter 4</A> for
more information about whitespace usage in Python).</P>

<P class="docText"><TT>-O</TT> and <TT>-OO</TT> yield small savings
of time and space in bytecode generated for modules you import:
expect about 10% to 20% improvement in runtime, depending on your
platform and coding style. However, with <TT>-OO</TT>,
documentation strings will not be available. <TT>-Q</TT>
determines the behavior of division operator <TT>/</TT>
used between two integer operands (division is covered in <A class="docLink" HREF="0596001886_pythonian-chp-4.html#pythonian-CHP-4">Chapter 4</A>). <TT>-W</TT> adds an entry to the
warnings filter (warnings are covered in <A class="docLink" HREF="0596001886_pythonian-chp-17.html#pythonian-CHP-17">Chapter 17</A>).<A NAME="pythonian-CHP-3-ITERM-3640"></A> <A NAME="pythonian-CHP-3-ITERM-3641"></A></P>

<P class="docText"><TT>-u</TT> uses binary mode for standard output (and
standard error). Some platforms, such as Windows, distinguish binary
and text modes. Binary mode is needed when binary data is emitted to
standard output, as in some Common Gateway Interface (CGI) scripts.
<TT>-u</TT> also ensures that output is performed
immediately, rather than buffered to enhance performance. This is
necessary when delays due to buffering could cause problems, as in
certain Unix pipelines.</P>

<P class="docText"><A NAME="pythonian-CHP-3-ITERM-3642"></A> <A NAME="pythonian-CHP-3-ITERM-3643"></A>After
the options, if any, comes an indication of what Python program is to
be run. A file path is that of a Python source or bytecode file to
run, complete with file extension, if any. On any platform, you may
use a slash (<TT>/</TT>) as the separator between
components in this path. On Windows only, you may alternatively use a
backslash (<TT>\</TT>). Instead of a file path, you can use
<TT>-c</TT> <TT><I>command</I></TT> to execute a
Python code string <TT><I>command</I></TT>.
<TT><I>command</I></TT> normally contains spaces, so you
need quotes around it to satisfy your operating
system's shell or command-line processor. Some
shells (e.g., <I>bash</I>) let you enter multiple lines
as a single argument, so that <TT><I>command</I></TT> can
be a series of Python statements. Other shells (e.g., Windows shells)
limit you to a single line; <TT><I>command</I></TT> can
then be one or more simple statements separated by semicolons
(<TT>;</TT>), as discussed in <A class="docLink" HREF="0596001886_pythonian-chp-4.html#pythonian-CHP-4">Chapter 4</A>.
A hyphen, or the lack of any token in this position, tells the
interpreter to read program source from standard
input—normally, an interactive session. You need an explicit
hyphen only if arguments follow. <TT><I>arguments</I></TT>
are arbitrary strings: the Python application being run can access
the strings as <TT>sys.argv</TT>.<A NAME="pythonian-CHP-3-ITERM-3644"></A> <A NAME="pythonian-CHP-3-ITERM-3645"></A>
<A NAME="pythonian-CHP-3-ITERM-3646"></A> <A NAME="pythonian-CHP-3-ITERM-3647"></A></P>

<P class="docText">For example, on a standard Windows installation of Python 2.2, you
can enter the following at an MS-DOS Prompt (or Command Prompt):</P>

<PRE>C:\&gt; <B>python22\python -c "import time; print time.asctime(  )"</B></PRE>

<P class="docText">to have Python emit the current date and time. On an installation of
Python from sources, on Cygwin, Linux, OpenBSD, or other Unix-like
systems, you can enter the following at a shell prompt:</P>

<PRE>$ <B>/usr/local/bin/python -v</B></PRE>

<P class="docText">to start an interactive session with verbose tracing of import and
cleanup. In each case, you can start the command with just
<I>python</I> (you do not have to specify the full path
to the Python executable) if the directory of the Python executable
is in your <TT>PATH</TT> environment variable.<A NAME="pythonian-CHP-3-ITERM-3648"></A></P>


<A NAME="pythonian-CHP-3-SECT-1.3"></A>
<H4 class="docSection2Title">3.1.3 Interactive Sessions</H4>

<P class="docText"><A NAME="pythonian-CHP-3-ITERM-3649"></A> <A NAME="pythonian-CHP-3-ITERM-3650"></A>
<A NAME="pythonian-CHP-3-ITERM-3651"></A>
<A NAME="pythonian-CHP-3-ITERM-3652"></A>When you run
<I>python</I> without a script argument,
<I>python</I> enters an interactive session and
prompts<I> </I>you to enter Python statements or
expressions. Interactive sessions are useful to explore, to check
things out, and to use Python as a very powerful, extensible
interactive calculator.</P>

<P class="docText"><A NAME="pythonian-CHP-3-ITERM-3653"></A> <A NAME="pythonian-CHP-3-ITERM-3654"></A>
<A NAME="pythonian-CHP-3-ITERM-3655"></A>When
you enter a complete statement, Python executes it. When you enter a
complete expression, Python evaluates it. If the expression has a
result, Python outputs a string representing the result, and also
assigns the result to the variable named <TT>_</TT> (a
single underscore) so that you can easily use that result in another
expression. The prompt string is <TT>&gt;&gt;&gt;</TT> when
Python expects a statement or expression, and <TT>..</TT>.
when a statement or expression has been started but not yet
completed. For example, Python prompts you with
<TT>..</TT>. when you have opened a parenthesis on a
previous line and have not closed it yet.</P>

<P class="docText">An interactive session is terminated by end-of-file on standard input
(Ctrl-Z on Windows, Ctrl-D on Unix-like systems). The statement
<TT>raise</TT> <TT>SystemExit</TT> also ends the
session, as does a call to <TT>sys.exit( )</TT>, either
interactively or in code being run (<TT>SystemExit</TT> and
Python exception handling are covered in <A class="docLink" HREF="0596001886_pythonian-chp-6.html#pythonian-CHP-6">Chapter 6</A>).</P>

<P class="docText">Line-editing and history facilities depend in part on how Python was
built: if the optional <TT>readline</TT> module was
included, the features of the GNU readline library are available.
Windows NT, 2000, and XP have a simple but usable history facility
for interactive text-mode programs like <I>python</I>.
Windows 95, 98, and ME don't. You can use other
line-editing and history facilities by installing the Alternative
ReadLine package for Windows (<A class="docLink" target="_blank" HREF="http://newcenturycomputers.net/projects/readline.html">http://newcenturycomputers.net/projects/readline.html</A>)
or <TT>pyrepl</TT> for Unix (<A class="docLink" target="_blank" HREF="http://starship.python.net/crew/mwh/hacks/pyrepl.html">http://starship.python.net/crew/mwh/hacks/pyrepl.html</A>).<A NAME="pythonian-CHP-3-ITERM-3656"></A> <A NAME="pythonian-CHP-3-ITERM-3657"></A> <A NAME="pythonian-CHP-3-ITERM-3658"></A></P>



<ul></ul>
</td>
</tr>
</table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0596001886_pythonian-chp-3.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0596001886_pythonian-chp-3-sect-2.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
