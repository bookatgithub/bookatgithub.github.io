<html><head>
<META http-equiv="Content-Type" content="text/html">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="4.6 Sequence Operations"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0596001886_pythonian-chp-4-sect-5.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0596001886_pythonian-chp-4-sect-7.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top"><A NAME="pythonian-CHP-4-SECT-6"></A>
<H3 class="docSection1Title">4.6 Sequence Operations</H3>

<P class="docText"><A NAME="pythonian-CHP-4-ITERM-3977"></A> <A NAME="pythonian-CHP-4-ITERM-3978"></A>Python
supports a variety of operations that can be applied to sequence
types, including strings, lists, and tuples.</P>

<A NAME="pythonian-CHP-4-SECT-6.1"></A>
<H4 class="docSection2Title">4.6.1 Sequences in General</H4>

<P class="docText">Sequences are containers with items accessible by indexing or
slicing, as we'll discuss shortly. The built-in
<TT>len</TT> function takes a container as an argument and
returns the number of items in the container. The built-in
<TT>min</TT> and <TT>max</TT> functions take one
argument, a non-empty sequence (or other iterable) whose items are
comparable, and they return the smallest and largest items in the
sequence, respectively. You can also call <TT>min</TT> and
<TT>max</TT> with multiple arguments, in which case they
return the smallest and largest arguments,
respectively.<A NAME="pythonian-CHP-4-ITERM-3979"></A> <A NAME="pythonian-CHP-4-ITERM-3980"></A>
<A NAME="pythonian-CHP-4-ITERM-3981"></A>
<A NAME="pythonian-CHP-4-ITERM-3982"></A>
<A NAME="pythonian-CHP-4-ITERM-3983"></A>
<A NAME="pythonian-CHP-4-ITERM-3984"></A></P>

<A NAME="pythonian-CHP-4-SECT-6.1.1"></A>
<H5 class="docSection3Title">4.6.1.1 Coercion and conversions</H5>

<P class="docText"><A NAME="pythonian-CHP-4-ITERM-3985"></A>
<A NAME="pythonian-CHP-4-ITERM-3986"></A>There
is no implicit coercion between different sequence types except that
normal strings are coerced to Unicode strings if needed. Conversion
to strings is covered in detail in <A class="docLink" HREF="0596001886_pythonian-chp-9.html#pythonian-CHP-9">Chapter 9</A>. You
can call the built-in <TT>tuple</TT> and
<TT>list</TT> functions with a single argument (a sequence
or other iterable) to get an instance of the type
you're calling, with the same items in the same
order as in the argument.</P>



<A NAME="pythonian-CHP-4-SECT-6.1.2"></A>
<H5 class="docSection3Title">4.6.1.2 Concatenation</H5>

<P class="docText"><A NAME="pythonian-CHP-4-ITERM-3987"></A>
<A NAME="pythonian-CHP-4-ITERM-3988"></A>
<A NAME="pythonian-CHP-4-ITERM-3989"></A>
<A NAME="pythonian-CHP-4-ITERM-3990"></A> <A NAME="pythonian-CHP-4-ITERM-3991"></A>You can concatenate sequences of
the same type with the <TT>+</TT> operator. You can also
multiply any sequence <TT><I>S</I></TT> by an integer
<TT><I>n</I></TT> with the <TT>*</TT> operator.
The result of
<TT><I>S</I></TT><TT>*</TT><TT><I>n</I></TT>
or
<TT><I>n</I></TT><TT>*</TT><TT><I>S</I></TT>
is the concatenation of <TT><I>n</I></TT> copies of
<TT><I>S</I></TT>. If <TT><I>n</I></TT> is zero
or less than zero, the result is an empty sequence of the same type
as <TT><I>S</I></TT>.<A NAME="pythonian-CHP-4-ITERM-3992"></A> <A NAME="pythonian-CHP-4-ITERM-3993"></A> <A NAME="pythonian-CHP-4-ITERM-3994"></A></P>



<A NAME="pythonian-CHP-4-SECT-6.1.3"></A>
<H5 class="docSection3Title">4.6.1.3 Sequence membership</H5>

<P class="docText">The <TT><I>x</I></TT> <TT>in</TT>
<TT><I>S</I></TT> operator tests to see whether object
<TT><I>x</I></TT> equals any item in the sequence
<TT><I>S</I></TT>. It returns <TT>True</TT> if
it does and <TT>False</TT> if it doesn't.
Similarly, the <TT><I>x</I></TT> <TT>not</TT>
<TT>in</TT> <TT><I>S</I></TT> operator is just
like <TT>not</TT>
<TT>(</TT><TT><I>x</I></TT>
<TT>in</TT>
<TT><I>S</I></TT><TT>)</TT>.</P>



<A NAME="pythonian-CHP-4-SECT-6.1.4"></A>
<H5 class="docSection3Title">4.6.1.4 Indexing a sequence</H5>

<P class="docText"><A NAME="pythonian-CHP-4-ITERM-3995"></A>
<A NAME="pythonian-CHP-4-ITERM-3996"></A>
<A NAME="pythonian-CHP-4-ITERM-3997"></A>The
<TT><I>n</I></TT>th item of a sequence
<TT><I>S</I></TT> is denoted by an
<I>indexing</I>:
<TT><I>S</I></TT><TT>[</TT><TT><I>n</I></TT><TT>]</TT>.
Indexing in Python is zero-based (i.e., the first item in
<TT><I>S</I></TT> is
<TT><I>S</I></TT><TT>[0]</TT>). If
<TT><I>S</I></TT> has <TT><I>L</I></TT> items,
the index <TT><I>n</I></TT> may be <TT>0</TT>,
<TT>1</TT>, ... up to and including
<TT><I>L</I></TT><TT>-1</TT>, but no larger.
<TT><I>n</I></TT> may also be <TT>-1</TT>,
<TT>-2</TT>, ... down to and including
<TT>-</TT><TT><I>L</I></TT>, but no smaller. A
negative <TT><I>n</I></TT> indicates the same item in
<TT><I>S</I></TT> as
<TT><I>L</I></TT><TT>+</TT><TT><I>n</I></TT>
does. In other words,
<TT><I>S</I></TT><TT>[-1]</TT> is the last
element of <TT><I>S</I></TT>,
<TT><I>S</I></TT><TT>[-2]</TT> is the
next-to-last one, and so on. For example:</P>

<PRE>x = [1,2,3,4]
x[1]                  # 2
x[-1]                 # 4</PRE>

<P class="docText">Using an index greater than or equal to <TT><I>L</I></TT>
or less than <TT>-</TT><TT><I>L</I></TT> raises
an exception. Assigning to an item with an invalid index also raises
an exception. You can add elements to a list, but to do so you assign
to a slice, not an item, as we'll discuss shortly.</P>



<A NAME="pythonian-CHP-4-SECT-6.1.5"></A>
<H5 class="docSection3Title">4.6.1.5 Slicing a sequence</H5>

<P class="docText"><A NAME="pythonian-CHP-4-ITERM-3998"></A>
<A NAME="pythonian-CHP-4-ITERM-3999"></A>
<A NAME="pythonian-CHP-4-ITERM-4000"></A>You
can denote a subsequence of <TT><I>S</I></TT> with a
<I>slicing</I>, using the syntax
<TT><I>S</I></TT><TT>[</TT><TT><I>i</I></TT>:<TT><I>j</I></TT><TT>]</TT>,
where <TT><I>i</I></TT> and <TT><I>j</I></TT>
are integers.
<TT><I>S</I></TT><TT>[</TT><TT><I>i</I></TT>:<TT><I>j</I></TT><TT>]</TT>
is the subsequence of <TT><I>S</I></TT> from the
<TT><I>i</I></TT>th item, included, to the
<TT><I>j</I></TT>th item, excluded. Note that in Python,
all ranges include the lower bound and exclude the upper bound. A
slice can be an empty subsequence if <TT><I>j</I></TT> is
less than <TT><I>i</I></TT> or if
<TT><I>i</I></TT> is greater than or equal to
<TT><I>L</I></TT>, the length of
<TT><I>S</I></TT>. You can omit
<TT><I>i</I></TT> if it is equal to <TT>0</TT>,
so that the slice begins from the start of
<TT><I>S</I></TT>, and you can omit
<TT><I>j</I></TT> if it is greater than or equal to
<TT><I>L</I></TT>, so that the slice extends all the way
to the end of <TT><I>S</I></TT>. You can even omit both
indices to mean the entire sequence:
<TT><I>S</I></TT><TT>[:]</TT>. Either or both
indices may be less than <TT>0</TT>. A negative index
indicates the same spot in <TT><I>S</I></TT> as
<TT><I>L</I></TT><TT>+</TT><TT><I>n</I></TT>,
just as in indexing. An index greater than or equal to
<TT><I>L</I></TT> means the end of
<TT><I>S</I></TT>, while a negative index less than or
equal to <TT>-</TT><TT><I>L</I></TT> means the
start of <TT><I>S</I></TT>. Here are some examples:</P>

<PRE>x = [1,2,3,4]
x[1:3]                 # [2,3]
x[1:]                  # [2,3,4]
x[:2]                  # [1,2]</PRE>

<P class="docText">Slicing can also use the extended syntax
<TT><I>S</I></TT><TT>[</TT><TT><I>i</I></TT>:<TT><I>j</I></TT>:<TT><I>k</I></TT><TT>]</TT>.
In Python 2.2, built-in sequences do not support extended-form
slicing, but in Python 2.3 they do. Even in Python 2.2 and earlier,
however, user-defined sequences can optionally support extended-form
slicing. <TT><I>k</I></TT> is the
<I>stride</I> of the slice, or the distance between
successive indices. For example,
<TT><I>S</I></TT><TT>[</TT><TT><I>i</I></TT>:<TT><I>j</I></TT><TT>]</TT>
is equivalent to
<TT><I>S</I></TT><TT>[</TT><TT><I>i</I></TT>:<TT><I>j</I></TT><TT>:1]</TT>,
<TT><I>S</I></TT><TT>[::2]</TT> is the
subsequence of <TT><I>S</I></TT> that includes all items
that have an even index in <TT><I>S</I></TT>, and
<TT><I>S</I></TT><TT>[::-1]</TT> has the same
items as <TT><I>S</I></TT>, but in reverse order.</P>



<A NAME="pythonian-CHP-4-SECT-6.2"></A>
<H4 class="docSection2Title">4.6.2 Strings</H4>

<P class="docText"><A NAME="pythonian-CHP-4-ITERM-4001"></A>
<A NAME="pythonian-CHP-4-ITERM-4002"></A>
<A NAME="pythonian-CHP-4-ITERM-4003"></A>String objects are immutable, so attempting
to rebind or delete an item or slice of a string raises an exception.
The items of a string object are strings of length
<TT>1</TT>. The slices of a string object are its
substrings. String objects have several methods, which are covered in
<A class="docLink" HREF="0596001886_pythonian-chp-9.html#pythonian-CHP-9">Chapter 9</A>.<A NAME="pythonian-CHP-4-ITERM-4004"></A> <A NAME="pythonian-CHP-4-ITERM-4005"></A>
<A NAME="pythonian-CHP-4-ITERM-4006"></A>
<A NAME="pythonian-CHP-4-ITERM-4007"></A></P>


<A NAME="pythonian-CHP-4-SECT-6.3"></A>
<H4 class="docSection2Title">4.6.3 Tuples</H4>

<P class="docText"><A NAME="pythonian-CHP-4-ITERM-4008"></A>
<A NAME="pythonian-CHP-4-ITERM-4009"></A>
<A NAME="pythonian-CHP-4-ITERM-4010"></A>Tuple objects are immutable, so attempting
to rebind or delete an item or slice of a tuple raises an exception.
The items of a tuple are arbitrary objects, and may be of different
types. The slices of a tuple are also tuples. Tuples have no normal
methods.<A NAME="pythonian-CHP-4-ITERM-4011"></A> <A NAME="pythonian-CHP-4-ITERM-4012"></A></P>


<A NAME="pythonian-CHP-4-SECT-6.4"></A>
<H4 class="docSection2Title">4.6.4 Lists</H4>

<P class="docText"><A NAME="pythonian-CHP-4-ITERM-4013"></A>
<A NAME="pythonian-CHP-4-ITERM-4014"></A>
<A NAME="pythonian-CHP-4-ITERM-4015"></A>List objects are mutable, so you may rebind
or delete items and slices of a list. The items of a list are
arbitrary objects, and may be of different types. The slices of a
list are also lists.</P>

<A NAME="pythonian-CHP-4-SECT-6.4.1"></A>
<H5 class="docSection3Title">4.6.4.1 Modifying a list</H5>

<P class="docText"><A NAME="pythonian-CHP-4-ITERM-4016"></A>
<A NAME="pythonian-CHP-4-ITERM-4017"></A>You can
modify a list by assigning to an indexing. For instance:</P>

<PRE>x = [1,2,3,4]
x[1] = 42                # x is now [1,42,2,3]</PRE>

<P class="docText">Another way to modify a list object <TT><I>L</I></TT> is
to use a slice of <TT><I>L</I></TT> as the target
(left-hand side) of an assignment statement. The right-hand side of
the assignment must also be a list. The left-hand side slice and the
right-hand side list may each be of any length, which means that
assigning to a slice can add items to the list or remove items from
the list. For example:</P>

<PRE>x = [1,2,3,4]
x[1:3] = [22,33,44]      # x is now [1,22,33,44,4]
x[1:4] = [2,3]           # x back to [1,2,3,4]</PRE>

<P class="docText">Here are some important special cases:</P>

<UL>
<LI><P class="docList">Using the empty list <TT>[ ]</TT> as the right-hand side
expression removes the target slice from
<TT><I>L</I></TT>. In other words,
<TT><I>L</I></TT><TT>[</TT><TT><I>i</I></TT>:<TT><I>j</I></TT><TT>]=[
]</TT> has the same effect as <TT>del</TT>
<TT><I>L</I></TT><TT>[</TT><TT><I>i</I></TT>:<TT><I>j</I></TT><TT>]</TT>.</P></LI>
<LI><P class="docList">Using an empty slice of <TT><I>L</I></TT> as the left-hand
side target inserts the items of the right-hand side list at the
appropriate spot in <TT><I>L</I></TT>. In other words,
<TT><I>L</I></TT><TT>[</TT><TT><I>i</I></TT>:<TT><I>i</I></TT><TT>]=['a','b']</TT>
inserts the items '<TT>a</TT>' and '<TT>b</TT>'
after item <TT><I>i</I></TT> in
<TT><I>L</I></TT>.</P></LI>
<LI><P class="docList">Using a slice that covers the entire list object,
<TT><I>L</I></TT><TT>[:]</TT>, as the left-hand
side target totally replaces the content of
<TT><I>L</I></TT>.</P></LI>
</UL>
<P class="docText">You can delete an item or a slice from a list with
<TT>del</TT>. For instance:</P>

<PRE>x = [1,2,3,4,5]
del x[1]                 # x is now [1,3,4,5]
del x[1:3]               # x is now [1,5]</PRE>



<A NAME="pythonian-CHP-4-SECT-6.4.2"></A>
<H5 class="docSection3Title">4.6.4.2 In-place operations on a list</H5>

<P class="docText">List objects define in-place versions of the <TT>+</TT> and
<TT>*</TT> operators, which are used via augmented
assignment statements. The augmented assignment statement
<TT><I>L</I></TT><TT>+=</TT><TT><I>L1</I></TT>
has the effect of adding the items of list
<TT><I>L1</I></TT> to the end of
<TT><I>L</I></TT>, while
<TT><I>L</I></TT><TT>*=</TT><TT><I>n</I></TT>
has the effect of adding <TT><I>n</I></TT> copies of
<TT><I>L</I></TT> to the end of
<TT><I>L</I></TT>.</P>



<A NAME="pythonian-CHP-4-SECT-6.4.3"></A>
<H5 class="docSection3Title">4.6.4.3 List methods</H5>

<P class="docText"><A NAME="pythonian-CHP-4-ITERM-4018"></A>
<A NAME="pythonian-CHP-4-ITERM-4019"></A>
<A NAME="pythonian-CHP-4-ITERM-4020"></A>List
objects provide several methods, as shown in <A class="docLink" HREF="#pythonian-CHP-4-TABLE-3">Table 4-3</A>. <I>Non-mutating</I>
<I>methods</I> return a result without altering the
object to which they apply, while <I>mutating</I>
<I>methods</I> may alter the object to which they
apply. Many of the mutating methods behave like assignments to
appropriate slices of the list. In <A class="docLink" HREF="#pythonian-CHP-4-TABLE-3">Table 4-3</A>,
<TT><I>L</I></TT> and <TT><I>l</I></TT>
indicate any list object, <TT><I>i</I></TT> any valid
index in <TT><I>L</I></TT>, and
<TT><I>x</I></TT> any object.</P>

<A NAME="pythonian-CHP-4-TABLE-3"></A><P><TABLE BORDER="1" CELLSPACING="0" CELLPADDING="1" WIDTH="100%">
<CAPTION><h5 class="docTableTitle">Table 4-3. List object methods</h5></CAPTION><COLGROUP span="2">
<TR>
<TH class="docTableHeader">
<P class="docText">Method</P>
</TH>
<TH class="docTableHeader">
<P class="docText">Description</P>
</TH>
</TR>
<TR>
<TD class="docTableCell">
<P class="docText"><span class="docEmphBold">Non-mutating methods</span></P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<A NAME="pythonian-CHP-4-ITERM-4021"></A><A NAME="pythonian-CHP-4-ITERM-4022"></A><PRE><TT><I>L</I></TT>.count(<TT><I>x</I></TT>)</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">Returns the number of occurrences of <TT><I>x</I></TT> in
<TT><I>L</I></TT></P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<A NAME="pythonian-CHP-4-ITERM-4023"></A><A NAME="pythonian-CHP-4-ITERM-4024"></A><PRE><TT><I>L</I></TT>.index(<TT><I>x</I></TT>)</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">Returns the index of the first occurrence of item
<TT><I>x</I></TT> in <TT><I>L</I></TT> or
raises an exception if <TT><I>L</I></TT> has no such item</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<P class="docText"><span class="docEmphBold">Mutating methods</span></P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<A NAME="pythonian-CHP-4-ITERM-4025"></A><A NAME="pythonian-CHP-4-ITERM-4026"></A><PRE><TT><I>L</I></TT>.append(<TT><I>x</I></TT>)</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">Appends item <TT><I>x</I></TT> to the end of
<TT><I>L</I></TT></P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<A NAME="pythonian-CHP-4-ITERM-4027"></A><A NAME="pythonian-CHP-4-ITERM-4028"></A><PRE><TT><I>L</I></TT>.extend(<TT><I>l</I></TT>)</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">Appends all the items of list <TT><I>l</I></TT> to the end
of <TT><I>L</I></TT></P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<A NAME="pythonian-CHP-4-ITERM-4029"></A><A NAME="pythonian-CHP-4-ITERM-4030"></A><PRE><TT><I>L</I></TT>.insert(<TT><I>i</I></TT>,<TT><I>x</I></TT>)</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">Inserts item <TT><I>x</I></TT> at index
<TT><I>i</I></TT> in <TT><I>L</I></TT></P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<A NAME="pythonian-CHP-4-ITERM-4031"></A><A NAME="pythonian-CHP-4-ITERM-4032"></A><PRE><TT><I>L</I></TT>.remove(<TT><I>x</I></TT>)</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">Removes the first occurrence of item <TT><I>x</I></TT>
from <TT><I>L</I></TT></P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<A NAME="pythonian-CHP-4-ITERM-4033"></A><A NAME="pythonian-CHP-4-ITERM-4034"></A><PRE><TT><I>L</I></TT>.pop([<TT><I>i</I></TT>])</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">Returns the value of the item at index <TT><I>i</I></TT>
and removes it from <TT><I>L</I></TT>; if
<TT><I>i</I></TT> is omitted, removes and returns the last
item</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<A NAME="pythonian-CHP-4-ITERM-4035"></A><A NAME="pythonian-CHP-4-ITERM-4036"></A><PRE><TT><I>L</I></TT>.reverse(  )</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">Reverses, in-place, the items of <TT><I>L</I></TT></P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<A NAME="pythonian-CHP-4-ITERM-4037"></A><A NAME="pythonian-CHP-4-ITERM-4038"></A><PRE><TT><I>L</I></TT>.sort([<TT><I>f</I></TT>])</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">Sorts, in-place, the items of <TT><I>L</I></TT>, comparing
items by <TT><I>f</I></TT>; if
<TT><I>f</I></TT> is omitted, <TT>cmp</TT> is
used as comparison function<A NAME="pythonian-CHP-4-ITERM-4039"></A>
<A NAME="pythonian-CHP-4-ITERM-4040"></A></P>
</TD>
</TR>
</COLGROUP>
</TABLE></P>

<P class="docText">All mutating methods of list objects except <TT>pop</TT>
return <TT>None</TT>. The <TT>sort</TT> method
takes one optional argument. If present, the argument must be a
function that, when called with any two list items as arguments,
returns <TT>-1</TT>, <TT>0</TT>, or
<TT>1</TT>, depending on whether the first item is to be
considered less than, equal to, or greater than the second item for
sorting purposes. Passing the argument slows down the sort, although
it makes it easy to sort small lists in flexible ways. The
decorate-sort-undecorate idiom, presented in <A class="docLink" HREF="0596001886_pythonian-chp-17.html#pythonian-CHP-17">Chapter 17</A>, is faster (and often less error-prone) than
passing an argument to <TT>sort</TT>, and
it's at least as flexible.<A NAME="pythonian-CHP-4-ITERM-4041"></A> <A NAME="pythonian-CHP-4-ITERM-4042"></A></P>




<a href="0596001886_"><img src="FILES/pixel.gif" width="1" height="1" border="0"></a><ul></ul>
</td>
</tr>
</table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0596001886_pythonian-chp-4-sect-5.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0596001886_pythonian-chp-4-sect-7.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
