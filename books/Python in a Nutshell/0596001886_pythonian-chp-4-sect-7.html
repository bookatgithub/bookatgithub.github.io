<html><head>
<META http-equiv="Content-Type" content="text/html">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="4.7 Dictionary Operations"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0596001886_pythonian-chp-4-sect-6.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0596001886_pythonian-chp-4-sect-8.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top"><A NAME="pythonian-CHP-4-SECT-7"></A>
<H3 class="docSection1Title">4.7 Dictionary Operations</H3>

<P class="docText"><A NAME="pythonian-CHP-4-ITERM-4043"></A>
<A NAME="pythonian-CHP-4-ITERM-4044"></A>Python
provides a variety of operations that can be applied to dictionaries.
Since dictionaries are containers, the built-in
<TT>len</TT> function can take a dictionary as its single
argument and return the number of items (key/value pairs) in the
dictionary object.<A NAME="pythonian-CHP-4-ITERM-4045"></A> <A NAME="pythonian-CHP-4-ITERM-4046"></A></P>

<A NAME="pythonian-CHP-4-SECT-7.1"></A>
<H4 class="docSection2Title">4.7.1 Dictionary Membership</H4>

<P class="docText">In Python 2.2 and later, the <TT><I>k</I></TT>
<TT>in</TT><TT><I> D</I></TT> operator tests to
see whether object <TT><I>k</I></TT> is one of the keys of
the dictionary <TT><I>D</I></TT>. It returns
<TT>True</TT> if it is and <TT>False</TT> if it
isn't. Similarly, the <TT><I>k</I></TT>
<TT>not</TT> <TT>in</TT>
<TT><I>D</I></TT> operator is just like
<TT>not</TT>
<TT>(</TT><TT><I>k</I></TT>
<TT>in</TT> <TT><I>D</I></TT>).</P>


<A NAME="pythonian-CHP-4-SECT-7.2"></A>
<H4 class="docSection2Title">4.7.2 Indexing a Dictionary</H4>

<P class="docText"><A NAME="pythonian-CHP-4-ITERM-4047"></A>
<A NAME="pythonian-CHP-4-ITERM-4048"></A>The
value in a dictionary <TT><I>D</I></TT> that is currently
associated with key <TT><I>k</I></TT> is denoted by an
<I>indexing</I>:
<TT><I>D</I></TT><TT>[</TT><TT><I>k</I></TT><TT>]</TT>.
Indexing with a key that is not present in the dictionary raises an
exception. For example:</P>

<PRE>d = { 'x':42, 'y':3.14, 'z':7 } 
d['x']                           # 42
d['z']                           # 7
d['a']                           # raises exception</PRE>

<P class="docText">Plain assignment to a dictionary indexed with a key that is not yet
in the dictionary (e.g.,
<TT><I>D</I></TT><TT>[</TT><TT><I>newkey</I></TT><TT>]=</TT><TT><I>value</I></TT>)
is a valid operation that adds the key and value as a new item in the
dictionary. For instance:</P>

<PRE>d = { 'x':42, 'y':3.14, 'z':7 } 
d['a'] = 16                      # d is now {'x':42,'y':3.14,'z':7,'a':16}</PRE>

<P class="docText"><A NAME="pythonian-CHP-4-ITERM-4049"></A>The
<TT>del</TT> statement, in the form <TT>del</TT>
<TT><I>D</I></TT><TT>[</TT><TT><I>k</I></TT><TT>]</TT>,
removes from the dictionary the item whose key is
<TT><I>k</I></TT>. If <TT><I>k</I></TT> is not
a key in dictionary <TT><I>D</I></TT>,
<TT>del</TT>
<TT><I>D</I></TT><TT>[</TT><TT><I>k</I></TT><TT>]</TT>
raises an exception.</P>


<A NAME="pythonian-CHP-4-SECT-7.3"></A>
<H4 class="docSection2Title">4.7.3 Dictionary Methods</H4>

<P class="docText"><A NAME="pythonian-CHP-4-ITERM-4050"></A>
<A NAME="pythonian-CHP-4-ITERM-4051"></A>Dictionary
objects provide several methods, as shown in <A class="docLink" HREF="#pythonian-CHP-4-TABLE-4">Table 4-4</A>. Non-mutating methods return a result without
altering the object to which they apply, while mutating methods may
alter the object to which they apply. In <A class="docLink" HREF="#pythonian-CHP-4-TABLE-4">Table 4-4</A>, <TT><I>D</I></TT> and
<TT><I>D1</I></TT> indicate any dictionary object,
<TT><I>k</I></TT> any valid key in
<TT><I>D</I></TT>, and <TT><I>x</I></TT> any
object.</P>

<A NAME="pythonian-CHP-4-TABLE-4"></A><P><TABLE BORDER="1" CELLSPACING="0" CELLPADDING="1" WIDTH="100%">
<CAPTION><h5 class="docTableTitle">Table 4-4. Dictionary object methods</h5></CAPTION><COLGROUP span="2">
<TR>
<TH class="docTableHeader">
<P class="docText">Method</P>
</TH>
<TH class="docTableHeader">
<P class="docText">Description</P>
</TH>
</TR>
<TR>
<TD class="docTableCell">
<P class="docText"><span class="docEmphBold">Non-mutating methods</span></P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<A NAME="pythonian-CHP-4-ITERM-4052"></A><A NAME="pythonian-CHP-4-ITERM-4053"></A><PRE><TT><I>D</I></TT>.copy(  )</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">Returns a (shallow) copy of the dictionary</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<A NAME="pythonian-CHP-4-ITERM-4054"></A><A NAME="pythonian-CHP-4-ITERM-4055"></A><PRE><TT><I>D</I></TT>.has_key(<TT><I>k</I></TT>)</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">Returns <TT>True</TT> if <TT><I>k</I></TT> is a
key in <TT><I>D</I></TT>, otherwise returns
<TT>False</TT></P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<A NAME="pythonian-CHP-4-ITERM-4056"></A><A NAME="pythonian-CHP-4-ITERM-4057"></A><PRE><TT><I>D</I></TT>.items(  )</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">Returns a copy of the list of all items (key/value pairs) in
<TT><I>D</I></TT></P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<A NAME="pythonian-CHP-4-ITERM-4058"></A><A NAME="pythonian-CHP-4-ITERM-4059"></A><PRE><TT><I>D</I></TT>.keys(  )</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">Returns a copy of the list of all keys in <TT><I>D</I></TT></P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<A NAME="pythonian-CHP-4-ITERM-4060"></A><A NAME="pythonian-CHP-4-ITERM-4061"></A><PRE><TT><I>D</I></TT>.values(  )</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">Returns a copy of the list of all values in
<TT><I>D</I></TT></P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<A NAME="pythonian-CHP-4-ITERM-4062"></A><A NAME="pythonian-CHP-4-ITERM-4063"></A><PRE><TT><I>D</I></TT>.iteritems(  )</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">Returns an iterator on all items (key/value pairs) in
<TT><I>D</I></TT></P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<A NAME="pythonian-CHP-4-ITERM-4064"></A><A NAME="pythonian-CHP-4-ITERM-4065"></A><PRE><TT><I>D</I></TT>.iterkeys(  )</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">Returns an iterator on all keys in <TT><I>D</I></TT></P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<A NAME="pythonian-CHP-4-ITERM-4066"></A><A NAME="pythonian-CHP-4-ITERM-4067"></A><PRE><TT><I>D</I></TT>.itervalues(  )</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">Returns an iterator on all values in <TT><I>D</I></TT></P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<A NAME="pythonian-CHP-4-ITERM-4068"></A><A NAME="pythonian-CHP-4-ITERM-4069"></A><PRE><TT><I>D</I></TT>.get(<TT><I>k</I></TT>[,<TT><I>x</I></TT>])</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">Returns
<TT><I>D</I></TT><TT>[</TT><TT><I>k</I></TT><TT>]</TT>
if <TT><I>k</I></TT> is a key in
<TT><I>D</I></TT>, otherwise returns
<TT><I>x</I></TT> (or <TT>None</TT>, if
<TT><I>x</I></TT> is not given)</P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<P class="docText"><span class="docEmphBold">Mutating methods</span></P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<A NAME="pythonian-CHP-4-ITERM-4070"></A><A NAME="pythonian-CHP-4-ITERM-4071"></A><PRE><TT><I>D</I></TT>.clear(  )</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">Removes all items from <TT><I>D</I></TT></P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<A NAME="pythonian-CHP-4-ITERM-4072"></A><A NAME="pythonian-CHP-4-ITERM-4073"></A><PRE><TT><I>D</I></TT>.update(<TT><I>D1</I></TT>)</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">For each <TT><I>k</I></TT> in
<TT><I>D1</I></TT>, sets
<TT><I>D</I></TT><TT>[</TT><TT><I>k</I></TT><TT>]</TT>
equal to
<TT><I>D1</I></TT><TT>[</TT><TT><I>k</I></TT><TT>]</TT></P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<A NAME="pythonian-CHP-4-ITERM-4074"></A><A NAME="pythonian-CHP-4-ITERM-4075"></A><PRE><TT><I>D</I></TT>.setdefault(<TT><I>k</I></TT>[,<TT><I>x</I></TT>])</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">Returns
<TT><I>D</I></TT><TT>[</TT><TT><I>k</I></TT><TT>]</TT>
if <TT><I>k</I></TT> is a key in
<TT><I>D</I></TT>; otherwise sets
<TT><I>D</I></TT><TT>[</TT><TT><I>k</I></TT><TT>]</TT>
equal to <TT><I>x</I></TT> and returns
<TT><I>x</I></TT></P>
</TD>
</TR>
<TR>
<TD class="docTableCell">
<A NAME="pythonian-CHP-4-ITERM-4076"></A><A NAME="pythonian-CHP-4-ITERM-4077"></A><PRE><TT><I>D</I></TT>.popitem(  )</PRE>
</TD>
<TD class="docTableCell">
<P class="docText">Removes and returns an arbitrary item (key/value pair)</P>
</TD>
</TR>
</COLGROUP>
</TABLE></P>

<P class="docText"><TT>The</TT> <TT>items</TT>,
<TT>keys</TT>, and <TT>values</TT> methods return
their resulting lists in arbitrary order. If you call more than one
of these methods without any intervening change to the dictionary,
however, the order of the results is the same for all. The
<TT>iteritems</TT>, <TT>iterkeys</TT>, and
<TT>itervalues</TT> methods, which are new as of Python
2.2, return iterators equivalent to these lists (iterators are
discussed later in this chapter). An iterator consumes less memory
than a list, but you are not allowed to modify a dictionary while
iterating on one of its iterators. Iterating on the list returned by
<TT>items</TT>, <TT>keys</TT>, or
<TT>values</TT> carries no such constraint. Iterating
directly on a dictionary <TT><I>D</I></TT> is exactly like
iterating on <TT><I>D</I></TT><TT>.iterkeys(
)</TT>.</P>

<P class="docText">The <TT>popitem</TT> method can be used for destructive
iteration on a dictionary. Both <TT>items</TT> and
<TT>popitem</TT> return dictionary items as key/value
pairs, but using <TT>popitem</TT> consumes less memory, as
it does not rely on a separate list of items. The memory savings make
the idiom usable for a loop on a huge dictionary, if
it's okay to destroy the dictionary in the course of
the loop. In Python 2.2 and later, iterating directly on the
dictionary (or on <TT>iterkeys</TT> or
<TT>iteritems</TT>) also consumes modest amounts of memory,
and does not destroy the dictionary you're iterating
on.</P>

<P class="docText">The <TT>setdefault</TT> method returns the same result as
<TT>get</TT>, but if <TT><I>k</I></TT> is not a
key in <TT><I>D</I></TT>, <TT>setdefault</TT>
also has the side effect of binding
<TT><I>D</I></TT><TT>[</TT><TT><I>k</I></TT><TT>]</TT>
to the value <TT><I>x</I></TT>.</P>



<a href="0596001886_"><img src="FILES/pixel.gif" width="1" height="1" border="0"></a><ul></ul>
</td>
</tr>
</table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0596001886_pythonian-chp-4-sect-6.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0596001886_pythonian-chp-4-sect-8.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
