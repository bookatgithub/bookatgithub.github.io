<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Recipe&nbsp;1.12.&nbsp;Controlling Case</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="toc.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=pythoncook2-chp-1-sect-11.html><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href=pythoncook2-chp-1-sect-13.html><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><TR><td valign="top"><a name="pythoncook2-CHP-1-SECT-12"></a>
<h3 class="docSection1Title">Recipe 1.12. Controlling Case</h3>

<p class="docText"><span class="docEmphasis">Credit: Luther Blissett</span><a name="pythoncook2-CHP-1-ITERM-1510"></a>
<a name="pythoncook2-CHP-1-ITERM-1511"></a></p>

<a name="pythoncook2-CHP-1-SECT-12.1"></a>
<h4 class="docSection2Title">Problem</h4>

<p class="docText">You need to convert a string from uppercase to lowercase, or vice
versa.</P>


<a name="pythoncook2-CHP-1-SECT-12.2"></a>
<h4 class="docSection2Title">Solution</H4>

<p class="docText"><a name="pythoncook2-CHP-1-ITERM-1512"></a>
<a name="pythoncook2-CHP-1-ITERM-1513"></a>That's what the
<tt>upper</tt> and <tt>lower</tt> methods of
string objects are for. Each takes no arguments and returns a copy of
the string in which each letter has been changed to upper- or
lowercase, respectively.</p>

<pre>big = little.upper( )
little = big.lower( )</pre><BR>


<p class="docText">Characters that are not letters are copied unchanged.</p>

<p class="docText"><tt>s.capitalize</tt> is similar to <tt>s[:1].upper(
)+s[1:].lower( )</tt>: the first character is changed to
uppercase, and all others are changed to lowercase.
<tt>s.title</tt> is again similar, but it capitalizes the
first letter of each word (where a
"word" is a sequence of letters)
and uses lowercase for all other letters:</P>

<pre>&gt;&gt;&gt; print 'one tWo thrEe'.capitalize( )
<B>One two three</b>
&gt;&gt;&gt; print 'one tWo thrEe'.title( )
<b>One Two Three</b></pre><BR>



<a name="pythoncook2-CHP-1-SECT-12.3"></a>
<H4 class="docSection2Title">Discussion</h4>

<p class="docText">Case manipulation of strings is a very frequent need. Because of
this, several string methods let you produce case-altered copies of
strings. Moreover, you can also check whether a string object is
already in a given case form, with the methods
<tt>isupper</tt>, <tt>islower</tt>, and
<tt>istitle</tt>, which all return <tt>true</tt>
if the string is not empty, contains at least one letter, and already
meets the uppercase, lowercase, or titlecase constraints. There is no
analogous <tt>iscapitalized</tt> method, and coding it is
not trivial, if we want behavior that's strictly
similar to strings' <tt>is</tt>...
methods. Those methods all return <tt>False</tt> for an
"empty" string, and the three
case-checking ones also return <tt>False</tt> for strings
that, while not empty, contain no letters at
all.<a name="pythoncook2-CHP-1-ITERM-1514"></a>
<a name="pythoncook2-CHP-1-ITERM-1515"></a>
<a name="pythoncook2-CHP-1-ITERM-1516"></a></p>

<p class="docText">The simplest and clearest way to code <i>iscapitalized</I>
is clearly:</p>

<pre>def iscapitalized(s):
    return s == s.capitalize( )</pre><br>


<p class="docText">However, this version deviates from the boundary-case semantics of
the analogous <tt>is</tt>... methods, since it also returns
<tt>TRue</tt> for strings that are empty or contain no
letters. Here's a stricter one:</p>

<pre>import string
notrans = string.maketrans('', '')  # identity "translation"
def containsAny(str, strset):
    return len(strset) != len(strset.translate(notrans, str))
def iscapitalized(s):
    return s == s.capitalize( ) and containsAny(s, string.letters)</pre><BR>


<p class="docText">Here, we use the function shown in <a class="docLink" href="pythoncook2-CHP-1-SECT-8.html#pythoncook2-CHP-1-SECT-8">Recipe 1.8</a> to ensure we return
<tt>False</tt> if <i>s</I> is empty or contains
no letters. As noted in <a class="docLink" href="pythoncook2-CHP-1-SECT-8.html#pythoncook2-CHP-1-SECT-8">Recipe 1.8</a>, this means that this
specific version works only for plain strings, not for Unicode ones.</P>


<a name="pythoncook2-CHP-1-SECT-12.4"></a>
<h4 class="docSection2Title">See Also</h4>

<p class="docText"><span class="docEmphasis">Library Reference</span> and <span class="docEmphasis">Python in a
Nutshell</span> docs on string methods; <span class="docEmphasis">Perl
Cookbook</span> recipe 1.9; <a class="docLink" href="pythoncook2-CHP-1-SECT-8.html#pythoncook2-CHP-1-SECT-8">Recipe 1.8</a>.</p>



<ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="toc.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=pythoncook2-chp-1-sect-11.html><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href=pythoncook2-chp-1-sect-13.html><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</div></td></tr></table>
</body></html>