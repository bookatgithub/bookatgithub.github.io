<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Recipe&nbsp;10.1.&nbsp;Generating Random Passwords</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="toc.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch10-77002.html><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href=pythoncook2-chp-10-sect-2.html><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><TR><td valign="top"><a name="pythoncook2-CHP-10-SECT-1"></a>
<h3 class="docSection1Title">Recipe 10.1. Generating Random Passwords</h3>

<p class="docText"><span class="docEmphasis">Credit: Devin Leung</span></p>

<a name="pythoncook2-CHP-10-SECT-1.1"></a>
<h4 class="docSection2Title">Problem</h4>

<p class="docText"><a name="pythoncook2-CHP-10-ITERM-2606"></a>You
need to create new passwords randomlyfor example, to assign
them automatically to new user accounts.</P>


<a name="pythoncook2-CHP-10-SECT-1.2"></a>
<h4 class="docSection2Title">Solution</H4>

<p class="docText">One of the chores of system administration is installing new user
accounts. Assigning a different, totally random password to each new
user is a good idea. Save the following code as
<i>makepass.py</I>:<a name="pythoncook2-CHP-10-ITERM-2607"></a></p>

<pre>from random import choice
import string
def GenPasswd(length=8, chars=string.letters+string.digits):
    return ''.join([ choice(chars) for i in range(length) ])</pre><BR>



<a name="pythoncook2-CHP-10-SECT-1.3"></a>
<H4 class="docSection2Title">Discussion</h4>

<p class="docText">This recipe is useful when you are creating new user accounts and
assigning each of them a different, totally random password. For
example, you can print six passwords of length 12:</P>

<pre>&gt;&gt;&gt; import makepass
&gt;&gt;&gt; for i in range(6):
...    print makepass.GenPasswd(12)
...
<B>uiZWGSJLWjOI</b>
<b>FVrychdGsAaT</b>
<b>CGCXZAFGjsYI</b>
<b>TPpQwpWjQEIi</b>
<b>HMBwIvRMoIvh</b></pre><BR>


<p class="docText">Of course, such totally random passwords, while providing an
excellent theoretical basis for security, are impossibly hard to
remember for most users. If you require users to stick with their
assigned passwords, many users will probably write them down. The
best you can hope for is that new users will set their own passwords
at their first login, assuming, of course, that the system
you're administering lets each user change his own
password. (Most operating systems do, but you might be assigning
passwords for other kinds of services that unfortunately often lack
such facilities.)</p>

<p class="docText">A password that is written down anywhere is a serious security risk:
pieces of paper get lost, misplaced, and peeked at. From a pragmatic
point of view, you might be better off assigning passwords that are
not totally random; users are more likely to remember them and less
likely to write them down (see <a class="docLink" href="pythoncook2-CHP-10-SECT-2.html#pythoncook2-CHP-10-SECT-2">Recipe 10.2</a>). This practice may violate
the theory of password security, but, as all practicing system
administrators know, pragmatism trumps theory.</p>


<a name="pythoncook2-CHP-10-SECT-1.4"></a>
<H4 class="docSection2Title">See Also</h4>

<p class="docText"><a class="docLink" href="pythoncook2-CHP-10-SECT-2.html#pythoncook2-CHP-10-SECT-2">Recipe 10.2</a>; documentation
of the standard library module <tt>random</tt> in the
<span class="docEmphasis">Library Reference</span> and <span class="docEmphasis">Python in a
Nutshell</span>.</P>



<a href="5991535.html"><img src="images/pixel.gif" alt="" width="1" height="1" border="0"></a><ul></UL></TD></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="toc.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch10-77002.html><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href=pythoncook2-chp-10-sect-2.html><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</div></td></tr></table>
</body></html>