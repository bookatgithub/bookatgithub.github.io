<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Recipe&nbsp;16.1.&nbsp;Verifying Whether a String Represents a Valid Number</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="toc.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch16-77002.html><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href=pythoncook2-chp-16-sect-2.html><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><TR><td valign="top"><a name="pythoncook2-CHP-16-SECT-1"></a>
<h3 class="docSection1Title">Recipe 16.1. Verifying Whether a String Represents a Valid Number</h3>

<p class="docText"><span class="docEmphasis">Credit: Gyro Funch, Rogier Steehouder</span></p>

<a name="pythoncook2-CHP-16-SECT-1.1"></a>
<h4 class="docSection2Title">Problem</h4>

<p class="docText"><a name="pythoncook2-CHP-16-ITERM-3008"></a>You need to check whether a
string read from a file or obtained from user input has a valid
numeric format.</P>


<a name="pythoncook2-CHP-16-SECT-1.2"></a>
<h4 class="docSection2Title">Solution</H4>

<p class="docText">The simplest and most Pythonic approach is to "try
and see":</p>

<pre>def is_a_number(s):
    try: float(s)
    except ValueError: return False
    else: return True</pre><BR>



<a name="pythoncook2-CHP-16-SECT-1.3"></a>
<h4 class="docSection2Title">Discussion</H4>

<p class="docText">If you insist, you can also perform this task with a regular
expression:</P>

<pre>import re
num_re = re.compile(r'^[-+]?([0-9]+\.?[0-9]*|\.[0-9]+)([eE][-+]?[0-9]+)?$')
def is_a_number(s):
    return bool(num_re.match(s))</pre><br>


<p class="docText">Having a regular expression to start from may be best if you need to
be tolerant of certain specific variations, or to pick up numeric
substrings from the middle of larger strings. But for the specific
task posed as this recipe's Problem,
it's simplest and best to "let
Python do it!"</P>


<a name="pythoncook2-CHP-16-SECT-1.4"></a>
<H4 class="docSection2Title">See Also</h4>

<p class="docText">Documentation for the <tt>re</tt> module and the
<tt>float</tt> built-in module in the <span class="docEmphasis">Library
Reference</span> and <span class="docEmphasis">Python in a
Nutshell</span>.</p>



<ul></ul></TD></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="toc.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch16-77002.html><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href=pythoncook2-chp-16-sect-2.html><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</div></td></tr></table>
</body></html>