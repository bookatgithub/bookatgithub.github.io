<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Recipe&nbsp;2.18.&nbsp;Finding a File Given a Search Path</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="toc.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=pythoncook2-chp-2-sect-17.html><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href=pythoncook2-chp-2-sect-19.html><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><TR><td valign="top"><a name="pythoncook2-CHP-2-SECT-18"></a>
<h3 class="docSection1Title">Recipe 2.18. Finding a File Given a Search Path</h3>

<p class="docText"><span class="docEmphasis">Credit: Chui Tey</span></p>

<a name="pythoncook2-CHP-2-SECT-18.1"></a>
<h4 class="docSection2Title">Problem</h4>

<p class="docText"><a name="pythoncook2-CHP-2-ITERM-1684"></a> <a name="pythoncook2-CHP-2-ITERM-1685"></a> <a name="pythoncook2-CHP-2-ITERM-1686"></a> <a name="pythoncook2-CHP-2-ITERM-1687"></a>Given a search path (a string of
directories with a separator in between), you need to find the first
file along the path with the requested name.</P>


<a name="pythoncook2-CHP-2-SECT-18.2"></a>
<h4 class="docSection2Title">Solution</H4>

<p class="docText">Basically, you need to loop over the directories in the given search
path:</p>

<pre>import os
def search_file(filename, search_path, pathsep=os.pathsep):
    """ Given a search path, find file with requested name """
    for path in search_path.split(pathsep):
        candidate = os.path.join(path, filename)
        if os.path.isfile(candidate):
            return os.path.abspath(candidate)
    return None
if _ _name_ _ == '_ _main_ _':
    search_path = '/bin' + os.pathsep + '/usr/bin'  # ; on Windows, : on Unix
    find_file = search_file('ls', search_path)
    if find_file:
        print "File 'ls' found at %s" % find_file
    else:
        print "File 'ls' not found"</pre><BR>



<a name="pythoncook2-CHP-2-SECT-18.3"></a>
<h4 class="docSection2Title">Discussion</H4>

<p class="docText">This recipe's
"Problem" is a reasonably frequent
task, and Python makes resolving it extremely easy. Other recipes
perform similar and related tasks: to find files specifically on
Python's own search path, see <a class="docLink" href="pythoncook2-CHP-2-SECT-20.html#pythoncook2-CHP-2-SECT-20">Recipe 2.20</a>; to find all files matching
a pattern along a search path, see <a class="docLink" href="pythoncook2-CHP-2-SECT-19.html#pythoncook2-CHP-2-SECT-19">Recipe 2.19</a>.</P>

<p class="docText">The search loop can be coded in many ways, but returning the path
(made into an absolute path, for uniformity and convenience) as soon
as a hit is found is simplest as well as fast. The explicit
<tt>return None</tt> after the loop is not strictly needed,
since <tt>None</tt> is returned by Python when a function
falls off the end. Having the <tt>return</tt> statement
explicitly there in this case makes the functionality of
<i>search_file</I> much clearer at first sight.</P>


<a name="pythoncook2-CHP-2-SECT-18.4"></a>
<h4 class="docSection2Title">See Also</h4>

<p class="docText"><a class="docLink" href="pythoncook2-CHP-2-SECT-20.html#pythoncook2-CHP-2-SECT-20">Recipe 2.20</a>; <a class="docLink" href="pythoncook2-CHP-2-SECT-19.html#pythoncook2-CHP-2-SECT-19">Recipe 2.19</a>; documentation for the
module <tt>os</tt> in the <span class="docEmphasis">Library
Reference</span> and <span class="docEmphasis">Python in a
Nutshell</span>.</p>



<ul></UL></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="toc.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=pythoncook2-chp-2-sect-17.html><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href=pythoncook2-chp-2-sect-19.html><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</div></td></tr></table>
</body></html>