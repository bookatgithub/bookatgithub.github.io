<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Recipe&nbsp;2.20.&nbsp;Finding a File on the Python Search Path</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="toc.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=pythoncook2-chp-2-sect-19.html><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href=pythoncook2-chp-2-sect-21.html><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><TR><td valign="top"><a name="pythoncook2-CHP-2-SECT-20"></a>
<h3 class="docSection1Title">Recipe 2.20. Finding a File on the Python Search Path</h3>

<p class="docText"><span class="docEmphasis">Credit: Mitch Chapman</span></p>

<a name="pythoncook2-CHP-2-SECT-20.1"></a>
<h4 class="docSection2Title">Problem</h4>

<p class="docText"><a name="pythoncook2-CHP-2-ITERM-1688"></a>A large Python application includes
resource files (e.g., Glade project files, SQL templates, and images)
as well as Python packages. You want to store these associated files
together with the Python packages that use them.</P>


<a name="pythoncook2-CHP-2-SECT-20.2"></a>
<h4 class="docSection2Title">Solution</H4>

<p class="docText">You need to be able to look for either files or directories along
Python's <tt>sys.path</tt>:</p>

<pre>import sys, os
class Error(Exception): pass
def _find(pathname, matchFunc=os.path.isfile):
    for dirname in sys.path:
        candidate = os.path.join(dirname, pathname)
        if matchFunc(candidate):
            return candidate
    raise Error("Can't find file %s" % pathname)
def findFile(pathname):
    return _find(pathname)
def findDir(path):
    return _find(path, matchFunc=os.path.isdir)</pre><BR>



<a name="pythoncook2-CHP-2-SECT-20.3"></a>
<h4 class="docSection2Title">Discussion</H4>

<p class="docText">Larger Python applications consist of sets of Python packages and
associated sets of resource files. It's convenient
to store these associated files together with the Python packages
that use them, and it's easy to do so if you use
this variation on the previous <a class="docLink" href="pythoncook2-CHP-2-SECT-18.html#pythoncook2-CHP-2-SECT-18">Recipe 2.18</a> to find files or directories
with pathnames relative to the Python search path.</P>


<a name="pythoncook2-CHP-2-SECT-20.4"></a>
<h4 class="docSection2Title">See Also</H4>

<p class="docText"><a class="docLink" href="pythoncook2-CHP-2-SECT-18.html#pythoncook2-CHP-2-SECT-18">Recipe 2.18</a>; documentation
for the <tt>os</tt> module in the <span class="docEmphasis">Library
Reference</span> and <span class="docEmphasis">Python in a
Nutshell</span>.</P>



<a href="5991535.html"><img src="images/pixel.gif" alt="" width="1" height="1" border="0"></a><ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="toc.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=pythoncook2-chp-2-sect-19.html><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href=pythoncook2-chp-2-sect-21.html><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</div></td></tr></table>
</body></html>