<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Recipe&nbsp;4.4.&nbsp;Looping over Items and Their Indices in a Sequence</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="toc.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=pythoncook2-chp-4-sect-3.html><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href=pythoncook2-chp-4-sect-5.html><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><TR><td valign="top"><a name="pythoncook2-CHP-4-SECT-4"></a>
<h3 class="docSection1Title">Recipe 4.4. Looping over Items and Their Indices in a Sequence</h3>

<p class="docText"><span class="docEmphasis">Credit: Alex Martelli, Sami Hangaslammi</span></p>

<a name="pythoncook2-CHP-4-SECT-4.1"></a>
<h4 class="docSection2Title">Problem</h4>

<p class="docText"><a name="pythoncook2-CHP-4-ITERM-1806"></a> <a name="pythoncook2-CHP-4-ITERM-1807"></a>You need to loop on a sequence, but at
each step you also need to know which index into the sequence you
have reached (e.g., because you need to rebind some entries in the
sequence), and Python's preferred approach to
looping doesn't use the indices.</P>


<a name="pythoncook2-CHP-4-SECT-4.2"></a>
<h4 class="docSection2Title">Solution</H4>

<p class="docText">That's what built-in function
<tt>enumerate</tt> is for. For example:</p>

<pre>for index, item in enumerate(sequence):
    if item &gt; 23:
        sequence[index] = transform(item)</pre><BR>


<p class="docText">This is cleaner, more readable, and faster than the alternative of
looping over indices and accessing items by indexing:</p>

<pre>for index in range(len(sequence)):
    if sequence[index] &gt; 23:
        sequence[index] = transform(sequence[index])</pre><BR>



<a name="pythoncook2-CHP-4-SECT-4.3"></a>
<H4 class="docSection2Title">Discussion</h4>

<p class="docText">Looping on a sequence is a very frequent need, and Python strongly
encourages you to do just that, looping on the sequence directly. In
other words, the Pythonic way to get each item in a sequence is to
use:</P>

<pre>for item in sequence:
    process(item)</pre><BR>


<p class="docText">rather than the indirect approach, typical of lower-level languages,
of looping over the sequence's indices and using
each index to fetch the corresponding item:</p>

<pre>for index in range(len(sequence)):
    process(sequence[index])</pre><br>


<p class="docText">Looping directly is cleaner, more readable, faster, and more general
(since you can loop on any iterable, by definition, while indexing
works only on sequences, such as lists).</p>

<p class="docText">However, sometimes you do need to know the index, as well as the
corresponding item, within the loop. The most frequent reason for
this need is that, in order to rebind an entry in a list, you must
assign the new item to <tt>thelist[index]</tt>. To support
this need, Python offers the built-in function
<tt>enumerate</tt>, which takes any iterable argument and
returns an iterator yielding all the pairs (two-item tuples) of the
form (<tt><i>index</I></tt>,
<tt><i>item</i></tt>), one pair at a time. By writing your
<tt>for</tt> loop's header clause in the
form:</P>

<pre>for index, item in enumerate(sequence):</pre><br>


<p class="docText">both the index and the item are available within the
loop's body.</P>

<p class="docText">For help remembering the order of the items in each pair
<tt>enumerate</tt> yields, think of the idiom
<tt><i>d</I></tt>=dict(enumerate(<tt><I>L</i></tt>)).
This gives a dictionary <tt><i>d</i></tt>
that's equivalent to list
<tt><i>L</i></tt>, in the sense that <tt>d[i] is
L[i]</tt> for any valid non-negative index
<tt><i>i</i></tt>.</p>


<a name="pythoncook2-CHP-4-SECT-4.4"></a>
<h4 class="docSection2Title">See Also</h4>

<p class="docText"><span class="docEmphasis">Library Reference</span> and <span class="docEmphasis">Python in a
Nutshell</span> section about <tt>enumerate</tt>;
<a class="docLink" href="pythoncook2-CHP-19.html#pythoncook2-CHP-19">Chapter 19</a>.</p>



<ul></ul></TD></TR></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="toc.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=pythoncook2-chp-4-sect-3.html><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href=pythoncook2-chp-4-sect-5.html><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</div></td></tr></table>
</body></html>