<HTML
><HEAD
>
<TITLE>[Appendix A] A.3 Command Summary for sed</TITLE>
<META
NAME="DC.title"
CONTENT="sed &amp; awk"><META
NAME="DC.creator"
CONTENT="Dale Dougherty &amp; Arnold Robbins"><META
NAME="DC.publisher"
CONTENT="O'Reilly &amp; Associates, Inc."><META
NAME="DC.date"
CONTENT="1998-08-03T21:06:20Z"><META
NAME="DC.type"
CONTENT="Text.Monograph"><META
NAME="DC.format"
CONTENT="text/html"
SCHEME="MIME"><META
NAME="DC.source"
CONTENT="1-56592-225-5"
SCHEME="ISBN"><META
NAME="DC.language"
CONTENT="en-US"><META
NAME="generator"
CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINK
REV="made"
HREF="mailto:online-books@oreilly.com"
TITLE="Online Books Comments"><LINK
REL="up"
HREF="appa_01.htm"
TITLE="A. Quick Reference for sed"><LINK
REL="prev"
HREF="appa_02.htm"
TITLE="A.2 Syntax of sed Commands"><LINK
REL="next"
HREF="appb_01.htm"
TITLE="B. Quick Reference for awk"></HEAD
><BODY
BGCOLOR="#FFFFFF"
TEXT="#000000"
><DIV
CLASS="htmlnav"
><H1
><IMG
SRC="gifs/smbanner.gif"
ALT="sed &amp; awk"
USEMAP="#srchmap"
BORDER="0"></H1
><MAP
NAME="srchmap"
><AREA
SHAPE="RECT"
COORDS="0,0,466,65"
HREF="index.htm"
ALT="sed &amp; awk"><AREA
SHAPE="RECT"
COORDS="467,0,514,18"
HREF="../search/ssrch.htm"
ALT="Search this book"></MAP
><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="appa_02.htm"
TITLE="A.2 Syntax of sed Commands"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: A.2 Syntax of sed Commands"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><B
><FONT
FACE="ARIEL,HELVETICA,HELV,SANSERIF"
SIZE="-1"
>Appendix A<BR>Quick Reference for sed</FONT
></B
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="APPENDIX"
HREF="appb_01.htm"
TITLE="B. Quick Reference for awk"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: B. Quick Reference for awk"
BORDER="0"></A
></TD
></TR
></TABLE
>&nbsp;<HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"></DIV
><DIV
CLASS="SECT1"
><H2
CLASS="sect1"
><A
CLASS="title"
NAME="SEDAWK-APP-A-SECT-3"
>A.3 Command Summary for sed</A
></H2
><DL
CLASS="variablelist"
><DT
CLASS="term"
><KBD
CLASS="command"
>:</KBD
> <KBD
CLASS="command"
>:</KBD
><EM
CLASS="emphasis"
>label</EM
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Label a line in the script for the transfer of control by
<KBD
CLASS="command"
>b</KBD
> or <KBD
CLASS="command"
>t</KBD
>.
<EM
CLASS="emphasis"
>label</EM
> may contain up to seven characters.
(The POSIX standard says that an implementation can allow longer
labels if it wishes to. GNU sed allows labels to be of any length.)<A
CLASS="indexterm"
NAME="A.SED1"
></A
><A
CLASS="indexterm"
NAME="A.SED2"
></A
></P
></DD
><DT
CLASS="term"
><KBD
CLASS="command"
>=</KBD
> [<EM
CLASS="emphasis"
>address</EM
>]<KBD
CLASS="command"
>=</KBD
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Write to standard output the line number of addressed line.</P
></DD
><DT
CLASS="term"
><KBD
CLASS="command"
>a</KBD
> [<EM
CLASS="emphasis"
>address</EM
>]<KBD
CLASS="command"
>a\</KBD
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><EM
CLASS="emphasis"
>text</EM
></P
><P
CLASS="para"
>Append <EM
CLASS="emphasis"
>text</EM
>
following each line matched by <EM
CLASS="emphasis"
>address</EM
>.  If
<EM
CLASS="emphasis"
>text</EM
> goes over more than one line, newlines
must be &quot;hidden&quot; by preceding them with a backslash.  The
<EM
CLASS="emphasis"
>text</EM
> will be terminated by the first
newline that is not hidden in this way.  The
<EM
CLASS="emphasis"
>text</EM
> is not available in the pattern space
and subsequent commands cannot be applied to it.  The results of this
command are sent to standard output when the list of editing commands
is finished, regardless of what happens to the current line in the
pattern space.</P
></DD
><DT
CLASS="term"
><KBD
CLASS="command"
>b</KBD
> [<EM
CLASS="emphasis"
>address1</EM
>[,<EM
CLASS="emphasis"
>address2</EM
>]]<KBD
CLASS="command"
>b</KBD
>[<EM
CLASS="emphasis"
>label</EM
>]</DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Transfer control unconditionally (branch) to
<KBD
CLASS="command"
>:</KBD
><EM
CLASS="emphasis"
>label</EM
> elsewhere in
script.  That is, the command following the
<EM
CLASS="emphasis"
>label</EM
> is the next command applied to the
current line.  If no <EM
CLASS="emphasis"
>label</EM
> is specified,
control falls through to the end of the script, so no more commands
are applied to the current line.</P
></DD
><DT
CLASS="term"
><KBD
CLASS="command"
>c</KBD
> [<EM
CLASS="emphasis"
>address1</EM
>[,<EM
CLASS="emphasis"
>address2</EM
>]]<KBD
CLASS="command"
>c\</KBD
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><EM
CLASS="emphasis"
>text</EM
></P
><P
CLASS="para"
>Replace (change) the lines selected by the address with
<EM
CLASS="emphasis"
>text</EM
>.  When a range of lines is specified,
all lines as a group are replaced by a single copy of
<EM
CLASS="emphasis"
>text</EM
>.  The newline following each line of
<EM
CLASS="emphasis"
>text</EM
> must be escaped by a backslash, except
the last line.  The contents of the pattern space are, in effect,
deleted and no subsequent editing commands can be applied to it (or to
<EM
CLASS="emphasis"
>text</EM
>).  </P
></DD
><DT
CLASS="term"
><KBD
CLASS="command"
>d</KBD
> [<EM
CLASS="emphasis"
>address1</EM
>[,<EM
CLASS="emphasis"
>address2</EM
>]]<KBD
CLASS="command"
>d</KBD
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Delete line(s) from pattern space.  Thus, the line is not passed to standard
output. A new line of input is read and editing resumes with first
command in script.</P
></DD
><DT
CLASS="term"
><KBD
CLASS="command"
>D</KBD
> [<EM
CLASS="emphasis"
>address1</EM
>[,<EM
CLASS="emphasis"
>address2</EM
>]]<KBD
CLASS="command"
>D</KBD
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Delete first part (up to embedded newline) of multiline pattern space created
by <KBD
CLASS="command"
>N</KBD
> command and resume editing with first command in
script.  If this command empties the pattern space, then a new line
of input is read, as if the <KBD
CLASS="command"
>d</KBD
> command had been executed.</P
></DD
><DT
CLASS="term"
><KBD
CLASS="command"
>g</KBD
> [<EM
CLASS="emphasis"
>address1</EM
>[,<EM
CLASS="emphasis"
>address2</EM
>]]<KBD
CLASS="command"
>g</KBD
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Copy (get) contents of hold space (see <KBD
CLASS="command"
>h</KBD
> or
<KBD
CLASS="command"
>H</KBD
> command) into the pattern space, wiping out
previous contents.</P
></DD
><DT
CLASS="term"
><KBD
CLASS="command"
>G</KBD
> [<EM
CLASS="emphasis"
>address1</EM
>[,<EM
CLASS="emphasis"
>address2</EM
>]]<KBD
CLASS="command"
>G</KBD
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Append newline followed by contents of hold space (see
<KBD
CLASS="command"
>h</KBD
> or <KBD
CLASS="command"
>H</KBD
> command) to contents of
the pattern space.  If hold space is empty, a newline is still
appended to the pattern space.</P
></DD
><DT
CLASS="term"
><KBD
CLASS="command"
>h</KBD
> [<EM
CLASS="emphasis"
>address1</EM
>[,<EM
CLASS="emphasis"
>address2</EM
>]]<KBD
CLASS="command"
>h</KBD
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Copy pattern space into hold space, a special temporary buffer.
Previous contents of hold space are wiped out.</P
></DD
><DT
CLASS="term"
><KBD
CLASS="command"
>H</KBD
> [<EM
CLASS="emphasis"
>address1</EM
>[,<EM
CLASS="emphasis"
>address2</EM
>]]<KBD
CLASS="command"
>H</KBD
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Append newline and contents of pattern space to contents of the hold
space.  Even if hold space is empty, this command still appends the
newline first.</P
></DD
><DT
CLASS="term"
><KBD
CLASS="command"
>i</KBD
> [<EM
CLASS="emphasis"
>address1</EM
>]<KBD
CLASS="command"
>i\</KBD
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><EM
CLASS="emphasis"
>text</EM
></P
><P
CLASS="para"
>Insert <EM
CLASS="emphasis"
>text</EM
> before each line matched by
<EM
CLASS="emphasis"
>address</EM
>. (See <KBD
CLASS="command"
>a</KBD
> for
details on <EM
CLASS="emphasis"
>text</EM
>.)</P
></DD
><DT
CLASS="term"
><KBD
CLASS="command"
>l</KBD
> [<EM
CLASS="emphasis"
>address1</EM
>[,<EM
CLASS="emphasis"
>address2</EM
>]]<KBD
CLASS="command"
>l</KBD
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>List the contents of the pattern space, showing nonprinting characters
as ASCII codes.  Long lines are wrapped.</P
></DD
><DT
CLASS="term"
><KBD
CLASS="command"
>n</KBD
> [<EM
CLASS="emphasis"
>address1</EM
>[,<EM
CLASS="emphasis"
>address2</EM
>]]<KBD
CLASS="command"
>n</KBD
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Read next line of input into pattern space.  Current line is sent to
standard output.  New line becomes current line and increments line
counter.  Control passes to command following <KBD
CLASS="command"
>n</KBD
>
instead of resuming at the top of the script.</P
></DD
><DT
CLASS="term"
><KBD
CLASS="command"
>N</KBD
> [<EM
CLASS="emphasis"
>address1</EM
>[,<EM
CLASS="emphasis"
>address2</EM
>]]<KBD
CLASS="command"
>N</KBD
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Append next input line to contents of pattern space; the new line is
separated from the previous contents of the pattern space by a newline.  
(This command is designed to allow pattern matches across two
lines.  Using \n to match the embedded newline, you can match
patterns across multiple lines.)</P
></DD
><DT
CLASS="term"
><KBD
CLASS="command"
>p</KBD
> [<EM
CLASS="emphasis"
>address1</EM
>[,<EM
CLASS="emphasis"
>address2</EM
>]]<KBD
CLASS="command"
>p</KBD
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Print the addressed line(s).  Note that this can result in duplicate
output unless default output is suppressed by using &quot;#n&quot; or
the <I
CLASS="option"
>-n</I
>
command-line option.  Typically used before commands that change flow
control (<KBD
CLASS="command"
>d</KBD
>, <KBD
CLASS="command"
>n</KBD
>,
<KBD
CLASS="command"
>b</KBD
>) and might prevent the current line from being
output.</P
></DD
><DT
CLASS="term"
><KBD
CLASS="command"
>P</KBD
> [<EM
CLASS="emphasis"
>address1</EM
>[,<EM
CLASS="emphasis"
>address2</EM
>]]<KBD
CLASS="command"
>P</KBD
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Print first part (up to embedded newline) of multiline pattern space
created by <KBD
CLASS="command"
>N</KBD
> command.  Same as <KBD
CLASS="command"
>p</KBD
>
if <KBD
CLASS="command"
>N</KBD
> has not been applied to a line.</P
></DD
><DT
CLASS="term"
><B
CLASS="emphasis.bold"
>q</B
> [<EM
CLASS="emphasis"
>address</EM
>]<KBD
CLASS="command"
>q</KBD
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Quit when <EM
CLASS="emphasis"
>address</EM
> is encountered.  The
addressed line is first written to output (if default output is not
suppressed), along with any text appended to it by previous
<KBD
CLASS="command"
>a</KBD
> or <KBD
CLASS="command"
>r</KBD
> commands.</P
></DD
><DT
CLASS="term"
><KBD
CLASS="command"
>r</KBD
> [<EM
CLASS="emphasis"
>address</EM
>]<KBD
CLASS="command"
>r</KBD
> <EM
CLASS="emphasis"
>file</EM
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Read contents of <EM
CLASS="emphasis"
>file</EM
> and append after the
contents of the pattern space.  Exactly one space must be put between
<KBD
CLASS="command"
>r</KBD
> and the filename.</P
></DD
><DT
CLASS="term"
><KBD
CLASS="command"
>s</KBD
> [<EM
CLASS="emphasis"
>address1</EM
>[,<EM
CLASS="emphasis"
>address2</EM
>]]<KBD
CLASS="command"
>s</KBD
>/<EM
CLASS="emphasis"
>pattern</EM
>/<EM
CLASS="emphasis"
>replacement</EM
>/[<EM
CLASS="emphasis"
>flags</EM
>]</DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Substitute <EM
CLASS="emphasis"
>replacement</EM
> for
<EM
CLASS="emphasis"
>pattern</EM
> on each addressed line.  If pattern
addresses are used, the pattern <KBD
CLASS="command"
>//</KBD
> represents the
last pattern address specified.  The following flags can be specified:</P
><DL
CLASS="variablelist"
><DT
CLASS="term"
><KBD
CLASS="command"
>n</KBD
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Replace <EM
CLASS="emphasis"
>n</EM
>th instance of
/<EM
CLASS="emphasis"
>pattern</EM
>/ on each addressed line.
<EM
CLASS="emphasis"
>n</EM
> is any number in the range 1 to 512, and
the default is 1.</P
></DD
><DT
CLASS="term"
><KBD
CLASS="command"
>g</KBD
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Replace all instances of /<EM
CLASS="emphasis"
>pattern</EM
>/ on each
addressed line, not just the first instance.</P
></DD
><DT
CLASS="term"
><KBD
CLASS="command"
>p</KBD
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Print the line if a successful substitution is done.  If several
successful substitutions are done, multiple copies of the line will be
printed.</P
></DD
><DT
CLASS="term"
><KBD
CLASS="command"
>w</KBD
> <EM
CLASS="emphasis"
>file</EM
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Write the line to <EM
CLASS="emphasis"
>file</EM
> if a replacement
was done.  A maximum of 10 different <EM
CLASS="emphasis"
>files</EM
>
can be opened.</P
></DD
></DL
></DD
><DT
CLASS="term"
><KBD
CLASS="command"
>t</KBD
> [<EM
CLASS="emphasis"
>address1</EM
>[,<EM
CLASS="emphasis"
>address2</EM
>]]<KBD
CLASS="command"
>t </KBD
>[<EM
CLASS="emphasis"
>label</EM
>]</DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Test if successful substitutions have been made on addressed lines,
and if so, branch to line marked by :<EM
CLASS="emphasis"
>label</EM
>.
(See <KBD
CLASS="command"
>b</KBD
> and <KBD
CLASS="command"
>:</KBD
>.)  If label is not
specified, control falls through to bottom of script.</P
></DD
><DT
CLASS="term"
><B
CLASS="emphasis.bold"
>w</B
> [<EM
CLASS="emphasis"
>address1</EM
>[,<EM
CLASS="emphasis"
>address2</EM
>]]<KBD
CLASS="command"
>w</KBD
> <EM
CLASS="emphasis"
>file</EM
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Append contents of pattern space to <EM
CLASS="emphasis"
>file</EM
>.
This action occurs when the command is encountered rather than when
the pattern space is output.  Exactly one space must separate the
<KBD
CLASS="command"
>w</KBD
> and the filename.  A maximum of 10 different
files can be opened in a script.  This command will create the file if
it does not exist; if the file exists, its contents will be
overwritten each time the script is executed.  Multiple write commands
that direct output to the same file append to the end of the file.</P
></DD
><DT
CLASS="term"
><KBD
CLASS="command"
>x</KBD
> [<EM
CLASS="emphasis"
>address1</EM
>[,<EM
CLASS="emphasis"
>address2</EM
>]]<KBD
CLASS="command"
>x</KBD
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Exchange contents of the pattern space with the contents of the hold
space.</P
></DD
><DT
CLASS="term"
><KBD
CLASS="command"
>y</KBD
> [<EM
CLASS="emphasis"
>address1</EM
>[,<EM
CLASS="emphasis"
>address2</EM
>]]<KBD
CLASS="command"
>y</KBD
>/<EM
CLASS="emphasis"
>abc</EM
>/<EM
CLASS="emphasis"
>xyz</EM
>/</DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Transform each character by position in string
<EM
CLASS="emphasis"
>abc</EM
> to its equivalent in string
<EM
CLASS="emphasis"
>xyz</EM
>.</P
></DD
></DL
><A
CLASS="indexterm"
NAME="AUTOID-12118"
></A
><A
CLASS="indexterm"
NAME="AUTOID-12119"
></A
><A
CLASS="indexterm"
NAME="AUTOID-12120"
></A
></DIV
><DIV
CLASS="htmlnav"
><P
></P
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="appa_02.htm"
TITLE="A.2 Syntax of sed Commands"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: A.2 Syntax of sed Commands"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="book"
HREF="index.htm"
TITLE="sed &amp; awk"
><IMG
SRC="../gifs/txthome.gif"
ALT="sed &amp; awk"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="APPENDIX"
HREF="appb_01.htm"
TITLE="B. Quick Reference for awk"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: B. Quick Reference for awk"
BORDER="0"></A
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
>A.2 Syntax of sed Commands</TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="index"
HREF="index/idx_0.htm"
TITLE="Book Index"
><IMG
SRC="../gifs/index.gif"
ALT="Book Index"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
>B. Quick Reference for awk</TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><IMG
SRC="../gifs/smnavbar.gif"
USEMAP="#map"
BORDER="0"
ALT="The UNIX CD Bookshelf Navigation"><MAP
NAME="map"
><AREA
SHAPE="RECT"
COORDS="0,0,73,21"
HREF="../index.htm"
ALT="The UNIX CD Bookshelf"><AREA
SHAPE="RECT"
COORDS="74,0,163,21"
HREF="../upt/index.htm"
ALT="UNIX Power Tools"><AREA
SHAPE="RECT"
COORDS="164,0,257,21"
HREF="../unixnut/index.htm"
ALT="UNIX in a Nutshell"><AREA
SHAPE="RECT"
COORDS="258,0,321,21"
HREF="../vi/index.htm"
ALT="Learning the vi Editor"><AREA
SHAPE="RECT"
COORDS="322,0,378,21"
HREF="index.htm"
ALT="sed &amp; awk"><AREA
SHAPE="RECT"
COORDS="379,0,438,21"
HREF="../ksh/index.htm"
ALT="Learning the Korn Shell"><AREA
SHAPE="RECT"
COORDS="439,0,514,21"
HREF="../lrnunix/index.htm"
ALT="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
