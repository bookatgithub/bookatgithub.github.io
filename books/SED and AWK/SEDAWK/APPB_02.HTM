<HTML
><HEAD
>
<TITLE>[Appendix B] B.2 Language Summary for awk</TITLE>
<META
NAME="DC.title"
CONTENT="sed &amp; awk"><META
NAME="DC.creator"
CONTENT="Dale Dougherty &amp; Arnold Robbins"><META
NAME="DC.publisher"
CONTENT="O'Reilly &amp; Associates, Inc."><META
NAME="DC.date"
CONTENT="1998-08-03T21:06:27Z"><META
NAME="DC.type"
CONTENT="Text.Monograph"><META
NAME="DC.format"
CONTENT="text/html"
SCHEME="MIME"><META
NAME="DC.source"
CONTENT="1-56592-225-5"
SCHEME="ISBN"><META
NAME="DC.language"
CONTENT="en-US"><META
NAME="generator"
CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINK
REV="made"
HREF="mailto:online-books@oreilly.com"
TITLE="Online Books Comments"><LINK
REL="up"
HREF="appb_01.htm"
TITLE="B. Quick Reference for awk"><LINK
REL="prev"
HREF="appb_01.htm"
TITLE="B.1 Command-Line Syntax"><LINK
REL="next"
HREF="appb_03.htm"
TITLE="B.3 Command Summary for awk"></HEAD
><BODY
BGCOLOR="#FFFFFF"
TEXT="#000000"
><DIV
CLASS="htmlnav"
><H1
><IMG
SRC="gifs/smbanner.gif"
ALT="sed &amp; awk"
USEMAP="#srchmap"
BORDER="0"></H1
><MAP
NAME="srchmap"
><AREA
SHAPE="RECT"
COORDS="0,0,466,65"
HREF="index.htm"
ALT="sed &amp; awk"><AREA
SHAPE="RECT"
COORDS="467,0,514,18"
HREF="../search/ssrch.htm"
ALT="Search this book"></MAP
><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="appb_01.htm"
TITLE="B.1 Command-Line Syntax"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: B.1 Command-Line Syntax"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><B
><FONT
FACE="ARIEL,HELVETICA,HELV,SANSERIF"
SIZE="-1"
>Appendix B<BR>Quick Reference for awk</FONT
></B
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="appb_03.htm"
TITLE="B.3 Command Summary for awk"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: B.3 Command Summary for awk"
BORDER="0"></A
></TD
></TR
></TABLE
>&nbsp;<HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"></DIV
><DIV
CLASS="SECT1"
><H2
CLASS="sect1"
><A
CLASS="title"
NAME="SEDAWK-APP-B-SECT-2"
>B.2 Language Summary for awk</A
></H2
><P
CLASS="para"
>This section summarizes how awk processes input records and
describes the various syntactic elements that make up an awk program.</P
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="SEDAWK-APP-B-SECT-2.1"
>B.2.1 Records and Fields</A
></H3
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-12219"
></A
><A
CLASS="indexterm"
NAME="AUTOID-12221"
></A
>Each line of input is split into fields.  By default, the field
delimiter is one or more spaces and/or tabs.  You can change the
field separator by using the <I
CLASS="option"
>-F</I
> command-line
option.  Doing so also sets the value of <KBD
CLASS="command"
>FS</KBD
>.  The
following command-line changes the field separator to a colon:</P
><P
CLASS="para"
><BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>awk -F: -f awkscr /etc/passwd</PRE
></BLOCKQUOTE
></P
><P
CLASS="para"
>You can also assign the delimiter to the system variable <KBD
CLASS="command"
>FS</KBD
>. 
This is typically done in the <KBD
CLASS="command"
>BEGIN</KBD
> procedure, but can also
be passed as a parameter on the command line.</P
><P
CLASS="para"
><BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>awk -f awkscr FS=: /etc/passwd</PRE
></BLOCKQUOTE
></P
><P
CLASS="para"
>Each input line forms a record containing any number of fields.  Each
field can be referenced by its position in the record.  &quot;$1&quot; refers to
the value of the first field; &quot;$2&quot; to the second field, and so on.
&quot;$0&quot; refers to the entire record.  The following action prints the
first field of each input line:</P
><P
CLASS="para"
><BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>{ print $1 }</PRE
></BLOCKQUOTE
></P
><P
CLASS="para"
>The default record separator is a newline.  The following procedure
sets <KBD
CLASS="command"
>FS</KBD
> and <KBD
CLASS="command"
>RS</KBD
> so that awk
interprets an input record as any number of lines up to a blank line,
with each line being a separate field.</P
><P
CLASS="para"
><BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>BEGIN { FS = &quot;\n&quot;; RS = &quot;&quot; }</PRE
></BLOCKQUOTE
></P
><P
CLASS="para"
>It is important to know that when <KBD
CLASS="command"
>RS</KBD
> is set to the
empty string, newline <EM
CLASS="emphasis"
>always</EM
> separates fields, in
addition to whatever value <KBD
CLASS="command"
>FS</KBD
> may have.  This is
discussed in more detail in both <CITE
CLASS="citetitle"
>The AWK Programming
Language</CITE
> and <CITE
CLASS="citetitle"
>Effective AWK
Programming</CITE
>.</P
></DIV
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="SEDAWK-APP-B-SECT-2.2"
>B.2.2 Format of a Script</A
></H3
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-12249"
></A
><A
CLASS="indexterm"
NAME="AUTOID-12252"
></A
>An awk script is a set of pattern-matching rules and
<EM
CLASS="emphasis"
>actions</EM
>:</P
><BLOCKQUOTE
CLASS="literallayout"
><P
CLASS="literallayout"
><EM
CLASS="emphasis"
>pattern</EM
> { <EM
CLASS="emphasis"
>action</EM
> }</P
></BLOCKQUOTE
><P
CLASS="para"
>An action is one or more statements that will be performed on those
input lines that match the pattern.  If no pattern is specified, the
action is performed for every input line.  The following example uses
the <KBD
CLASS="command"
>print</KBD
> statement to print each line in the input
file:</P
><P
CLASS="para"
><BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>{ print }</PRE
></BLOCKQUOTE
></P
><P
CLASS="para"
>If only a pattern is specified, then the default action consists of
the <KBD
CLASS="command"
>print</KBD
> statement, as shown above.</P
><P
CLASS="para"
>Function definitions can also appear:</P
><BLOCKQUOTE
CLASS="literallayout"
><P
CLASS="literallayout"
><KBD
CLASS="command"
>function</KBD
> <EM
CLASS="emphasis"
>name</EM
> (<EM
CLASS="emphasis"
>parameter list</EM
>) { <EM
CLASS="emphasis"
>statements</EM
> }</P
></BLOCKQUOTE
><P
CLASS="para"
>This syntax defines the function <EM
CLASS="emphasis"
>name</EM
>, making
available the list of parameters for processing in the body of the
function.  Variables specified in the parameter-list are treated as
local variables within the function.  All other variables are global
and can be accessed outside the function.  When calling a user-defined
function, no space is permitted between the name of the function and
the opening parenthesis.  Spaces are allowed in the function's
definition.  User-defined functions are described in <A
CLASS="xref"
HREF="ch09_01.htm"
TITLE="Functions"
>Chapter 9, Functions</A
>.</P
><DIV
CLASS="sect3"
><H4
CLASS="sect3"
><A
CLASS="title"
NAME="SEDAWK-APP-B-SECT-2.2.1"
>B.2.2.1 Line termination</A
></H4
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-12277"
></A
><A
CLASS="indexterm"
NAME="AUTOID-12279"
></A
><A
CLASS="indexterm"
NAME="AUTOID-12282"
></A
><A
CLASS="indexterm"
NAME="AUTOID-12284"
></A
>A line in an awk script is terminated by a newline or a semicolon.
Using semicolons to put multiple statements on a line, while
permitted, reduces the readability of most programs.  Blank lines are
permitted between statements.</P
><P
CLASS="para"
>Program control statements (<KBD
CLASS="command"
>do</KBD
>,
<KBD
CLASS="command"
>if</KBD
>, <KBD
CLASS="command"
>for</KBD
>, or
<KBD
CLASS="command"
>while</KBD
>) continue on the next line, where a dependent
statement is listed.  If multiple dependent statements are specified,
they must be enclosed within braces.</P
><P
CLASS="para"
><BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>if (NF &gt; 1) {
	name = $1
	total += $2
}</PRE
></BLOCKQUOTE
></P
><P
CLASS="para"
>You cannot use a semicolon to avoid using braces for multiple
statements.</P
><P
CLASS="para"
>You can type a single statement over multiple lines by escaping the
newline with a backslash (\).  You can also break
lines following any of the following characters:</P
><P
CLASS="para"
><BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>, { &amp;&amp; ||</PRE
></BLOCKQUOTE
></P
><P
CLASS="para"
>Gawk also allows you to continue a line after either a &quot;?&quot; or a &quot;:&quot;.
Strings cannot be broken across a line (except in gawk,
using &quot;\&quot; followed by a newline).</P
></DIV
><DIV
CLASS="sect3"
><H4
CLASS="sect3"
><A
CLASS="title"
NAME="SEDAWK-APP-B-SECT-2.2.2"
>B.2.2.2 Comments</A
></H4
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-12301"
></A
><A
CLASS="indexterm"
NAME="AUTOID-12303"
></A
><A
CLASS="indexterm"
NAME="AUTOID-12305"
></A
>A comment begins with a &quot;#&quot; and ends with a newline.  It can appear on
a line by itself or at the end of a line.  Comments are descriptive
remarks that explain the operation of the script.  Comments cannot be
continued across lines by ending them with a backslash.</P
></DIV
></DIV
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="SEDAWK-APP-B-SECT-2.3"
>B.2.3 Patterns</A
></H3
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-12310"
></A
>A pattern can be any of the following: </P
><BLOCKQUOTE
CLASS="literallayout"
><P
CLASS="literallayout"
>/<EM
CLASS="emphasis"
>regular expression</EM
>/<BR><EM
CLASS="emphasis"
>relational expression</EM
><BR><KBD
CLASS="command"
>BEGIN</KBD
><BR><KBD
CLASS="command"
>END</KBD
><BR><EM
CLASS="emphasis"
>pattern</EM
>, <EM
CLASS="emphasis"
>pattern</EM
></P
></BLOCKQUOTE
><OL
CLASS="orderedlist"
><LI
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-12322"
></A
>Regular expressions use the extended set of metacharacters and must be
enclosed in slashes.  For a full discussion of regular expressions,
see <A
CLASS="xref"
HREF="ch03_01.htm"
TITLE="Understanding Regular Expression Syntax"
>Chapter 3, Understanding Regular Expression Syntax</A
>.  </P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-12327"
></A
>Relational expressions use the relational operators
listed under &quot;Expressions&quot; later in this chapter. </P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>The <KBD
CLASS="command"
>BEGIN</KBD
> pattern is applied before the first line
of input is read and the <KBD
CLASS="command"
>END</KBD
> pattern is applied
after the last line of input is read.  </P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>Use <KBD
CLASS="command"
>!</KBD
> to negate the match; i.e., to handle
lines not matching the pattern. </P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>You can address a range of lines, just as in sed:  </P
><BLOCKQUOTE
CLASS="literallayout"
><P
CLASS="literallayout"
><EM
CLASS="emphasis"
>pattern</EM
>, <EM
CLASS="emphasis"
>pattern</EM
></P
></BLOCKQUOTE
><P
CLASS="para"
>Patterns, except <KBD
CLASS="command"
>BEGIN</KBD
> and <KBD
CLASS="command"
>END</KBD
>, 
can be expressed in compound forms using the following operators:</P
><TABLE
CLASS="informaltable"
><TBODY
CLASS="tbody"
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>&amp;&amp;</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Logical And</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>||</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Logical Or</TD
></TR
></TBODY
></TABLE
><P
CLASS="para"
>Sun's version of nawk (SunOS 4.1.x) does not support treating regular
expressions as parts of a larger Boolean expression. E.g.,
&quot;/cute/ &amp;&amp; /sweet/&quot; or &quot;/fast/ || /quick/&quot;
do not work.</P
><P
CLASS="para"
>In addition the C conditional operator <KBD
CLASS="command"
>?:</KBD
>
(<EM
CLASS="emphasis"
>pattern</EM
> ? <EM
CLASS="emphasis"
>pattern</EM
> :
<EM
CLASS="emphasis"
>pattern</EM
>) may be used in a pattern.</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>Patterns can be placed in parentheses to ensure proper evaluation.</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
><KBD
CLASS="command"
>BEGIN</KBD
> and <KBD
CLASS="command"
>END</KBD
> patterns must be
associated with actions.  If multiple <KBD
CLASS="command"
>BEGIN</KBD
> and
<KBD
CLASS="command"
>END</KBD
> rules are written, they are merged into a
single rule before being applied.</P
></LI
></OL
></DIV
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="SEDAWK-APP-B-SECT-2.4"
>B.2.4 Regular Expressions</A
></H3
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-12370"
></A
><A
CLASS="indexterm"
NAME="AUTOID-12372"
></A
><A
CLASS="indexterm"
NAME="AUTOID-12375"
></A
><A
CLASS="xref"
HREF="appb_02.htm#SEDAWK-APP-B-TAB-1"
TITLE="Regular Expression Metacharacters"
>Table 13.2</A
> summarizes the regular expressions
as described in <A
CLASS="xref"
HREF="ch03_01.htm"
TITLE="Understanding Regular Expression Syntax"
>Chapter 3</A
>.  The metacharacters are
listed in order of precedence.</P
><TABLE
CLASS="table"
><CAPTION
CLASS="table"
><A
CLASS="title"
NAME="SEDAWK-APP-B-TAB-1"
>Table B.1: Regular Expression Metacharacters</A
></CAPTION
><THEAD
CLASS="thead"
><TR
CLASS="row"
VALIGN="TOP"
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
>Special</TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
></TH
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
>Characters</TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
>Usage</TH
></TR
></THEAD
><TBODY
CLASS="tbody"
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><EM
CLASS="emphasis"
>c</EM
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Matches any literal character <EM
CLASS="emphasis"
>c</EM
> that is not a
metacharacter.</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>\</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Escapes any metacharacter that follows, including itself.</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>^</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Anchors following regular expression to the beginning of string.</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>$</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Anchors preceding regular expression to the end of string.</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>.</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Matches any single character, including <EM
CLASS="emphasis"
>newline</EM
>.</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>[...]</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Matches any <EM
CLASS="emphasis"
>one</EM
> of the class of characters
enclosed between the brackets.  A circumflex (^) as the first
character inside brackets reverses the match to all characters except
those listed in the class.  A hyphen (-) is used to indicate a range
of characters.  The close bracket (]) as the first
character in a class is a member of the class.  All other
metacharacters lose their meaning when specified as members of a
class, except \, which can be used to escape ], even if it is not
first.  </P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><EM
CLASS="emphasis"
>r1</EM
>|<EM
CLASS="emphasis"
>r2</EM
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Between two regular expressions, <EM
CLASS="emphasis"
>r1</EM
> and
<EM
CLASS="emphasis"
>r2</EM
>, it allows either of the regular
expressions to be matched.</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>(<EM
CLASS="emphasis"
>r1</EM
>)(<EM
CLASS="emphasis"
>r2</EM
>)</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Used for concatenating regular expressions.</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><EM
CLASS="emphasis"
>r</EM
>*</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Matches any number (including zero) of the regular expression 
that immediately precedes it.</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><EM
CLASS="emphasis"
>r</EM
>+</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Matches one or more occurrences of the preceding regular expression.</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><EM
CLASS="emphasis"
>r</EM
>?</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Matches 0 or 1 occurrences of the preceding regular expression.</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>(<EM
CLASS="emphasis"
>r</EM
>)</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Used for grouping regular expressions.</P
></TD
></TR
></TBODY
></TABLE
><P
CLASS="para"
>Regular expressions can also make use of the escape sequences for
accessing special characters, as defined in the section &quot;Escape
sequences&quot; later in this appendix.</P
><P
CLASS="para"
>Note that <KBD
CLASS="command"
>^</KBD
> and <KBD
CLASS="command"
>$</KBD
> work on
<EM
CLASS="emphasis"
>strings</EM
>; they do not match against newlines
embedded in a record or string.</P
><P
CLASS="para"
>Within a pair of brackets, POSIX allows special notations for
matching non-English characters. They are described in
<A
CLASS="xref"
HREF="appb_02.htm#SEDAWK-APP-B-TAB-2"
TITLE="POSIX Character List Facilities"
>Table 13.3</A
>.<A
CLASS="indexterm"
NAME="AUTOID-12461"
></A
></P
><TABLE
CLASS="table"
><CAPTION
CLASS="table"
><A
CLASS="title"
NAME="SEDAWK-APP-B-TAB-2"
>Table B.2: POSIX Character List Facilities</A
></CAPTION
><THEAD
CLASS="thead"
><TR
CLASS="row"
VALIGN="TOP"
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
>Notation</TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
>Facility</TH
></TR
></THEAD
><TBODY
CLASS="tbody"
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>[.<EM
CLASS="emphasis"
>symbol</EM
>.]</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Collating symbols.  A collating symbol is a multi-character sequence
that should be treated as a unit.</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>[=<EM
CLASS="emphasis"
>equiv</EM
>=]</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Equivalence classes.  An equivalence class lists a set of characters
that should be considered equivalent, such as &quot;e&quot; and &quot;&egrave;&quot;.</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>[:<EM
CLASS="emphasis"
>class</EM
>:]</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Character classes. Character class keywords describe different
classes of characters such as alphabetic characters, control
characters, and so on.</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>[:alnum:]</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Alphanumeric characters</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>[:alpha:]</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Alphabetic characters</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>[:blank:]</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Space and tab characters</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>[:cntrl:]</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Control characters</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>[:digit:]</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Numeric characters</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>[:graph:]</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Printable and visible (non-space) characters</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>[:lower:]</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Lowercase characters</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>[:print:]</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Printable characters</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>[:punct:]</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Punctuation characters</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>[:space:]</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Whitespace characters</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>[:upper:]</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Uppercase characters</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>[:xdigit:]</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Hexadecimal digits</TD
></TR
></TBODY
></TABLE
><P
CLASS="para"
>Note that these facilities (as of this writing) are still not
widely implemented.</P
></DIV
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="SEDAWK-APP-B-SECT-2.5"
>B.2.5 Expressions</A
></H3
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-12529"
></A
>An expression can be made up of constants, variables, operators and
functions.  A constant is a string (any sequence of characters) or a
numeric value.  A variable is a symbol that references a value.  You
can think of it as a piece of information that retrieves a particular
numeric or string value.</P
><DIV
CLASS="sect3"
><H4
CLASS="sect3"
><A
CLASS="title"
NAME="SEDAWK-APP-B-SECT-2.5.1"
>B.2.5.1 Constants</A
></H4
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-12534"
></A
>There are two types of constants, string and numeric.  A string
constant must be quoted while a numeric constant is not.</P
></DIV
><DIV
CLASS="sect3"
><H4
CLASS="sect3"
><A
CLASS="title"
NAME="SEDAWK-APP-B-SECT-2.5.2"
>B.2.5.2 Escape sequences</A
></H4
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-12539"
></A
><A
CLASS="indexterm"
NAME="AUTOID-12542"
></A
>The escape sequences described in <A
CLASS="xref"
HREF="appb_02.htm#SEDAWK-APP-B-TAB-3"
TITLE="Escape Sequences"
>Table 13.4</A
>
can be used in strings and regular expressions.</P
><TABLE
CLASS="table"
><CAPTION
CLASS="table"
><A
CLASS="title"
NAME="SEDAWK-APP-B-TAB-3"
>Table B.3: Escape Sequences</A
></CAPTION
><THEAD
CLASS="thead"
><TR
CLASS="row"
VALIGN="TOP"
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
>Sequence</TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
>Description</TH
></TR
></THEAD
><TBODY
CLASS="tbody"
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>\a</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Alert character, usually ASCII BEL character</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>\b</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Backspace</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>\f</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Formfeed</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>\n</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Newline</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>\r</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Carriage return</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>\t</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Horizontal tab</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>\v</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Vertical tab</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>\<EM
CLASS="emphasis"
>ddd</EM
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Character represented as 1 to 3 digit octal value</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>\x<EM
CLASS="emphasis"
>hex</EM
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Character represented as hexadecimal value[1]</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>\<EM
CLASS="emphasis"
>c</EM
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Any literal character <EM
CLASS="emphasis"
>c</EM
> (e.g.,
<KBD
CLASS="command"
>\&quot;</KBD
> for <KBD
CLASS="command"
>&quot;</KBD
>)[2]</P
></TD
></TR
></TBODY
></TABLE
><BLOCKQUOTE
CLASS="footnote"
><P
CLASS="para"
>[1] POSIX does not provide &quot;\x&quot;, but it is commonly available.</P
><P
CLASS="para"
>[2] Like ANSI C, POSIX leaves it purposely undefined what you get when
you put a backslash before any character not listed in the table.
In most awks, you just get that character.</P
></BLOCKQUOTE
></DIV
><DIV
CLASS="sect3"
><H4
CLASS="sect3"
><A
CLASS="title"
NAME="SEDAWK-APP-B-SECT-2.5.3"
>B.2.5.3 Variables</A
></H4
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-12597"
></A
>There are three kinds of variables: user-defined, built-in, and
fields.  By convention, the names of built-in or system variables
consist of all capital letters.</P
><P
CLASS="para"
>The name of a variable cannot start with a digit.
Otherwise, it consists of letters, digits, and underscores.
Case is significant in variable names.</P
><P
CLASS="para"
>A variable does not need to be declared or initialized.  A variable
can contain either a string or numeric value.  An uninitialized
variable has the empty string (&quot;&quot;) as its string value and 0
as its numeric value.  Awk attempts to decide whether a value should
be processed as a string or a number depending upon the operation.</P
><P
CLASS="para"
>The assignment of a variable has the form:</P
><BLOCKQUOTE
CLASS="literallayout"
><P
CLASS="literallayout"
><EM
CLASS="emphasis"
>var</EM
> = <EM
CLASS="emphasis"
>expr</EM
></P
></BLOCKQUOTE
><P
CLASS="para"
>It assigns the value of the expression to
<EM
CLASS="emphasis"
>var</EM
>.  The following expression assigns a
value of 1 to the variable <B
CLASS="emphasis.bold"
>x</B
>.</P
><P
CLASS="para"
><BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>x = 1</PRE
></BLOCKQUOTE
></P
><P
CLASS="para"
>The name of the variable is used to reference the value:</P
><P
CLASS="para"
><BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>{ print x }</PRE
></BLOCKQUOTE
></P
><P
CLASS="para"
>prints the value of the variable <KBD
CLASS="command"
>x</KBD
>.  In this case,
it would be 1.</P
><P
CLASS="para"
>See the section &quot;System Variables&quot; below for information on
built-in variables.  A field variable is referenced using
<KBD
CLASS="command"
>$</KBD
><EM
CLASS="emphasis"
>n</EM
>, where
<EM
CLASS="emphasis"
>n</EM
> is any number 0 to <KBD
CLASS="command"
>NF</KBD
>,
that references the field by position.  It can be supplied by a
variable, such as <KBD
CLASS="command"
>$NF</KBD
> meaning the last field, or
constant, such as $1 meaning the first field.</P
></DIV
><DIV
CLASS="sect3"
><H4
CLASS="sect3"
><A
CLASS="title"
NAME="SEDAWK-APP-B-SECT-2.5.4"
>B.2.5.4 Arrays</A
></H4
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-12624"
></A
><A
CLASS="indexterm"
NAME="AUTOID-12626"
></A
><A
CLASS="indexterm"
NAME="AUTOID-12630"
></A
>An array is a variable that can be used to store a set of values.  The
following statement assigns a value to an element of an array:</P
><BLOCKQUOTE
CLASS="literallayout"
><P
CLASS="literallayout"
><EM
CLASS="emphasis"
>array</EM
>[<EM
CLASS="emphasis"
>index</EM
>] = <EM
CLASS="emphasis"
>value</EM
></P
></BLOCKQUOTE
><P
CLASS="para"
>In awk, all arrays are <EM
CLASS="emphasis"
>associative</EM
> arrays.  What
makes an associative array unique is that its index can be a string or
a number.</P
><P
CLASS="para"
>An associative array makes an &quot;association&quot; between the indices and
the elements of an array.  For each element of the array, a pair of
values is maintained: the index of the element and the value of the
element.  The elements are not stored in any particular order as in a
conventional array.</P
><P
CLASS="para"
>You can use the special <KBD
CLASS="command"
>for</KBD
> loop to read all the
elements of an associative array.</P
><BLOCKQUOTE
CLASS="literallayout"
><P
CLASS="literallayout"
><KBD
CLASS="command"
>for</KBD
> (<EM
CLASS="emphasis"
>item</EM
> <B
CLASS="emphasis.bold"
>in</B
> <EM
CLASS="emphasis"
>array</EM
>)</P
></BLOCKQUOTE
><P
CLASS="para"
>The index of the array is available as
<EM
CLASS="emphasis"
>item</EM
>, while the value of an element of the
array can be referenced as
<EM
CLASS="emphasis"
>array</EM
>[<EM
CLASS="emphasis"
>item</EM
>].</P
><P
CLASS="para"
>You can use the operator <KBD
CLASS="command"
>in</KBD
> to test that an element
exists by testing to see if its index exists.</P
><BLOCKQUOTE
CLASS="literallayout"
><P
CLASS="literallayout"
><KBD
CLASS="command"
>if</KBD
> (<EM
CLASS="emphasis"
>index</EM
> <KBD
CLASS="command"
>in</KBD
> <EM
CLASS="emphasis"
>array</EM
>)</P
></BLOCKQUOTE
><P
CLASS="para"
>tests that
<EM
CLASS="emphasis"
>array</EM
>[<EM
CLASS="emphasis"
>index</EM
>]
exists, but you cannot use it to test the value of the element
referenced by
<EM
CLASS="emphasis"
>array</EM
>[<EM
CLASS="emphasis"
>index</EM
>].</P
><P
CLASS="para"
>You can also delete individual elements of the array using the
<KBD
CLASS="command"
>delete</KBD
> statement.</P
></DIV
><DIV
CLASS="sect3"
><H4
CLASS="sect3"
><A
CLASS="title"
NAME="SEDAWK-APP-B-SECT-2.5.5"
>B.2.5.5 System variables</A
></H4
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-12669"
></A
><A
CLASS="indexterm"
NAME="AUTOID-12671"
></A
><A
CLASS="indexterm"
NAME="AUTOID-12675"
></A
>Awk defines a number of special variables that can be referenced or
reset inside a program, as shown in <A
CLASS="xref"
HREF="appb_02.htm#SEDAWK-APP-B-TAB-4"
TITLE="Awk System Variables"
>Table 13.5</A
> (defaults are listed in parentheses).</P
><TABLE
CLASS="table"
><CAPTION
CLASS="table"
><A
CLASS="title"
NAME="SEDAWK-APP-B-TAB-4"
>Table B.4: Awk System Variables</A
></CAPTION
><THEAD
CLASS="thead"
><TR
CLASS="row"
VALIGN="TOP"
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
>Variable</TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
>Description</TH
></TR
></THEAD
><TBODY
CLASS="tbody"
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><B
CLASS="emphasis.bold"
>ARGC</B
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Number of arguments on command line</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><B
CLASS="emphasis.bold"
>ARGV</B
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>An array containing the command-line arguments</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><B
CLASS="emphasis.bold"
>CONVFMT</B
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>String conversion format for numbers (%.6g). (POSIX)</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><B
CLASS="emphasis.bold"
>ENVIRON</B
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>An associative array of environment variables</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><B
CLASS="emphasis.bold"
>FILENAME</B
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Current filename</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><B
CLASS="emphasis.bold"
>FNR</B
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Like <KBD
CLASS="command"
>NR</KBD
>, but relative to the current file</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><B
CLASS="emphasis.bold"
>FS</B
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Field separator (a blank)</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><B
CLASS="emphasis.bold"
>NF</B
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Number of fields in current record</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><B
CLASS="emphasis.bold"
>NR</B
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Number of the current record</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><B
CLASS="emphasis.bold"
>OFMT</B
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Output format for numbers (%.6g)</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><B
CLASS="emphasis.bold"
>OFS</B
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Output field separator (a blank)</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><B
CLASS="emphasis.bold"
>ORS</B
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Output record separator (a newline)</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><B
CLASS="emphasis.bold"
>RLENGTH</B
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Length of the string matched by <KBD
CLASS="command"
>match()</KBD
> function</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><B
CLASS="emphasis.bold"
>RS</B
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Record separator (a newline)</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><B
CLASS="emphasis.bold"
>RSTART</B
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>First position in the string matched by <KBD
CLASS="command"
>match()</KBD
> function</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><B
CLASS="emphasis.bold"
>SUBSEP</B
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Separator character for array subscripts (\034)</P
></TD
></TR
></TBODY
></TABLE
></DIV
><DIV
CLASS="sect3"
><H4
CLASS="sect3"
><A
CLASS="title"
NAME="SEDAWK-APP-B-SECT-2.5.6"
>B.2.5.6 Operators</A
></H4
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-12761"
></A
><A
CLASS="indexterm"
NAME="AUTOID-12763"
></A
><A
CLASS="indexterm"
NAME="AUTOID-12766"
></A
><A
CLASS="xref"
HREF="appb_02.htm#SEDAWK-APP-B-TAB-5"
TITLE="Operators"
>Table 13.6</A
> lists the operators
in the order of precedence (low to high) that are available in awk.</P
><TABLE
CLASS="table"
><CAPTION
CLASS="table"
><A
CLASS="title"
NAME="SEDAWK-APP-B-TAB-5"
>Table B.5: Operators</A
></CAPTION
><THEAD
CLASS="thead"
><TR
CLASS="row"
VALIGN="TOP"
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
>Operators</TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
>Description</TH
></TR
></THEAD
><TBODY
CLASS="tbody"
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>=   +=   -=   *=   /=   %=   ^=   **=</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Assignment</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>?:</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>C conditional expression</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>||</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Logical OR</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>&amp;&amp;</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Logical AND</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>~    !~</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Match regular expression and negation</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>&lt;   &lt;=   &gt;   &gt;=   !=  ==</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Relational operators</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>(blank)</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Concatenation</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>+   -</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Addition, subtraction</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>*  /  %</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Multiplication, division, and modulus</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>+   -   !</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Unary plus and minus, and logical negation</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>^  **</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Exponentiation</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>++ --</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Increment and decrement, either prefix or postfix</TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>$</TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
>Field reference</TD
></TR
></TBODY
></TABLE
><BLOCKQUOTE
CLASS="note"
><P
CLASS="para"
><STRONG
>NOTE:</STRONG
> While &quot;**&quot; and &quot;**=&quot; are common extensions, they are not
part of POSIX awk.</P
></BLOCKQUOTE
></DIV
></DIV
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="SEDAWK-APP-B-SECT-2.6"
>B.2.6 Statements and Functions</A
></H3
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-12821"
></A
><A
CLASS="indexterm"
NAME="AUTOID-12823"
></A
>An action is enclosed in braces and consists of one or more statements
and/or expressions. The difference between a statement and a function
is that a function returns a value, and its argument list is specified
within parentheses. (The formal syntactical difference does not always
hold true: <KBD
CLASS="command"
>printf</KBD
> is considered a statement, but
its argument list can be put in parentheses;
<KBD
CLASS="command"
>getline</KBD
> is a function that does not use
parentheses.)</P
><P
CLASS="para"
>Awk has a number of predefined arithmetic and string functions.  A
function is typically called as follows:</P
><BLOCKQUOTE
CLASS="literallayout"
><P
CLASS="literallayout"
><EM
CLASS="emphasis"
>return</EM
> = <EM
CLASS="emphasis"
>function</EM
>(<EM
CLASS="emphasis"
>arg1</EM
>,<EM
CLASS="emphasis"
>arg2</EM
>)</P
></BLOCKQUOTE
><P
CLASS="para"
>where <EM
CLASS="emphasis"
>return</EM
> is a variable created to hold
what the function returns.  (In fact, the return value of a function
can be used anywhere in an expression, not just on the right-hand side
of an assignment.)  Arguments to a function are specified as a
comma-separated list.  The left parenthesis follows after the name of
the function.  (With built-in functions, a space is permitted between
the function name and the parentheses.)</P
></DIV
></DIV
><DIV
CLASS="htmlnav"
><P
></P
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="appb_01.htm"
TITLE="B.1 Command-Line Syntax"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: B.1 Command-Line Syntax"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="book"
HREF="index.htm"
TITLE="sed &amp; awk"
><IMG
SRC="../gifs/txthome.gif"
ALT="sed &amp; awk"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="appb_03.htm"
TITLE="B.3 Command Summary for awk"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: B.3 Command Summary for awk"
BORDER="0"></A
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
>B.1 Command-Line Syntax</TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="index"
HREF="index/idx_0.htm"
TITLE="Book Index"
><IMG
SRC="../gifs/index.gif"
ALT="Book Index"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
>B.3 Command Summary for awk</TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><IMG
SRC="../gifs/smnavbar.gif"
USEMAP="#map"
BORDER="0"
ALT="The UNIX CD Bookshelf Navigation"><MAP
NAME="map"
><AREA
SHAPE="RECT"
COORDS="0,0,73,21"
HREF="../index.htm"
ALT="The UNIX CD Bookshelf"><AREA
SHAPE="RECT"
COORDS="74,0,163,21"
HREF="../upt/index.htm"
ALT="UNIX Power Tools"><AREA
SHAPE="RECT"
COORDS="164,0,257,21"
HREF="../unixnut/index.htm"
ALT="UNIX in a Nutshell"><AREA
SHAPE="RECT"
COORDS="258,0,321,21"
HREF="../vi/index.htm"
ALT="Learning the vi Editor"><AREA
SHAPE="RECT"
COORDS="322,0,378,21"
HREF="index.htm"
ALT="sed &amp; awk"><AREA
SHAPE="RECT"
COORDS="379,0,438,21"
HREF="../ksh/index.htm"
ALT="Learning the Korn Shell"><AREA
SHAPE="RECT"
COORDS="439,0,514,21"
HREF="../lrnunix/index.htm"
ALT="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
