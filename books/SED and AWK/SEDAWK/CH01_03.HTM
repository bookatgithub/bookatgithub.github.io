<HTML
><HEAD
>
<TITLE>[Chapter 1] 1.3 A Pattern-Matching Programming Language</TITLE>
<META
NAME="DC.title"
CONTENT="sed &amp; awk"><META
NAME="DC.creator"
CONTENT="Dale Dougherty &amp; Arnold Robbins"><META
NAME="DC.publisher"
CONTENT="O'Reilly &amp; Associates, Inc."><META
NAME="DC.date"
CONTENT="1998-08-03T20:49:06Z"><META
NAME="DC.type"
CONTENT="Text.Monograph"><META
NAME="DC.format"
CONTENT="text/html"
SCHEME="MIME"><META
NAME="DC.source"
CONTENT="1-56592-225-5"
SCHEME="ISBN"><META
NAME="DC.language"
CONTENT="en-US"><META
NAME="generator"
CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINK
REV="made"
HREF="mailto:online-books@oreilly.com"
TITLE="Online Books Comments"><LINK
REL="up"
HREF="ch01_01.htm"
TITLE="1. Power Tools for Editing"><LINK
REL="prev"
HREF="ch01_02.htm"
TITLE="1.2 A Stream Editor"><LINK
REL="next"
HREF="ch01_04.htm"
TITLE="1.4 Four Hurdles to Mastering sed and awk"></HEAD
><BODY
BGCOLOR="#FFFFFF"
TEXT="#000000"
><DIV
CLASS="htmlnav"
><H1
><IMG
SRC="gifs/smbanner.gif"
ALT="sed &amp; awk"
USEMAP="#srchmap"
BORDER="0"></H1
><MAP
NAME="srchmap"
><AREA
SHAPE="RECT"
COORDS="0,0,466,65"
HREF="index.htm"
ALT="sed &amp; awk"><AREA
SHAPE="RECT"
COORDS="467,0,514,18"
HREF="../search/ssrch.htm"
ALT="Search this book"></MAP
><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch01_02.htm"
TITLE="1.2 A Stream Editor"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 1.2 A Stream Editor"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><B
><FONT
FACE="ARIEL,HELVETICA,HELV,SANSERIF"
SIZE="-1"
>Chapter 1<BR>Power Tools for Editing</FONT
></B
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch01_04.htm"
TITLE="1.4 Four Hurdles to Mastering sed and awk"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 1.4 Four Hurdles to Mastering sed and awk"
BORDER="0"></A
></TD
></TR
></TABLE
>&nbsp;<HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"></DIV
><DIV
CLASS="SECT1"
><H2
CLASS="sect1"
><A
CLASS="title"
NAME="SEDAWK-CH-1-SECT-3"
>1.3 A Pattern-Matching Programming Language</A
></H2
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-443"
></A
><A
CLASS="indexterm"
NAME="AUTOID-445"
></A
>Identifying awk as a programming language scares some people away from
it.  If you are one of them, consider awk a different approach to
problem solving, one in which you have a lot more control over what
you want the computer to do.</P
><P
CLASS="para"
>Sed is easily seen as the flip side of interactive editing.  A sed
procedure corresponds closely enough to how you would apply the
editing commands manually.  Sed limits you to the methods you use in a
text editor.  Awk offers a more general computational model for
processing a file.</P
><P
CLASS="para"
>A typical example of an awk program is one that transforms data into a
formatted report.  The data might be a log file generated by a UNIX
program such as <KBD
CLASS="command"
>uucp</KBD
>, and the report might
summarize the data in a format useful to a system administrator.
Another example is a data processing application consisting of
separate data entry and data retrieval programs.  Data entry is the
process of recording data in a structured way.  Data retrieval is the
process of extracting data from a file and generating a report.</P
><P
CLASS="para"
>The key to all of these operations is that the data has some kind of
structure.  Let us illustrate this with the analogy of a bureau.  A
bureau consists of multiple drawers, and each drawer has a certain set
of contents: socks in one drawer, underwear in another, and sweaters
in a third drawer.  Sometimes drawers have compartments allowing
different kinds of things to be stored together.  These are all
structures that determine where things go&nbsp;- when you are sorting
the laundry&nbsp;- and where things can be found&nbsp;- when you are
getting dressed.  Awk allows you to use the structure of a text file
in writing the procedures for putting things in and taking things out.</P
><P
CLASS="para"
>Thus, the benefits of awk are best realized when the data has some
kind of structure.  A text file can be loosely or tightly structured.
A chapter containing major and minor sections has some structure.
We'll look at a script that extracts section headings and numbers
them to produce an outline.  A table consisting of tab-separated items
in columns might be considered very structured.  You could use an awk
script to reorder columns of data, or even change columns into rows
and rows into columns.</P
><P
CLASS="para"
>Like sed scripts, awk scripts are typically invoked by means of a
shell wrapper.  This is a shell script that usually contains the
command line that invokes awk as well as the script that awk
interprets.  Simple one-line awk scripts can be entered from the
command line.</P
><P
CLASS="para"
>Some of the things awk allows you to do are:</P
><UL
CLASS="itemizedlist"
><LI
CLASS="listitem"
><P
CLASS="para"
>View a text file as a textual database made up of records and fields.</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>Use variables to manipulate the database.</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>Use arithmetic and string operators.</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>Use common programming constructs such as loops and conditionals.</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>Generate formatted reports.</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>Define functions.</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>Execute UNIX commands from a script.</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>Process the result of UNIX commands.</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>Process command-line arguments more gracefully.</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>Work more easily with multiple input streams.</P
></LI
></UL
><P
CLASS="para"
>Because of these features, awk has the power and range that users
might rely upon to do the kinds of tasks performed by shell scripts.
In this book, you'll see examples of a menu-based command generator,
an interactive spelling checker, and an index processing program, all
of which use the features outlined above.</P
><P
CLASS="para"
>The capabilities of awk extend the idea of text editing into
computation, making it possible to perform a variety of data
processing tasks, including analysis, extraction, and reporting of
data.  These are, indeed, the most common uses of awk but there are
also many unusual applications: awk has been used to write a Lisp
interpreter and even a compiler!</P
></DIV
><DIV
CLASS="htmlnav"
><P
></P
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch01_02.htm"
TITLE="1.2 A Stream Editor"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 1.2 A Stream Editor"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="book"
HREF="index.htm"
TITLE="sed &amp; awk"
><IMG
SRC="../gifs/txthome.gif"
ALT="sed &amp; awk"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch01_04.htm"
TITLE="1.4 Four Hurdles to Mastering sed and awk"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 1.4 Four Hurdles to Mastering sed and awk"
BORDER="0"></A
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
>1.2 A Stream Editor</TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="index"
HREF="index/idx_0.htm"
TITLE="Book Index"
><IMG
SRC="../gifs/index.gif"
ALT="Book Index"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
>1.4 Four Hurdles to Mastering sed and awk</TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><IMG
SRC="../gifs/smnavbar.gif"
USEMAP="#map"
BORDER="0"
ALT="The UNIX CD Bookshelf Navigation"><MAP
NAME="map"
><AREA
SHAPE="RECT"
COORDS="0,0,73,21"
HREF="../index.htm"
ALT="The UNIX CD Bookshelf"><AREA
SHAPE="RECT"
COORDS="74,0,163,21"
HREF="../upt/index.htm"
ALT="UNIX Power Tools"><AREA
SHAPE="RECT"
COORDS="164,0,257,21"
HREF="../unixnut/index.htm"
ALT="UNIX in a Nutshell"><AREA
SHAPE="RECT"
COORDS="258,0,321,21"
HREF="../vi/index.htm"
ALT="Learning the vi Editor"><AREA
SHAPE="RECT"
COORDS="322,0,378,21"
HREF="index.htm"
ALT="sed &amp; awk"><AREA
SHAPE="RECT"
COORDS="379,0,438,21"
HREF="../ksh/index.htm"
ALT="Learning the Korn Shell"><AREA
SHAPE="RECT"
COORDS="439,0,514,21"
HREF="../lrnunix/index.htm"
ALT="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
