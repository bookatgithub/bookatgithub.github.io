<HTML
><HEAD
>
<TITLE>[Chapter 5] 5.8 Print</TITLE>
<META
NAME="DC.title"
CONTENT="sed &amp; awk"><META
NAME="DC.creator"
CONTENT="Dale Dougherty &amp; Arnold Robbins"><META
NAME="DC.publisher"
CONTENT="O'Reilly &amp; Associates, Inc."><META
NAME="DC.date"
CONTENT="1998-08-03T20:54:29Z"><META
NAME="DC.type"
CONTENT="Text.Monograph"><META
NAME="DC.format"
CONTENT="text/html"
SCHEME="MIME"><META
NAME="DC.source"
CONTENT="1-56592-225-5"
SCHEME="ISBN"><META
NAME="DC.language"
CONTENT="en-US"><META
NAME="generator"
CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINK
REV="made"
HREF="mailto:online-books@oreilly.com"
TITLE="Online Books Comments"><LINK
REL="up"
HREF="ch05_01.htm"
TITLE="5. Basic sed Commands"><LINK
REL="prev"
HREF="ch05_07.htm"
TITLE="5.7 Transform"><LINK
REL="next"
HREF="ch05_09.htm"
TITLE="5.9 Print Line Number"></HEAD
><BODY
BGCOLOR="#FFFFFF"
TEXT="#000000"
><DIV
CLASS="htmlnav"
><H1
><IMG
SRC="gifs/smbanner.gif"
ALT="sed &amp; awk"
USEMAP="#srchmap"
BORDER="0"></H1
><MAP
NAME="srchmap"
><AREA
SHAPE="RECT"
COORDS="0,0,466,65"
HREF="index.htm"
ALT="sed &amp; awk"><AREA
SHAPE="RECT"
COORDS="467,0,514,18"
HREF="../search/ssrch.htm"
ALT="Search this book"></MAP
><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch05_07.htm"
TITLE="5.7 Transform"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 5.7 Transform"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><B
><FONT
FACE="ARIEL,HELVETICA,HELV,SANSERIF"
SIZE="-1"
>Chapter 5<BR>Basic sed Commands</FONT
></B
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch05_09.htm"
TITLE="5.9 Print Line Number"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 5.9 Print Line Number"
BORDER="0"></A
></TD
></TR
></TABLE
>&nbsp;<HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"></DIV
><DIV
CLASS="SECT1"
><H2
CLASS="sect1"
><A
CLASS="title"
NAME="SEDAWK-CH-5-SECT-8"
>5.8 Print</A
></H2
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-3756"
></A
>The print command (<KBD
CLASS="command"
>p</KBD
>) causes the contents of the
pattern space to be output.  It does not clear the pattern space nor
does it change the flow of control in the script.  However, it is
frequently used before commands (<KBD
CLASS="command"
>d</KBD
>,
<KBD
CLASS="command"
>N</KBD
>, <KBD
CLASS="command"
>b</KBD
>) that do change flow
control.  Unless the default output is suppressed
(<EM
CLASS="emphasis"
>-n</EM
>), the print command will cause duplicate copies
of a line to be output.  It can be used when default output is
suppressed or when the flow control through the program avoids
reaching the bottom of the script.</P
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-3764"
></A
>Let's look at a script that shows how the print command might be used
for debugging purposes.  It is used to show what the line looked like
before you made any changes.</P
><BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>#n Print line before and after changes.
/^\.Ah/{
p
s/&quot;//g
s/^\.Ah //p
}</PRE
></BLOCKQUOTE
><P
CLASS="para"
>Note that the print flag is supplied to the substitute command.  The
substitute command's print flag differs from the print command in that
it is conditional upon a successful substitution.</P
><P
CLASS="para"
>Here's a sample run of the above script:</P
><BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>$ <CODE
CLASS="userinput"
><B
>sed -f sed.debug ch05</B
></CODE
>
.Ah &quot;Comment&quot;
Comment
.Ah &quot;Substitution&quot;
Substitution
.Ah &quot;Delete&quot;
Delete
.Ah &quot;Append, Insert and Change&quot;
Append, Insert and Change
.Ah &quot;List&quot;
List</PRE
></BLOCKQUOTE
><P
CLASS="para"
>Each affected line is printed twice.</P
><P
CLASS="para"
>We'll see additional examples of the print command in the next
chapter.  See also the multiline print command (<KBD
CLASS="command"
>P</KBD
>)
in the next chapter.</P
></DIV
><DIV
CLASS="htmlnav"
><P
></P
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch05_07.htm"
TITLE="5.7 Transform"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 5.7 Transform"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="book"
HREF="index.htm"
TITLE="sed &amp; awk"
><IMG
SRC="../gifs/txthome.gif"
ALT="sed &amp; awk"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch05_09.htm"
TITLE="5.9 Print Line Number"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 5.9 Print Line Number"
BORDER="0"></A
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
>5.7 Transform</TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="index"
HREF="index/idx_0.htm"
TITLE="Book Index"
><IMG
SRC="../gifs/index.gif"
ALT="Book Index"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
>5.9 Print Line Number</TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><IMG
SRC="../gifs/smnavbar.gif"
USEMAP="#map"
BORDER="0"
ALT="The UNIX CD Bookshelf Navigation"><MAP
NAME="map"
><AREA
SHAPE="RECT"
COORDS="0,0,73,21"
HREF="../index.htm"
ALT="The UNIX CD Bookshelf"><AREA
SHAPE="RECT"
COORDS="74,0,163,21"
HREF="../upt/index.htm"
ALT="UNIX Power Tools"><AREA
SHAPE="RECT"
COORDS="164,0,257,21"
HREF="../unixnut/index.htm"
ALT="UNIX in a Nutshell"><AREA
SHAPE="RECT"
COORDS="258,0,321,21"
HREF="../vi/index.htm"
ALT="Learning the vi Editor"><AREA
SHAPE="RECT"
COORDS="322,0,378,21"
HREF="index.htm"
ALT="sed &amp; awk"><AREA
SHAPE="RECT"
COORDS="379,0,438,21"
HREF="../ksh/index.htm"
ALT="Learning the Korn Shell"><AREA
SHAPE="RECT"
COORDS="439,0,514,21"
HREF="../lrnunix/index.htm"
ALT="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
