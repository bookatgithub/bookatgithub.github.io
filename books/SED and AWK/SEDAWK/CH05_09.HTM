<HTML
><HEAD
>
<TITLE>[Chapter 5] 5.9 Print Line Number</TITLE>
<META
NAME="DC.title"
CONTENT="sed &amp; awk"><META
NAME="DC.creator"
CONTENT="Dale Dougherty &amp; Arnold Robbins"><META
NAME="DC.publisher"
CONTENT="O'Reilly &amp; Associates, Inc."><META
NAME="DC.date"
CONTENT="1998-08-03T20:54:30Z"><META
NAME="DC.type"
CONTENT="Text.Monograph"><META
NAME="DC.format"
CONTENT="text/html"
SCHEME="MIME"><META
NAME="DC.source"
CONTENT="1-56592-225-5"
SCHEME="ISBN"><META
NAME="DC.language"
CONTENT="en-US"><META
NAME="generator"
CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINK
REV="made"
HREF="mailto:online-books@oreilly.com"
TITLE="Online Books Comments"><LINK
REL="up"
HREF="ch05_01.htm"
TITLE="5. Basic sed Commands"><LINK
REL="prev"
HREF="ch05_08.htm"
TITLE="5.8 Print"><LINK
REL="next"
HREF="ch05_10.htm"
TITLE="5.10 Next"></HEAD
><BODY
BGCOLOR="#FFFFFF"
TEXT="#000000"
><DIV
CLASS="htmlnav"
><H1
><IMG
SRC="gifs/smbanner.gif"
ALT="sed &amp; awk"
USEMAP="#srchmap"
BORDER="0"></H1
><MAP
NAME="srchmap"
><AREA
SHAPE="RECT"
COORDS="0,0,466,65"
HREF="index.htm"
ALT="sed &amp; awk"><AREA
SHAPE="RECT"
COORDS="467,0,514,18"
HREF="../search/ssrch.htm"
ALT="Search this book"></MAP
><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch05_08.htm"
TITLE="5.8 Print"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 5.8 Print"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><B
><FONT
FACE="ARIEL,HELVETICA,HELV,SANSERIF"
SIZE="-1"
>Chapter 5<BR>Basic sed Commands</FONT
></B
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch05_10.htm"
TITLE="5.10 Next"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 5.10 Next"
BORDER="0"></A
></TD
></TR
></TABLE
>&nbsp;<HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"></DIV
><DIV
CLASS="SECT1"
><H2
CLASS="sect1"
><A
CLASS="title"
NAME="SEDAWK-CH-5-SECT-9"
>5.9 Print Line Number</A
></H2
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-3778"
></A
><A
CLASS="indexterm"
NAME="AUTOID-3781"
></A
><A
CLASS="indexterm"
NAME="AUTOID-3784"
></A
><A
CLASS="indexterm"
NAME="AUTOID-3787"
></A
><A
CLASS="indexterm"
NAME="AUTOID-3790"
></A
>An equal sign (=) following an address prints the line number of the
matched line.  Unless you suppress the automatic output of lines, both
the line number and the line itself will be printed.  Its syntax is:</P
><BLOCKQUOTE
CLASS="literallayout"
><P
CLASS="literallayout"
>[<CODE
CLASS="replaceable"
><I
>line-address</I
></CODE
>]<KBD
CLASS="command"
>=</KBD
></P
></BLOCKQUOTE
><P
CLASS="para"
>This command cannot operate on a range of lines. </P
><P
CLASS="para"
>A programmer might use this to print certain lines in a source file.
For instance, the following script prints the line number followed by
the line itself for each line containing a tab followed by the string
&quot;if&quot;.  Here's the script:</P
><BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>#n print line number and line with if statement
/       if/{
=
p
}</PRE
></BLOCKQUOTE
><P
CLASS="para"
>Note that <KBD
CLASS="command"
>#n</KBD
> suppresses the default output of lines.  Now let's see
how it works on a sample program, <KBD
CLASS="command"
>random.c</KBD
>:</P
><BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>$ <CODE
CLASS="userinput"
><B
>sed -f sedscr.= random.c</B
></CODE
>
192
        if(  rand_type  ==  TYPE_0  )  {
234
        if(  rand_type  ==  TYPE_0  )  state[ -1 ] = rand_type;
236
        if(  n  &lt;  BREAK_1  )  {
252
                if(  n  &lt;  BREAK_3  )  {
274
        if(  rand_type  ==  TYPE_0  )  state[ -1 ] = rand_type;
303
        if(  rand_type  ==  TYPE_0  )  state[ -1 ] = rand_type;</PRE
></BLOCKQUOTE
><P
CLASS="para"
>The line numbers might be useful in finding problems reported by
the compiler, which typically lists the line number. </P
></DIV
><DIV
CLASS="htmlnav"
><P
></P
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch05_08.htm"
TITLE="5.8 Print"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 5.8 Print"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="book"
HREF="index.htm"
TITLE="sed &amp; awk"
><IMG
SRC="../gifs/txthome.gif"
ALT="sed &amp; awk"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch05_10.htm"
TITLE="5.10 Next"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 5.10 Next"
BORDER="0"></A
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
>5.8 Print</TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="index"
HREF="index/idx_0.htm"
TITLE="Book Index"
><IMG
SRC="../gifs/index.gif"
ALT="Book Index"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
>5.10 Next</TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><IMG
SRC="../gifs/smnavbar.gif"
USEMAP="#map"
BORDER="0"
ALT="The UNIX CD Bookshelf Navigation"><MAP
NAME="map"
><AREA
SHAPE="RECT"
COORDS="0,0,73,21"
HREF="../index.htm"
ALT="The UNIX CD Bookshelf"><AREA
SHAPE="RECT"
COORDS="74,0,163,21"
HREF="../upt/index.htm"
ALT="UNIX Power Tools"><AREA
SHAPE="RECT"
COORDS="164,0,257,21"
HREF="../unixnut/index.htm"
ALT="UNIX in a Nutshell"><AREA
SHAPE="RECT"
COORDS="258,0,321,21"
HREF="../vi/index.htm"
ALT="Learning the vi Editor"><AREA
SHAPE="RECT"
COORDS="322,0,378,21"
HREF="index.htm"
ALT="sed &amp; awk"><AREA
SHAPE="RECT"
COORDS="379,0,438,21"
HREF="../ksh/index.htm"
ALT="Learning the Korn Shell"><AREA
SHAPE="RECT"
COORDS="439,0,514,21"
HREF="../lrnunix/index.htm"
ALT="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
