<HTML
><HEAD
>
<TITLE>[Preface] Availability of sed and awk</TITLE>
<META
NAME="DC.title"
CONTENT="sed &amp; awk"><META
NAME="DC.creator"
CONTENT="Dale Dougherty &amp; Arnold Robbins"><META
NAME="DC.publisher"
CONTENT="O'Reilly &amp; Associates, Inc."><META
NAME="DC.date"
CONTENT="1998-08-03T20:48:14Z"><META
NAME="DC.type"
CONTENT="Text.Monograph"><META
NAME="DC.format"
CONTENT="text/html"
SCHEME="MIME"><META
NAME="DC.source"
CONTENT="1-56592-225-5"
SCHEME="ISBN"><META
NAME="DC.language"
CONTENT="en-US"><META
NAME="generator"
CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINK
REV="made"
HREF="mailto:online-books@oreilly.com"
TITLE="Online Books Comments"><LINK
REL="up"
HREF="prf1_01.htm"
TITLE="Preface"><LINK
REL="prev"
HREF="prf1_01.htm"
TITLE="Scope of This Handbook"><LINK
REL="next"
HREF="prf1_03.htm"
TITLE="Obtaining Example Source Code"></HEAD
><BODY
BGCOLOR="#FFFFFF"
TEXT="#000000"
><DIV
CLASS="htmlnav"
><H1
><IMG
SRC="gifs/smbanner.gif"
ALT="sed &amp; awk"
USEMAP="#srchmap"
BORDER="0"></H1
><MAP
NAME="srchmap"
><AREA
SHAPE="RECT"
COORDS="0,0,466,65"
HREF="index.htm"
ALT="sed &amp; awk"><AREA
SHAPE="RECT"
COORDS="467,0,514,18"
HREF="../search/ssrch.htm"
ALT="Search this book"></MAP
><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="prf1_01.htm"
TITLE="Scope of This Handbook"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: Scope of This Handbook"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><B
><FONT
FACE="ARIEL,HELVETICA,HELV,SANSERIF"
SIZE="-1"
>Preface</FONT
></B
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="prf1_03.htm"
TITLE="Obtaining Example Source Code"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: Obtaining Example Source Code"
BORDER="0"></A
></TD
></TR
></TABLE
>&nbsp;<HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"></DIV
><DIV
CLASS="SECT1"
><H2
CLASS="sect1"
><A
CLASS="title"
NAME="SEDAWK-CH-0-SECT-2"
>Availability of sed and awk</A
></H2
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-71"
></A
><A
CLASS="indexterm"
NAME="AUTOID-74"
></A
><A
CLASS="indexterm"
NAME="AUTOID-77"
></A
><A
CLASS="indexterm"
NAME="AUTOID-80"
></A
><A
CLASS="indexterm"
NAME="AUTOID-83"
></A
>Sed and awk were part of Version 7 UNIX (also known as &quot;V7,&quot; and
&quot;Seventh Edition&quot;) and have been part of the standard distribution
ever since.  Sed has been unchanged since it was introduced.</P
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-87"
></A
><A
CLASS="indexterm"
NAME="AUTOID-89"
></A
>The Free Software Foundation GNU project's version of sed is freely
available, although not technically in the public domain.  Source code for
GNU sed is available via anonymous FTP[1]
to the
host <A
CLASS="systemitem.ftpserver"
HREF="ftp://ftp.gnu.ai.mit.edu"
>ftp.gnu.ai.mit.edu</A
>. It is in the
file <A
CLASS="systemitem.url"
HREF="ftp://ftp.gnu.ai.mit.edu/pub/gnu/sed-2.05.tar.gz"
>/pub/gnu/sed-2.05.tar.gz</A
>.  This is a tar
file compressed with the <KBD
CLASS="command"
>gzip</KBD
> program, whose source
code is available in the same directory.  There are many sites
world-wide that &quot;mirror&quot; the files from the main GNU distribution
site; if you know of one close to you, you should get the files from
there.  Be sure to use &quot;binary&quot; or &quot;image&quot; mode to transfer the
file(s).</P
><BLOCKQUOTE
CLASS="footnote"
><P
CLASS="para"
>[1] If
you don't have Internet access and wish to get a
copy of GNU sed, contact the Free Software Foundation, Inc., 59 Temple
Place, Suite 330, Boston, MA 02111-1307 U.S.A.  The telephone
number is 1-617-542-5942, and the fax number is 1-617-542-2652.</P
></BLOCKQUOTE
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-97"
></A
><A
CLASS="indexterm"
NAME="AUTOID-100"
></A
>In 1985, the authors of awk extended the language, adding many useful
features.  Unfortunately, this new version remained inside AT&amp;T
for several years.  It became part of UNIX System V as of Release 3.1.
It can be found under the name of nawk, for new awk; the older version
still exists under its original name.  This is still the case on
System V Release 4 systems.</P
><P
CLASS="para"
>On commercial UNIX systems, such as those from Hewlett-Packard, Sun,
IBM, Digital, and others, the naming situation is more complicated.
All of these
systems have some version of both old and new awk, but what each
vendor names each program varies. Some have <KBD
CLASS="command"
>oawk</KBD
>
and <KBD
CLASS="command"
>awk</KBD
>, others have <KBD
CLASS="command"
>awk</KBD
> and
<KBD
CLASS="command"
>nawk</KBD
>.  The best advice we can give is to check your
local documentation.[2]
Throughout this book, we use the term <KBD
CLASS="command"
>awk</KBD
> to
describe POSIX awk.  Specific implementations will be referred to by
name, such as &quot;gawk,&quot; or &quot;the Bell Labs awk.&quot;</P
><BLOCKQUOTE
CLASS="footnote"
><P
CLASS="para"
>[2] Purists refer to the new awk simply
as <KBD
CLASS="command"
>awk</KBD
>; the new one
was intended to replace the original one. Alas, almost 10 years
after it was released, this still has not really happened.</P
></BLOCKQUOTE
><P
CLASS="para"
><A
CLASS="xref"
HREF="ch11_01.htm"
TITLE="A Flock of awks"
>Chapter 11</A
> discusses three freely available
awks (including where to get them), as well as several commercial ones.</P
><BLOCKQUOTE
CLASS="note"
><P
CLASS="para"
><STRONG
>NOTE:</STRONG
> Since the first edition of this book, the awk language was standardized
as part of the POSIX Command Language and Utilities Standard (P1003.2).
All modern awk implementations aim to be upwardly compatible with the
POSIX standard.</P
><P
CLASS="para"
>The standard incorporates features that originated in both new awk and gawk.
In this book, you can assume that what is true for one implementation of
POSIX awk is true for another, unless a particular version is designated.</P
></BLOCKQUOTE
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="SEDAWK-CH-0-SECT-2.1"
>DOS Versions</A
></H3
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-119"
></A
>Gawk, mawk, and GNU sed have been ported to DOS. There are files on
the main GNU distribution site with pointers to DOS versions of these
programs.  In addition, gawk has been ported to OS/2, VMS, and Atari
and Amiga microcomputers, with ports to other systems (Macintosh,
Windows) in progress. </P
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-122"
></A
><KBD
CLASS="command"
>egrep</KBD
>, sed, and awk are
available for MS-DOS-based machines as part of the MKS Toolkit
(Mortice Kern Systems, Inc., Ontario, Canada).  Their implementation
of awk supports the features of POSIX awk.</P
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-126"
></A
>The MKS Toolkit also
includes the Korn shell, which means that many shell scripts written
for the Bourne shell on UNIX systems can be run on a PC.  While most
users of the MKS Toolkit have probably already discovered these tools
in UNIX, we hope that the benefits of these programs will be obvious
to PC users who have not ventured into UNIX. </P
><P
CLASS="para"
>Thompson Automation
Software[3]
has an awk compiler for UNIX, DOS, and Microsoft Windows. This
version is interesting because it has a number of extensions to the
language, and it includes an awk debugger, written in awk!</P
><BLOCKQUOTE
CLASS="footnote"
><P
CLASS="para"
>[3] 5616 SW Jefferson, Portland, OR 97221 U.S.A.,
1-800-944-0139 within the U.S., 1-503-224-1639 elsewhere.</P
></BLOCKQUOTE
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-132"
></A
>We have used a PC on occasion because Ventura
Publisher is a terrific formatting package.  One of the reasons we
like it is that we can continue to use <KBD
CLASS="command"
>vi</KBD
> to create
and edit the text files and use sed for writing editing scripts.  We
have used sed to write conversion programs that translate
<KBD
CLASS="command"
>troff</KBD
> macros into Ventura stylesheet tags.
We have also used it to insert tags in batch mode.  This can save
having to manually tag repeated elements in a file.</P
><P
CLASS="para"
>Sed and awk are also useful for writing conversion programs that handle different file
formats.</P
></DIV
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="SEDAWK-CH-0-SECT-2.2"
>Other Sources of Information About sed and awk</A
></H3
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-140"
></A
><A
CLASS="indexterm"
NAME="AUTOID-142"
></A
><A
CLASS="indexterm"
NAME="AUTOID-144"
></A
><A
CLASS="indexterm"
NAME="AUTOID-147"
></A
>For a long time, the main source of information on these utilities was
two articles contained in Volume 2 of the <CITE
CLASS="citetitle"
>UNIX Programmer's
Guide</CITE
>.  The article <CITE
CLASS="citetitle"
>awk&nbsp;- A Pattern Scanning
and Processing Language</CITE
> (September 1, 1978) was written by
the language's three authors.  In 10 pages, it offers a brief
tutorial and discusses several design and implementation issues.  The
article <CITE
CLASS="citetitle"
>SED&nbsp;- A Non-Interactive Text Editor</CITE
>
(August 15, 1978) was written by Lee E. McMahon.  It is a reference
that gives a full description of each function and includes some
useful examples (using Coleridge's <EM
CLASS="emphasis"
>Xanadu</EM
> as
sample input).  </P
><P
CLASS="para"
>In trade books, the most significant treatment of sed and awk appears
in <CITE
CLASS="citetitle"
>The UNIX Programming Environment</CITE
> by Brian
W. Kernighan and Rob Pike (Prentice-Hall, 1984).  The chapter entitled
&quot;Filters&quot; not only explains how these programs work but shows how they
can work together to build useful applications.</P
><P
CLASS="para"
>The authors of awk collaborated on a book describing the enhanced
version: <CITE
CLASS="citetitle"
>The AWK Programming Language</CITE
>
(Addison-Wesley, 1988).  It contains many full examples and
demonstrates the broad range of areas where awk can be applied.  It
follows in the style of the <CITE
CLASS="citetitle"
>UNIX Programming
Environment</CITE
>, which at times makes it too dense for some
readers who are new users.  The source code for the example programs
in the book can be found in the directory
<A
CLASS="systemitem.url"
HREF="ftp://netlib.bell-labs.com/netlib/research/awkbookcode"
>/netlib/research/awkbookcode</A
> on <A
CLASS="systemitem.ftpserver"
HREF="ftp://netlib.bell-labs.com"
>netlib.bell-labs.com</A
>.</P
><P
CLASS="para"
>The IEEE Standard for Information and Technology Portable Operating
System Interface (POSIX) Part 2: Shell and Utilities (Standard
1003.2-1992)[4]
describes both sed and awk.[5] 
It is the &quot;official&quot; word on the features available for portable shell
programs that use sed and awk.  Since awk is a programming language in
its own right, it is also the official word on portable awk programs.</P
><BLOCKQUOTE
CLASS="footnote"
><P
CLASS="para"
>[4] Whew! Say <EM
CLASS="emphasis"
>that</EM
> three
times fast!</P
><P
CLASS="para"
>[5] The standard is not
available online. It can be ordered from the IEEE
by calling 1-800-678-IEEE(4333) in the U.S. and Canada, 1-908-981-0060 elsewhere.  Or, see 
<A
CLASS="systemitem.sitename"
HREF="http://www.ieee.org/"
>http://www.ieee.org/</A
> from a Web browser.
The cost is U.S. $228, which includes Standard
1003.2d-1994&nbsp;- Amendment 1 for Batch Environments. Members of IEEE
and/or IEEE societies receive a discount.</P
></BLOCKQUOTE
><P
CLASS="para"
>In 1996, the Free Software Foundation published <CITE
CLASS="citetitle"
>The GNU Awk
User's Guide</CITE
>, by Arnold Robbins.  This is the documentation
for gawk, written in a more tutorial style than the Aho, Kernighan, and
Weinberger book. It has two full chapters of examples, and covers
POSIX awk.  This book is also published by SSC under the title
<CITE
CLASS="citetitle"
>Effective AWK Programming</CITE
>, and the Texinfo source
for the book comes with the gawk distribution.</P
><P
CLASS="para"
>It is one of the current deficiencies of GNU sed that it has no documentation
of its own, not even a manpage.</P
><P
CLASS="para"
>Most general introductions to UNIX introduce sed and awk in a long
parade of utilities.  Of these books, Henry McGilton and Rachel
Morgan's <CITE
CLASS="citetitle"
>Introducing the UNIX System</CITE
> offers the
best treatment of basic editing skills, including use of all UNIX text
editors.</P
><P
CLASS="para"
><CITE
CLASS="citetitle"
>UNIX Text Processing</CITE
> (Hayden Books, 1987), by the
original author of this handbook and Tim O'Reilly, covers sed and awk
in full, although we did not include the new version of awk.  Readers
of that book will find some parts duplicated in this book, but in general a
different approach has been taken here.  Whereas in the textbook we
treat sed and awk separately, expecting only advanced users to
tackle awk, here we try to present both programs in relation to one
another.  They are different tools that can be used individually or
together to provide interesting opportunities for text processing.</P
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-177"
></A
>Finally, in 1995 the Usenet newsgroup 
<A
CLASS="systemitem.newsgroup"
HREF="news:comp.lang.awk"
>comp.lang.awk</A
> came into being.  If you
can't find what you need to know in one of the above books, you can
post a question in the newsgroup, with a good chance that someone will
be able to help you.</P
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-181"
></A
>The newsgroup also has a &quot;frequently asked questions&quot; (FAQ) article
that is posted regularly.  Besides answering questions about awk, the
FAQ lists many sites where you can obtain binaries of different
versions of awk for different systems. You can retrieve the FAQ via
FTP in the file called <A
CLASS="systemitem.url"
HREF="ftp://rtfm.mit.edu/pub/usenet/comp.lang.awk/faq"
>/pub/usenet/comp.lang.awk/faq</A
> from the host <A
CLASS="systemitem.ftpserver"
HREF="ftp://rtfm.mit.edu"
>rtfm.mit.edu</A
>.</P
></DIV
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="SEDAWK-CH-0-SECT-2.3"
>Sample Programs</A
></H3
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-188"
></A
><A
CLASS="indexterm"
NAME="AUTOID-190"
></A
><A
CLASS="indexterm"
NAME="AUTOID-192"
></A
>The sample programs in this book were originally written and tested on
a Mac IIci running A/UX 2.0 (UNIX System V Release 2) and a
SparcStation 1 running SunOS 4.0.  Programs requiring POSIX awk were
re-tested using gawk 3.0.0 as well as the August 1994 version of the
Bell Labs awk from the Bell Labs FTP site (see
<A
CLASS="xref"
HREF="ch11_01.htm"
TITLE="A Flock of awks"
>Chapter 11</A
> for the FTP
details).  Sed programs were retested with the SunOS 4.1.3 sed and GNU
sed 2.05.</P
></DIV
></DIV
><DIV
CLASS="htmlnav"
><P
></P
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="prf1_01.htm"
TITLE="Scope of This Handbook"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: Scope of This Handbook"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="book"
HREF="index.htm"
TITLE="sed &amp; awk"
><IMG
SRC="../gifs/txthome.gif"
ALT="sed &amp; awk"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="prf1_03.htm"
TITLE="Obtaining Example Source Code"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: Obtaining Example Source Code"
BORDER="0"></A
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
>Scope of This Handbook</TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="index"
HREF="index/idx_0.htm"
TITLE="Book Index"
><IMG
SRC="../gifs/index.gif"
ALT="Book Index"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
>Obtaining Example Source Code</TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><IMG
SRC="../gifs/smnavbar.gif"
USEMAP="#map"
BORDER="0"
ALT="The UNIX CD Bookshelf Navigation"><MAP
NAME="map"
><AREA
SHAPE="RECT"
COORDS="0,0,73,21"
HREF="../index.htm"
ALT="The UNIX CD Bookshelf"><AREA
SHAPE="RECT"
COORDS="74,0,163,21"
HREF="../upt/index.htm"
ALT="UNIX Power Tools"><AREA
SHAPE="RECT"
COORDS="164,0,257,21"
HREF="../unixnut/index.htm"
ALT="UNIX in a Nutshell"><AREA
SHAPE="RECT"
COORDS="258,0,321,21"
HREF="../vi/index.htm"
ALT="Learning the vi Editor"><AREA
SHAPE="RECT"
COORDS="322,0,378,21"
HREF="index.htm"
ALT="sed &amp; awk"><AREA
SHAPE="RECT"
COORDS="379,0,438,21"
HREF="../ksh/index.htm"
ALT="Learning the Korn Shell"><AREA
SHAPE="RECT"
COORDS="439,0,514,21"
HREF="../lrnunix/index.htm"
ALT="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
