<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>hierarchy_stoplist</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body >
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="appa-77440.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="appa-77442.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="appa-77441"></A><A NAME=""></A><table width="515" border="0" cellpadding="5"><tr><td align="left"><b><i>hierarchy_stoplist</i></b></td><td align="right"></td></tr></table><hr width="515" size="3" noshade="true" align="left" color="black"><table width="515" border="0" cellpadding="5"><tr><td align="left"></td><td align="right"></td></tr></table><P class="docText">Every HTTP request that Squid receives is marked as either
hierarchical or nonhierarchical. This terminology is somewhat
confusing. A request is hierarchical when there is a possibility it
could be a cache hit in one of the neighbors. In other words, if the
information in the request indicates that the response may be
cachable, the request is hierarchical. A request is marked
nonhierarchical when Squid thinks there is no chance of getting a hit
from a neighbor.</P><P class="docText">Squid uses the hierarchical flag to decide whether or not it should
query neighbors for the request. If the request is hierarchical,
Squid may perform ICP/HTCP queries, or use Cache Digests, to locate
cache hits in neighbors. Otherwise, Squid may forward the request
directly to the origin server or select a parent based on some other
technique.</P><P class="docText">Squid has a few hardcoded rules that determine if a request is
hierarchical. For example, only <I>GET</I> requests are
hierarchical. Squid never expects cache hits on
non-<I>GET</I> requests. Another rule is that requests
including authentication information are nonhierarchical. The
<span class="docEmphasis">hierarchy_stoplist</span> directive allows you to
customize the algorithm further. The stoplist is simply a list of
strings. Squid searches the requested URL for these strings. The
string comparison is case-sensitive. In the case of a match, the
request becomes nonhierarchical. The default configuration is to
search for <TT>cgi-bin</TT> and <TT>?</TT> so
that queries and other CGI responses aren't
hierarchical.</P><P class="docText">Note that the hierarchical flag determines only whether or not Squid
queries its neighbor caches. It doesn't determine
which requests must, or must not, be sent to parent caches. The
<span class="docEmphasis">always_direct</span> and
<span class="docEmphasis">never_direct</span> access lists have that
responsibility.</P><A NAME="appa-21-fm2xml"></A><P><TABLE CELLSPACING="0" BORDER="1" RULES="all" CELLPADDING="4" WIDTH="100%"><COLGROUP span="2"><THEAD></THEAD><TR><TD class="docTableCell">
<P class="docText">Syntax</P>
</TD><TD class="docTableCell">
<PRE>hierarchy_stoplist <TT><I>string</I></TT> ...</PRE>
</TD></TR><TR><TD class="docTableCell">
<P class="docText">Default</P>
</TD><TD class="docTableCell">
<PRE>hierarchy_stoplist cgi-bin ?</PRE>
</TD></TR><TR><TD class="docTableCell">
<P class="docText">Example</P>
</TD><TD class="docTableCell">
<PRE>hierarchy_stoplist .cgi
hierarchy_stoplist http://www.mysite.org</PRE>
</TD></TR><TR><TD class="docTableCell">
<P class="docText">Related</P>
</TD><TD class="docTableCell">
<P class="docText"><span class="docEmphasis">always_direct</span>, <span class="docEmphasis">never_direct</span></P>
</TD></TR></COLGROUP></TABLE></P>
<ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="appa-77440.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="appa-77442.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
</body>
</html>
