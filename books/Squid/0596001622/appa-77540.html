<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>reply_body_max_size</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body >
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="appa-77539.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="appa-77541.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="appa-77540"></A><A NAME="squid-APP-A-ITERM-2279"></A><table width="515" border="0" cellpadding="5"><tr><td align="left"><b><i>reply_body_max_size</i></b></td><td align="right"></td></tr></table><hr width="515" size="3" noshade="true" align="left" color="black"><table width="515" border="0" cellpadding="5"><tr><td align="left"></td><td align="right"></td></tr></table><P class="docText">This directive allows you to <A NAME="squid-APP-A-ITERM-2279"></A>limit the size of HTTP reply bodies
based on ACL elements. When a request matches one of the
<span class="docEmphasis">reply_body_max_size</span> rules, Squid places a limit
on the size of the HTTP response. A value of 0 indicates no limit.
Squid checks the reply size first when all HTTP headers have been
received. If the headers contain a <TT>Content-Length</TT>
value that exceeds the specified limit, the user receives a message
that states "the request or reply is too
large." If the content length is unavailable, Squid
continues checking the limit as data comes in from the server. If the
reply size exceeds the limit, Squid closes the
client's connection, which causes the client to
receive a partial reply.</P><P class="docText">Downstream caches often can't detect partial
replies. Because the headers lack a content length value, the
downstream cache (or user-agent) doesn't know that
additional data is missing. Thus, you shouldn't use
<span class="docEmphasis">reply_body_max_size</span> if you have child or sibling
caches.</P><P class="docText">The code that checks the <span class="docEmphasis">reply_body_max_size</span>
list ignores <TT>deny</TT> rules. In other words, it is
pointless to include <TT>deny</TT> rules in this list.</P><P class="docText">Make sure that the maximum reply size is large enough for a Squid
error message (typically 1K-2K bytes). An error message that is
larger than the maximum reply body size causes Squid to crash.</P><A NAME="appa-124-fm2xml"></A><P><TABLE CELLSPACING="0" BORDER="1" RULES="all" CELLPADDING="4" WIDTH="100%"><COLGROUP span="2"><THEAD></THEAD><TR><TD class="docTableCell">
<P class="docText">Syntax</P>
</TD><TD class="docTableCell">
<PRE>reply_body_max_size <TT><I>bytes</I></TT> allow [!]<TT><I>ACLname</I></TT> ...</PRE>
</TD></TR><TR><TD class="docTableCell">
<P class="docText">Default</P>
</TD><TD class="docTableCell">
<PRE>reply_body_max_size 0 allow all</PRE>
</TD></TR><TR><TD class="docTableCell">
<P class="docText">Example</P>
</TD><TD class="docTableCell">
<PRE>acl WorkingHours time 08:00-17:00
reply_body_max_size 10485760 allow WorkingHours</PRE>
</TD></TR><TR><TD class="docTableCell">
<P class="docText">Related</P>
</TD><TD class="docTableCell">
<P class="docText"><span class="docEmphasis">maximum_object_size</span>,
<span class="docEmphasis">request_body_max_size</span>,
<span class="docEmphasis">request_header_max_size</span></P>
</TD></TR></COLGROUP></TABLE></P>
<ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="appa-77539.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="appa-77541.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
</body>
</html>
