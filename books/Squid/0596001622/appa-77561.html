<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>deny_info</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body >
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="appa-77560.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="appa-77562.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="appa-77561"></A><A NAME="squid-APP-A-ITERM-2300"></A><table width="515" border="0" cellpadding="5"><tr><td align="left"><b><i>deny_info</i></b></td><td align="right"></td></tr></table><hr width="515" size="3" noshade="true" align="left" color="black"><table width="515" border="0" cellpadding="5"><tr><td align="left"></td><td align="right"></td></tr></table><P class="docText">This directive allows you to <A NAME="squid-APP-A-ITERM-2300"></A>show specific error messages to users
when a request matches certain ACL elements. This is more informative
than sending a generic "access
denied" error message, as happens by default.</P><P class="docText">When Squid checks its access control rules to see whether or not a
particular request is allowed or denied, it remembers the ACL element
that causes the search to terminate. You can use these ACL element
names in a <span class="docEmphasis">deny_info</span> line to correlate error
messages with a specific request characteristic. Consider, for
example, this configuration:</P><PRE>acl Unsafe_Ports 7 9 19 22 23 25 53 109 110 119
...
http_access deny Unsafe_Ports
...
deny_info ERR_PORT_IS_UNSAFE Unsafe_Ports</PRE><P class="docText">When a user makes a request to an origin server on one of the ports
listed in the <span class="docEmphasis">Unsafe_Ports</span> ACL, Squid denies the
request. Furthermore, Squid generates an error message from the
<I>ERR_PORT_IS_UNSAFE</I> file, found in the
<span class="docEmphasis">error_directory</span> directory.</P><P class="docText">Alternatively, you can specify a URI instead of an error message
template. In this case, Squid sends an HTTP 302 (Moved Temporarily)
redirect to the given URI.</P><P class="docText">Finally, if you specify <TT>TCP_RESET</TT> as the error
message template, Squid closes the client's
connection in a way that generates a TCP reset.</P><A NAME="appa-146-fm2xml"></A><P><TABLE CELLSPACING="0" BORDER="1" RULES="all" CELLPADDING="4" WIDTH="100%"><COLGROUP span="2"><THEAD></THEAD><TR><TD class="docTableCell">
<P class="docText">Syntax</P>
</TD><TD class="docTableCell">
<PRE>deny_info <TT><I>error-page-name</I></TT>|<TT><I>URI</I></TT> <TT><I>acl-name</I></TT></PRE>
</TD></TR><TR><TD class="docTableCell">
<P class="docText">Default</P>
</TD><TD class="docTableCell">
<P class="docText">No default</P>
</TD></TR><TR><TD class="docTableCell">
<P class="docText">Example</P>
</TD><TD class="docTableCell">
<PRE>deny_info ERR_PORT_IS_UNSAFE Unsafe_Ports</PRE>
</TD></TR><TR><TD class="docTableCell">
<P class="docText">Related</P>
</TD><TD class="docTableCell">
<P class="docText"><span class="docEmphasis">error_directory</span>, <span class="docEmphasis">acl</span></P>
</TD></TR></COLGROUP></TABLE></P>
<ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="appa-77560.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="appa-77562.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
</body>
</html>
