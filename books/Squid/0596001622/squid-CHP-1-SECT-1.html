<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>1.1 Web Caching</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body >
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="squid-CHP-1.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="squid-CHP-1-SECT-2.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="squid-CHP-1-SECT-1"></A>
<H3 class="docSection1Title">1.1 Web Caching</H3>

<P class="docText"><I>Web caching</I> refers to the act of
<A NAME="squid-CHP-1-ITERM-1087"></A><A NAME="squid-CHP-1-ITERM-1088"></A>storing certain web resources (i.e.,
pages and other data files) for possible future reuse. For example,
Matilda is the first person in the office each morning, and she likes
to read the local newspaper online with her wake-up coffee. As she
visits the various sections, the Squid cache on their office network
stores the HTML pages and JPEG images. Harry comes in a short while
later and also reads the newspaper online. For him, the site loads
much faster because much of the content is served from Squid.
Additionally, Harry's browsing
doesn't waste the bandwidth of the
company's DSL line by transferring the exact same
data as when Matilda viewed the site.</P>

<P class="docText">A <I>cache hit</I> occurs each
<A NAME="squid-CHP-1-ITERM-1089"></A>time Squid
satisfies an HTTP request from its cache. The <I>cache hit
ratio</I>, or <I>cache hit rate</I>, is the
<A NAME="squid-CHP-1-ITERM-1090"></A><A NAME="squid-CHP-1-ITERM-1091"></A>percentage of all requests satisfied as
hits. Web caches typically achieve hit ratios between 30% and 60%. A
similar metric, the <I>byte hit ratio</I>, represents
the volume of data (i.e., number of bytes) served from the cache.</P>

<P class="docText"><I>A cache miss</I> occurs when
<A NAME="squid-CHP-1-ITERM-1092"></A>Squid
can't satisfy a request from the cache. A miss can
happen for any number of reasons. Obviously, the first time Squid
receives a request for a particular resource, it is a cache miss.
Similarly, Squid may have purged the cached copy to make room for new
objects.</P>

<P class="docText">Another possibility is that the resource is uncachable. Origin
servers can instruct caches on how to treat the response. For
example, they can say that the data must never be cached, can be
reused only within a certain amount of time, and so on. Squid also
uses a few internal heuristics to determine what should, or should
not, be saved for future use.</P>

<P class="docText"><span class="docEmphasis">Cache</span> <I>validation</I> is a
process <A NAME="squid-CHP-1-ITERM-1093"></A>that ensures Squid
doesn't serve stale data to the user. Before reusing
a cached response, Squid often validates it with the origin server.
If the server indicates that Squid's copy is still
valid, the data is sent from Squid. Otherwise, Squid updates its
cached copy as it relays the response to the client. Squid generally
performs validation using
<A NAME="squid-CHP-1-ITERM-1094"></A><A NAME="squid-CHP-1-ITERM-1095"></A>timestamps. The origin
server's response usually contains a
<I>last-modified</I> timestamp. Squid sends the
timestamp back to the origin server to find if the original resource
has changed.</P>

<P class="docText">For a detailed treatment of web caching, have a look at my book
<span class="docEmphasis">Web Caching</span>, also by
O'Reilly.</P>


<ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="squid-CHP-1.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="squid-CHP-1-SECT-2.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
</body>
</html>
