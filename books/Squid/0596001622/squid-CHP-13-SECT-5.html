<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>13.5 useragent.log</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body >
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="squid-CHP-13-SECT-4.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="squid-CHP-13-SECT-6.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="squid-CHP-13-SECT-5"></A>
<H3 class="docSection1Title">13.5 useragent.log</H3>

<P class="docText">The optional <I>useragent.log</I> contains
<TT>User-Agent</TT> header <A NAME="squid-CHP-13-ITERM-1914"></A><A NAME="squid-CHP-13-ITERM-1915"></A>values
from client requests. To use this feature, you must supply the
<I>—enable-useragent-log</I> option when running
<I>./configure</I>. You also must enter a pathname for
the <span class="docEmphasis">useragent_log</span> directive. For example:</P>

<PRE>useragent_log /usr/local/squid/var/logs/useragent.log</PRE>

<P class="docText">The <TT>User-Agent</TT> header normally contains a
description of the agent that made the request. In most cases, the
description is simply a list of product names with optional version
information. You should be aware that applications can easily provide
false user-agent information. Modern user-agents provide a way to
customize the description. Even Squid can alter the
<TT>User-Agent</TT> header in forwarded requests.</P>

<P class="docText">The <I>useragent.log</I> format is relatively simple.
It looks like this:</P>

<PRE>3.0.168.206 [05/Nov/2003:08:51:43 -0700]
    "Mozilla/5.0 (compatible; Konqueror/3; FreeBSD)"
3.0.168.207 [05/Nov/2003:08:52:18 -0700]
    "Opera/7.21 (X11; FreeBSD i386; U)  [en]"
4.241.144.204 [05/Nov/2003:08:55:11 -0700]
    "Mozilla/5.0 (Macintosh; U; PPC Mac OS X; en-us) AppleWebKit/103u (KHTM..."
3.0.168.206 [05/Nov/2003:08:51:43 -0700]
    "Java1.3.1_01"
64.68.82.28 [05/Nov/2003:08:52:50 -0700]
    "Googlebot/2.1 (http://www.googlebot.com/bot.html)"
3.0.168.205 [05/Nov/2003:08:52:50 -0700]
    "WebZIP/4.1 (http://www.spidersoft.com)"
4.241.144.201 [05/Nov/2003:08:52:50 -0700]
    "Mozilla/4.0 (compatible; MSIE 5.0; Windows 98; DigExt; Hotbar 3.0)"
3.0.168.206 [05/Nov/2003:08:54:40 -0700]
    "Bookmark Renewal Check Agent [http://www.bookmark.ne.jp/] (Version 2.0..."</PRE>

<P class="docText">Unlike the other log files, it has just three fields:</P>

<A NAME="squid-CHP-13-ITERM-1916"></A><A NAME="squid-CHP-13-ITERM-1917"></A><A NAME="squid-CHP-13-ITERM-1918"></A><DL class="docList"><br><p><DT><I><span class="docPubcolor">1: client address</span></I></DT></p>
<DD>
<P class="docList">The same as the client <A NAME="squid-CHP-13-ITERM-1916"></A>address
in <I>access.log</I>. The <span class="docEmphasis">log_fqdn</span>
and <span class="docEmphasis">client_netmask</span> directives affect this log
file as well.</P>
</DD>
<br><p><DT><I><span class="docPubcolor">2: timestamp</span></I></DT></p>
<DD>
<P class="docList">Unlike the other log files, which <A NAME="squid-CHP-13-ITERM-1917"></A>represent
the time as seconds since the Unix epoch, this one uses a
human-readable format. It is the HTTP common log-file format
timestamp, which looks like this:</P>

<PRE>[10/Jun/2003:22:38:36 -0600]</PRE>

<P class="docList">Note that the square brackets delimit the timestamp, which includes a
space character. Also note that, like
<I>referer.log</I>, these entries are created as soon
as Squid receives the complete request.</P>
</DD>
<br><p><DT><I><span class="docPubcolor">3: user-agent</span></I></DT></p>
<DD>
<P class="docList">The value of <A NAME="squid-CHP-13-ITERM-1918"></A>the <TT>User-Agent</TT>
header. These strings almost always contain whitespace. Squid
doesn't encode <TT>User-Agent</TT> values
before writing them in this log file.</P>
</DD>
</DL>


<ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="squid-CHP-13-SECT-4.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="squid-CHP-13-SECT-6.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
</body>
</html>
