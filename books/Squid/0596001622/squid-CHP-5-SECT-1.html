<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>5.1 Squid Command-Line Options</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body >
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="squid-CHP-5.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="squid-CHP-5-SECT-2.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="squid-CHP-5-SECT-1"></A>
<H3 class="docSection1Title">5.1 Squid Command-Line Options</H3>

<P class="docText">Before getting too far into other <A NAME="squid-CHP-5-ITERM-1210"></A>things, let's look at
Squid's command-line options. Many of these you will
never use and some are useful only when debugging problems:</P>

<A NAME="squid-CHP-5-ITERM-1211"></A><A NAME="squid-CHP-5-ITERM-1212"></A><A NAME="squid-CHP-5-ITERM-1213"></A><A NAME="squid-CHP-5-ITERM-1214"></A><A NAME="squid-CHP-5-ITERM-1215"></A><A NAME="squid-CHP-5-ITERM-1216"></A><A NAME="squid-CHP-5-ITERM-1217"></A><A NAME="squid-CHP-5-ITERM-1218"></A><A NAME="squid-CHP-5-ITERM-1219"></A><A NAME="squid-CHP-5-ITERM-1220"></A><A NAME="squid-CHP-5-ITERM-1221"></A><A NAME="squid-CHP-5-ITERM-1222"></A><A NAME="squid-CHP-5-ITERM-1223"></A><A NAME="squid-CHP-5-ITERM-1224"></A><A NAME="squid-CHP-5-ITERM-1225"></A><A NAME="squid-CHP-5-ITERM-1226"></A><A NAME="squid-CHP-5-ITERM-1227"></A><A NAME="squid-CHP-5-ITERM-1228"></A><A NAME="squid-CHP-5-ITERM-1229"></A><A NAME="squid-CHP-5-ITERM-1230"></A><A NAME="squid-CHP-5-ITERM-1231"></A><A NAME="squid-CHP-5-ITERM-1232"></A><A NAME="squid-CHP-5-ITERM-1233"></A><A NAME="squid-CHP-5-ITERM-1234"></A><A NAME="squid-CHP-5-ITERM-1235"></A><A NAME="squid-CHP-5-ITERM-1236"></A><A NAME="squid-CHP-5-ITERM-1237"></A><A NAME="squid-CHP-5-ITERM-1238"></A><A NAME="squid-CHP-5-ITERM-1239"></A><A NAME="squid-CHP-5-ITERM-1240"></A><A NAME="squid-CHP-5-ITERM-1241"></A><A NAME="squid-CHP-5-ITERM-1242"></A><A NAME="squid-CHP-5-ITERM-1243"></A><A NAME="squid-CHP-5-ITERM-1244"></A><DL class="docList"><br><p><DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">-a</span></span>  <TT><I>port</I></TT></span></DT></p>
<DD>
<P class="docList">Specifies a new <span class="docEmphasis">http_port</span> value. This
<A NAME="squid-CHP-5-ITERM-1211"></A><A NAME="squid-CHP-5-ITERM-1212"></A>option always overrides the
value from <I>squid.conf</I>. Note, however, that you
can specify multiple values in <I>squid.conf</I>. The
<I>-a</I> option overrides only the first value from the
config file. (This option uses the letter
"a" because in the Harvest cache,
the HTTP port was called the ASCII port.)</P>
</DD>
<br><p><DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">-d</span></span>  <TT><I>level</I></TT></span></DT></p>
<DD>
<P class="docList">Makes Squid write its <A NAME="squid-CHP-5-ITERM-1213"></A><A NAME="squid-CHP-5-ITERM-1214"></A>debugging messages to
<span class="docEmphasis">stderr</span> (as well as
<I>cache.log</I> and syslog, if configured). The
<TT><I>level</I></TT> argument specifies the maximum level
for messages that should be shown on <span class="docEmphasis">stderr</span>. In
most cases <I>-d1</I> works well. See <A class="docLink" HREF="squid-CHP-16-SECT-2.html#squid-CHP-16-SECT-2">Section 16.2</A> for a description of debugging levels.</P>
</DD>
<br><p><DT><span class="docPubcolor"><span class="docPubcolor"><span class="docMonofont">-f</span></span>  <TT><I>file</I></TT></span></DT></p>
<DD>
<P class="docList">Specifies an alternate <A NAME="squid-CHP-5-ITERM-1215"></A><A NAME="squid-CHP-5-ITERM-1216"></A>configuration
file.</P>
</DD>
<br><p><DT><span class="docPubcolor"><I>-h</I></span></DT></p>
<DD>
<P class="docList">Displays the usage<A NAME="squid-CHP-5-ITERM-1217"></A><A NAME="squid-CHP-5-ITERM-1218"></A> information.</P>
</DD>
<br><p><DT><span class="docPubcolor"><I>-k</I> <TT><I>function</I></TT></span></DT></p>
<DD>
<P class="docList">Signals Squid to perform <A NAME="squid-CHP-5-ITERM-1219"></A><A NAME="squid-CHP-5-ITERM-1220"></A>various
administrative functions. The <TT><I>function</I></TT>
argument may be one of the following: <TT>reconfigure</TT>,
<TT>rotate</TT>, <TT>shutdown</TT>,
<TT>interrupt</TT>, <TT>kill</TT>,
<TT>debug</TT>, <TT>check</TT>, or
<TT>parse</TT>. <TT>reconfigure</TT> causes the
running Squid process to reread its configuration file.
<TT>rotate</TT> causes Squid to rotate its log files, which
involves closing them, possibly renaming them, and opening them
again. <TT>shutdown</TT> sends the signal to shut down the
Squid process. <TT>interrupt</TT> also shuts down Squid but
does so immediately, without waiting for active transactions to
finish. <TT>kill</TT> sends the unstoppable KILL signal to
Squid, which should only be used as a last resort.
<TT>debug</TT> puts Squid into full debugging mode. It can
quickly fill up your disk space if your cache is busy.
<TT>check</TT> simply checks for a running Squid process.
The process return value indicates whether Squid is running or not.
Finally, <TT>parse</TT> simply parses the
<I>squid.conf</I> file. The process return value is
non-zero if the configuration file contains errors.</P>
</DD>
<br><p><DT><span class="docPubcolor"><I>-s</I></span></DT></p>
<DD>
<P class="docList">Enables logging to the syslog <A NAME="squid-CHP-5-ITERM-1221"></A><A NAME="squid-CHP-5-ITERM-1222"></A>daemon. Squid
uses the <TT>LOCAL4</TT> syslog facility. Level 0 debug
messages are logged with priority <TT>LOG_WARNING</TT>, and
level 1 messages are logged with <TT>LOG_NOTICE</TT>.
Higher level debugging messages aren't sent to
<I>syslogd</I>. You might use an entry like this in
<I>/etc/syslogd.conf</I>:</P>

<PRE>local4.warning                /var/log/squid.log</PRE>

</DD>
<br><p><DT><span class="docPubcolor"><I>-u</I> <TT><I>port</I></TT></span></DT></p>
<DD>
<P class="docList">Specifies an alternate ICP port <A NAME="squid-CHP-5-ITERM-1223"></A><A NAME="squid-CHP-5-ITERM-1224"></A>number, overriding
<span class="docEmphasis">icp_port</span> in <I>squid.conf</I>.</P>
</DD>
<br><p><DT><span class="docPubcolor"><I>-v</I></span></DT></p>
<DD>
<P class="docList">Prints the version <A NAME="squid-CHP-5-ITERM-1225"></A><A NAME="squid-CHP-5-ITERM-1226"></A>string.</P>
</DD>
<br><p><DT><span class="docPubcolor"><I>-z</I></span></DT></p>
<DD>
<P class="docList">Initializes cache, or swap, <A NAME="squid-CHP-5-ITERM-1227"></A><A NAME="squid-CHP-5-ITERM-1228"></A>directories.
You must use this option when running Squid for the first time or
whenever you add a new cache directory.</P>
</DD>
<br><p><DT><span class="docPubcolor"><I>-C</I></span></DT></p>
<DD>
<P class="docList">Prevents the installation of signal <A NAME="squid-CHP-5-ITERM-1229"></A><A NAME="squid-CHP-5-ITERM-1230"></A>handlers that trap certain
fatal signals such as SIGBUS and SIGSEGV. Normally, the signals are
trapped by Squid so that it can attempt a clean shutdown. However,
trapping the signal may make it harder to debug the problem
afterwards. With this option, the fatal signals cause their default
actions, which is usually to dump core.</P>
</DD>
<br><p><DT><span class="docPubcolor"><I>-D</I></span></DT></p>
<DD>
<P class="docList">Disables initial DNS tests. Normally, <A NAME="squid-CHP-5-ITERM-1231"></A><A NAME="squid-CHP-5-ITERM-1232"></A>Squid
won't start until it verifies that its DNS server is
working. This option prevents that check. You can also alter or
remove the <span class="docEmphasis">dns_testnames</span> option in
<I>squid.conf</I>.</P>
</DD>
<br><p><DT><span class="docPubcolor"><I>-F</I></span></DT></p>
<DD>
<P class="docList">Makes Squid refuse all requests <A NAME="squid-CHP-5-ITERM-1233"></A><A NAME="squid-CHP-5-ITERM-1234"></A>until it
rebuilds the storage metadata. If your cache is busy, this option may
shorten the time required to rebuild the metadata. If your cache is
large, however, the rebuild procedure may take a long time anyway.</P>
</DD>
<br><p><DT><span class="docPubcolor"><I>-N</I></span></DT></p>
<DD>
<P class="docList">Prevents Squid from becoming a <A NAME="squid-CHP-5-ITERM-1235"></A><A NAME="squid-CHP-5-ITERM-1236"></A>background
daemon process.</P>
</DD>
<br><p><DT><span class="docPubcolor"><I>-R</I></span></DT></p>
<DD>
<P class="docList">Prevents Squid from using <A NAME="squid-CHP-5-ITERM-1237"></A><A NAME="squid-CHP-5-ITERM-1238"></A>the
<TT>SO_REUSEADDR</TT> option before binding to the HTTP
port.</P>
</DD>
<br><p><DT><span class="docPubcolor"><I>-V</I></span></DT></p>
<DD>
<P class="docList">Enables virtual host surrogate <A NAME="squid-CHP-5-ITERM-1239"></A><A NAME="squid-CHP-5-ITERM-1240"></A>mode. Similar
to entering <span class="docEmphasis">httpd_accel_host virtual</span> in
<I>squid.conf</I>.</P>
</DD>
<br><p><DT><span class="docPubcolor"><I>-X</I></span></DT></p>
<DD>
<P class="docList">Forces full debugging, as though <A NAME="squid-CHP-5-ITERM-1241"></A><A NAME="squid-CHP-5-ITERM-1242"></A>you had
specified <span class="docEmphasis">debug_options ALL,9</span> in
<I>squid.conf</I>.</P>
</DD>
<br><p><DT><span class="docPubcolor"><I>-Y</I></span></DT></p>
<DD>
<P class="docList">Returns <TT>ICP_MISS_NOFETCH</TT> instead
<A NAME="squid-CHP-5-ITERM-1243"></A><A NAME="squid-CHP-5-ITERM-1244"></A>of
<TT>ICP_MISS</TT> when rebuilding store metadata. For busy
parent caches, this option may result in less load while the cache is
rebuilding. See <A class="docLink" HREF="squid-CHP-10-SECT-6.html#squid-CHP-10-SECT-6.1.2">Section 10.6.1.2</A>.</P>
</DD>
</DL>


<ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="squid-CHP-5.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="squid-CHP-5-SECT-2.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
</body>
</html>
