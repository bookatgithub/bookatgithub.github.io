<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Chapter 9. Interception Caching</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body >
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="squid-CHP-8-SECT-9.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="squid-CHP-9-SECT-1.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="squid-CHP-9"></A>

<H2 class="docChapterTitle">Chapter 9. Interception Caching</H2>


<P class="docText">Interception caching is a popular <A NAME="squid-CHP-9-ITERM-1528"></A>technique for getting traffic to Squid
without configuring any clients. Instead, you configure a router or
switch to divert HTTP connections to the machine on which Squid is
running. Squid's operating system is configured to
accept the foreign packets and deliver them to the Squid process. To
make HTTP interception work, you need to configure three separate
components: a network device, Squid's operating
system, and Squid itself.</P>

<P class="docText">This chapter begins with an <A NAME="squid-CHP-9-ITERM-1529"></A><A NAME="squid-CHP-9-ITERM-1530"></A>overview of
HTTP interception. I'll explain how it all works and
define some terms so that the remaining sections make sense. I also
explain the tradeoffs involved with HTTP interception.</P>

<P class="docText">Following that, I'll discuss your options for
devices and configurations that can intercept client traffic. In
particular, I cover Cisco policy routing, Cisco's
WCCP, layer four switches, and running Squid on a host that also
functions as a router or bridge.</P>

<P class="docText">Next, I'll show how to configure the
<A NAME="squid-CHP-9-ITERM-1531"></A><A NAME="squid-CHP-9-ITERM-1532"></A><A NAME="squid-CHP-9-ITERM-1533"></A><A NAME="squid-CHP-9-ITERM-1534"></A><A NAME="squid-CHP-9-ITERM-1535"></A>operating
system to handle the intercepted connections. This functionality is a
feature of the IP packet filtering software, which varies from system
to system. It is called <span class="docEmphasis">iptables</span> (Netfilter) on
Linux; <span class="docEmphasis">ipfw</span> on FreeBSD; <span class="docEmphasis">pf</span>
on OpenBSD; and <span class="docEmphasis">IPFilter</span> on NetBSD, Solaris, and
other BSD variants.</P>

<P class="docText">Squid is the final component you need to configure. Fortunately, this
is relatively straightforward because it doesn't
depend on your operating system or network device.</P>

<P class="docText">I finish the chapter with a little checklist that may help you debug
HTTP interception problems.</P>



<ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="squid-CHP-8-SECT-9.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="squid-CHP-9-SECT-1.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
</body>
</html>
