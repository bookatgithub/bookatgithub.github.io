<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title> Using Character Set Ranges</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body >
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="ch03lev1sec1.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="ch03lev1sec3.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="ch03lev1sec2"></A><H3 class="docSection1Title"> Using Character Set Ranges</H3>
<P class="docText">Let's take a look at the file list example again. The last used pattern, <TT>[ns]a.\.xls</TT>, has another problem. What if a file was named <TT>sam.xls</TT>? It, too, would be matched because the <TT>.</TT> matches all characters, not just digits.<A NAME="idd1e2939"></A><A NAME="idd1e2946"></A><A NAME="idd1e2951"></A><A NAME="idd1e2958"></A><A NAME="idd1e2963"></A><A NAME="idd1e2968"></A><A NAME="idd1e2973"></A></P>
<P class="docText">Character sets can solve this problem as follows:</P>
<pre><IMG BORDER="0" WIDTH="70" HEIGHT="22" SRC="images/0672325667/graphics/text_icon.gif" ALT="graphics/text_icon.gif"></pre><pre>
sales1.xls
orders3.xls
sales2.xls
sales3.xls
apac1.xls
europe2.xls
sam.xls
na1.xls
na2.xls
sa1.xls
ca1.xls
</pre><pre><IMG BORDER="0" WIDTH="70" HEIGHT="22" SRC="images/0672325667/graphics/regex_icon.gif" ALT="graphics/regex_icon.gif"></pre><pre>
[ns]a[0123456789]\.xls
</pre><pre><IMG BORDER="0" WIDTH="70" HEIGHT="22" SRC="images/0672325667/graphics/result_icon.gif" ALT="graphics/result_icon.gif"></pre><pre>
sales1.xls
orders3.xls
sales2.xls
sales3.xls
apac1.xls
europe2.xls
sam.xls
<span class="docEmphMark">na1.xls</span>
<span class="docEmphMark">na2.xls</span>
<span class="docEmphMark">sa1.xls</span>
ca1.xls
</pre>
<IMG BORDER="0" WIDTH="70" HEIGHT="22" SRC="images/0672325667/graphics/analysis_icon.gif" ALT="graphics/analysis_icon.gif">
<P class="docText">In this example, the pattern has been modified so that the first character would have to be either <TT>n</TT> or <TT>s</TT>, the second character would have to be <TT>a</TT>, and the third could be any digit (specified as <TT>[0123456789]</TT>). Notice that file <TT>sam.xls</TT> was not matched, because <TT>m</TT> did not match the list of allowed characters (the 10 digits).<A NAME="idd1e3040"></A><A NAME="idd1e3045"></A><A NAME="idd1e3050"></A></P>
<P class="docText">When working with regular expressions, you will find that you frequently specify ranges of characters (<TT>0</TT> through <TT>9</TT>, <TT>A</TT> through <TT>Z</TT>, and so on). To simplify working with character ranges, regex provides a special metacharacter: <TT>-</TT> (hyphen) is used to specify a range.<A NAME="idd1e3075"></A><A NAME="idd1e3080"></A><A NAME="idd1e3085"></A></P>
<P class="docText">Following is the same example, this time using a range:</P>
<pre><IMG BORDER="0" WIDTH="70" HEIGHT="22" SRC="images/0672325667/graphics/text_icon.gif" ALT="graphics/text_icon.gif"></pre><pre>
sales1.xls
orders3.xls
sales2.xls
sales3.xls
apac1.xls
europe2.xls
sam.xls
na1.xls
na2.xls
sa1.xls
ca1.xls
</pre><pre><IMG BORDER="0" WIDTH="70" HEIGHT="22" SRC="images/0672325667/graphics/regex_icon.gif" ALT="graphics/regex_icon.gif"></pre><pre>
[ns]a[0-9]\.xls
</pre><pre><IMG BORDER="0" WIDTH="70" HEIGHT="22" SRC="images/0672325667/graphics/result_icon.gif" ALT="graphics/result_icon.gif"></pre><pre>
sales1.xls
orders3.xls
sales2.xls
sales3.xls
apac1.xls
europe2.xls
sam.xls
<span class="docEmphMark">na1.xls</span>
<span class="docEmphMark">na2.xls</span>
<span class="docEmphMark">sa1.xls</span>
ca1.xls
</pre>
<IMG BORDER="0" WIDTH="70" HEIGHT="22" SRC="images/0672325667/graphics/analysis_icon.gif" ALT="graphics/analysis_icon.gif">
<P class="docText">Pattern <TT>[0-9]</TT> is functionally equivalent to <TT>[0123456789]</TT>, and so the results are identical to those in the previous example.<A NAME="idd1e3140"></A><A NAME="idd1e3145"></A><A NAME="idd1e3150"></A><A NAME="idd1e3157"></A><A NAME="idd1e3164"></A><A NAME="idd1e3169"></A><A NAME="idd1e3176"></A></P>
<P class="docText">Ranges are not limited to digits. The following are all valid ranges:</P>
<UL><LI><P class="docList"><TT>A-Z</TT> matches all uppercase characters from <TT>A</TT> to <TT>Z</TT>.</P></LI><LI><P class="docList"><TT>a-z</TT> matches all lowercase characters from <TT>a</TT> to <TT>z</TT>.</P></LI><LI><P class="docList"><TT>A-F</TT> matches only uppercase characters <TT>A</TT> to <TT>F</TT>.</P></LI><LI><P class="docList"><TT>A-z</TT> matches all characters between ASCII <TT>A</TT> to ASCII <TT>z</TT> (you should probably never use this pattern, because it also includes characters such as <TT>[</TT> and <TT>^</TT>, which fall between <TT>Z</TT> and <TT>a</TT> in the ASCII table).</P></LI></UL>
<P class="docText">Any two ASCII characters may be specified as the range start and end. In practice, however, ranges are usually made up of some or all digits and some or all alphabetic characters.<A NAME="idd1e3249"></A><A NAME="idd1e3256"></A><A NAME="idd1e3261"></A><A NAME="idd1e3268"></A></P>
<A NAME="ch03note04"></A><div class="docNote"><p class="docNoteTitle">Tip</p><p><table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><td width="60" valign="top"><IMG BORDER="0" ALIGN="LEFT" WIDTH="24" HEIGHT="40" SRC="images/0672325667/graphics/pips_icon.gif" ALT="graphics/pips_icon.gif"></td><td valign="top"><P class="docText"><TT>-</TT> When you use ranges, be careful not to provide an end range that is less than the start range (such as <TT>[3-1]</TT>). This will not work, and it will often prevent the entire pattern from working.</P></td></tr></table></p></div><br>
<A NAME="ch03note05"></A><div class="docNote"><p class="docNoteTitle">Note</p><p><table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><td width="60" valign="top"><IMG BORDER="0" ALIGN="LEFT" WIDTH="40" HEIGHT="29" SRC="images/0672325667/graphics/r6_10min_icon.gif" ALT="graphics/r6_10min_icon.gif"></td><td valign="top"><P class="docText"><TT>-</TT> (hyphen) is a special metacharacter because it is only a metacharacter when used between <TT>[</TT> and <TT>]</TT>. Outside of a set, <TT>–</TT> is a literal and will match only <TT>-</TT>. As such, <TT>-</TT> does not need to be escaped.<A NAME="idd1e3319"></A><A NAME="idd1e3324"></A><A NAME="idd1e3329"></A></P></td></tr></table></p></div><br>
<P class="docText">Multiple ranges may be combined in a single set. For example, the following pattern matches any alphanumeric character in uppercase or lowercase, but not anything that is neither a digit nor an alphabetic character:<A NAME="idd1e3339"></A><A NAME="idd1e3344"></A><A NAME="idd1e3349"></A></P>
<pre>
[A-Za-z0-9]
</pre>
<P class="docText">This pattern is shorthand for</P>
<pre>
[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz01234567890]
</pre>
<P class="docText">As you can see, ranges makes regex syntax much cleaner.</P>
<P class="docText">Following is one more example, this time finding RGB values (colors specified in a hexadecimal notation representing the amount of red, green, and blue used to create the color). In Web pages, RGB values are specified as #000000 (black), #FFFFFF (white), #FF0000 (red), and so on. RGB values may be specified in uppercase or lowercase, and so #FF00ff (magenta) is legal, too. Here's the example:<A NAME="idd1e3373"></A><A NAME="idd1e3378"></A><A NAME="idd1e3383"></A></P>
<pre><IMG BORDER="0" WIDTH="70" HEIGHT="22" SRC="images/0672325667/graphics/text_icon.gif" ALT="graphics/text_icon.gif"></pre><pre>
&lt;BODY BGCOLOR="#336633" TEXT="#FFFFFF"
      MARGINWIDTH="0" MARGINHEIGHT="0"
      TOPMARGIN="0" LEFTMARGIN="0"&gt;
</pre><pre><IMG BORDER="0" WIDTH="70" HEIGHT="22" SRC="images/0672325667/graphics/regex_icon.gif" ALT="graphics/regex_icon.gif"></pre><pre>
#[0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f]
</pre><pre><IMG BORDER="0" WIDTH="70" HEIGHT="22" SRC="images/0672325667/graphics/result_icon.gif" ALT="graphics/result_icon.gif"></pre><pre>
&lt;BODY BGCOLOR="#336633" TEXT="#FFFFFF"
      MARGINWIDTH="0" MARGINHEIGHT="0"
      TOPMARGIN="0" LEFTMARGIN="0"&gt;
</pre>
<IMG BORDER="0" WIDTH="70" HEIGHT="22" SRC="images/0672325667/graphics/analysis_icon.gif" ALT="graphics/analysis_icon.gif">
<P class="docText">The pattern used here contains <TT>#</TT> as literal text and then the character set <TT>[0-9A-Fa-f]</TT> repeated six times. This matches <TT>#</TT> followed by six characters, each of which must be a digit or <TT>A</TT> through <TT>F</TT> (in either uppercase or lowercase).<A NAME="idd1e3433"></A><A NAME="idd1e3440"></A><A NAME="idd1e3445"></A><A NAME="idd1e3452"></A></P>
<ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="ch03lev1sec1.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="ch03lev1sec3.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
</body>
</html>
