<html><head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="C.3 Encodings"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0321112547_app03lev1sec2.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0321112547_app03lev1sec4.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="app03lev1sec3"></A><H3 class="docSection1Title">C.3 Encodings</H3>
<P class="docText">A full 32-bits of encoding space leaves plenty of room for every character we might want to represent, but it has its own problems. If we need to use 4 bytes for every character we want to encode, that makes for rather verbose files (or strings, or streams). Furthermore, these verbose files are likely to cause a variety of problems for legacy tools. As a solution to this, Unicode is itself often encoded using "Unicode Transformation Formats" (abbreviated as <TT>UTF-*</TT>). The encodings <TT>UTF-8</TT> and <TT>UTF-16</TT> use rather clever techniques to encode characters in a variable number of bytes, but with the most common situation being the use of just the number of bits indicated in the encoding name. In addition, the use of specific byte value ranges in multibyte characters is designed in such a way as to be friendly to existing tools. <TT>UTF-32</TT> is also an available encoding, one that simply uses all four bytes in a fixed-width encoding.</P>
<P class="docText">The design of <TT>UTF-8</TT> is such that <TT>US-ASCII</TT> characters are simply encoded as themselves. For example, the English letter "e" is encoded as the single byte <TT>0x65</TT> in both ASCII and in <TT>UTF-8</TT>. However, the non-English "e-umlaut" diacritic, which is Unicode character <TT>OxOOEB</TT>, is encoded with the two bytes <TT>OxC3 OxAB</TT>. In contrast, the <TT>UTF-16</TT> representation of every character is always at least 2 bytes (and sometimes 4 bytes). <TT>UTF-16</TT> has the rather straightforward representations of the letters "e" and "e-umlaut" as <TT>0x65 0x00</TT> and <TT>0xEB 0x00</TT>, respectively. So where does the odd value for the e-umlaut in <TT>UTF-8</TT> come from? Here is the trick: No multibyte encoded <TT>UTF-8</TT> character is allowed to be in the 7-bit range used by ASCII, to avoid confusion. So the <TT>UTF-8</TT> scheme uses some bit shifting and encodes every Unicode character using up to 6 bytes. But the byte values allowed in each position are arranged in such a manner as not to allow confusion of byte positions (for example, if you read a file nonsequentially).</P>
<P class="docText">Let's look at another example, just to see it laid out. Here is a simple text string encoded in several ways. The view presented is similar to what you would see in a hex-mode file viewer. This way, it is easy to see both a likely on-screen character representation (on a legacy, non-Unicode terminal) and a representation of the underlying hexadecimal values each byte contains:</P>
<H5 class="docExampleTitle"><A NAME="app03list01"></A> Hex view of several character string encodings</H5>

<PRE>
------------------- Encoding = us-ascii ------------------------
55 6E 69 63 6F 64 65 20 20 20 20 20 20 20 20 20 | Unicode
------------------- Encoding = utf-8 -------------------
55 6E 69 63 6F 64 65 20 20 20 20 20 20 20 20 20 | Unicode
------------------- Encoding = utf-16 ----------------------
FF FE 55 00 6E 00 69 00 63 00 6F 00 64 00 65 00 |   U n i c o d e
</PRE>
<a href="0321112547_10061533.html"><img src="FILES/pixel.gif" width="1" height="1" border="0"></a><ul></ul></td></tr></table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0321112547_app03lev1sec2.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0321112547_app03lev1sec4.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
