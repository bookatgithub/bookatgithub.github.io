<html><head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="2.1 Origins and History of Unix, 1969–1995"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0131429019_ch02.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0131429019_ch02lev1sec2.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="ch02lev1sec1"></A>
<H3 class="docSection1Title">2.1 Origins and History of Unix, 1969–1995</H3>
<P class="docText"><A NAME="idd1e5582"></A>A notorious 'second-system effect' often afflicts the successors of small experimental prototypes. The urge to add everything that was left out the first time around all too frequently leads to huge and overcomplicated design. Less well known, because less common, is the 'third-system effect'; sometimes, after the second system has collapsed of its own weight, there is a chance to go back to simplicity and get it really right.</P>
<P class="docText">The original Unix was a third system. Its grandfather was the small and simple Compatible Time-Sharing System (CTSS)<A NAME="idd1e5591"></A><A NAME="idd1e5594"></A>, either the first or second timesharing system ever deployed (depending on some definitional questions we are going to determinedly ignore). Its father was the pioneering Multics<A NAME="idd1e5598"></A> project, an attempt to create a feature-packed 'information utility' that would gracefully support interactive timesharing of mainframe computers by large communities of users. Multics, alas, did collapse of its own weight. But Unix was born from that collapse.</P>
<A NAME="ch02lev2sec1"></A>
<H4 class="docSection2Title">2.1.1 Genesis: 1969–1971</H4>
<P class="docText"><A NAME="idd1e5609"></A><A NAME="idd1e5612"></A><A NAME="idd1e5615"></A>Unix was born in 1969 out of the mind of a computer scientist at Bell Laboratories<A NAME="idd1e5619"></A>, Ken Thompson. Thompson had been a researcher on the Multics<A NAME="idd1e5625"></A> project, an experience which spoiled him for the primitive batch computing that was the rule almost everywhere else. But the concept of timesharing was still a novel one in the late 1960s; the first speculations on it had been uttered barely ten years earlier by computer scientist John McCarthy<A NAME="idd1e5629"></A> (also the inventor of the Lisp<A NAME="idd1e5633"></A> language), the first actual deployment had been in 1962, seven years earlier, and timesharing operating systems were still experimental and temperamental beasts.</P>
<P class="docText">Computer hardware was at that time more primitive than even people who were there to see it can now easily recall. The most powerful machines of the day had less computing power and internal memory than a typical cellphone of today.<sup class="docFootnote"><A class="docLink" HREF="#ch02en01">[1]</A></sup> Video display terminals were in their infancy and would not be widely deployed for another six years. The standard interactive device on the earliest timesharing systems was the ASR-33<A NAME="idd1e5647"></A> teletype—a slow, noisy device that printed upper-case-only on big rolls of yellow paper. The ASR-33 was the natural parent of the Unix tradition of terse commands and sparse responses.</P><blockquote><p class="docFootnote"><sup><A NAME="ch02en01">[1]</A></sup> Ken Thompson reminded me that today's cellphones have more RAM than the PDP-7 had RAM and disk storage combined; a <span class="docEmphasis">large</span> disk, in those days, was less than a megabyte of storage.</p></blockquote>
<P class="docText">When Bell Labs withdrew from the Multics research consortium, Ken Thompson was left with some Multics-inspired ideas about how to build a file system. He was also left without a machine on which to play a game he had written called Space Travel<A NAME="idd1e5654"></A>, a science-fiction simulation that involved navigating a rocket through the solar system. Unix began its life on a scavenged PDP-7<A NAME="idd1e5658"></A> minicomputer<sup class="docFootnote"><A class="docLink" HREF="#ch02en02">[2]</A></sup> like the one shown in <A class="docLink" HREF="#ch02fig01">Figure 2.1</A>, as a platform for the Space Travel game and a testbed for Thompson's ideas about operating system design.</P><blockquote><p class="docFootnote"><sup><A NAME="ch02en02">[2]</A></sup> There is a Web FAQ<A NAME="idd1e5669"></A> on the PDP computers &lt;<A class="docLink" target="_blank" HREF="http://www.faqs.org/faqs/dec-faq/pdp8/default.htm">http://www.faqs.org/faqs/dec-faq/pdp8/</A>&gt; that explains the otherwise extremely obscure PDP-7's place in history.</p></blockquote>
<CENTER>
<H5 class="docFigureTitle"><A NAME="ch02fig01"></A>Figure 2.1. The PDP-7.</H5>

<p class="docText">
<IMG BORDER="0" WIDTH="308" HEIGHT="378" src="FILES/02fig01.gif" ALT="graphics/02fig01.gif"></p>

</CENTER>
<P class="docText"><A NAME="idd1e5698"></A><A NAME="idd1e5705"></A>The full origin story is told in <A class="docLink" HREF="0131429019_app02.html#biblio70">[Ritchie79]</A> from the point of view of Thompson's first collaborator, Dennis Ritchie, the man who would become known as the coinventor of Unix and the inventor of the C<A NAME="idd1e5714"></A> language. Dennis Ritchie, Doug McIlroy<A NAME="idd1e5718"></A>, and a few colleagues had become used to interactive computing under Multics<A NAME="idd1e5722"></A> and did not want to lose that capability. Thompson's PDP-7 operating system offered them a lifeline.</P>
<P class="docText">Ritchie observes: "What we wanted to preserve was not just a good environment in which to do programming, but a system around which a fellowship<A NAME="idd1e5729"></A> could form. We knew from experience that the essence of communal computing, as supplied by remote-access, time-shared machines, is not just to type programs into a terminal instead of a keypunch, but to encourage close communication". The theme of computers being viewed not merely as logic devices but as the nuclei of communities was in the air; 1969 was also the year the ARPANET<A NAME="idd1e5733"></A> (the direct ancestor of today's Internet) was invented. The theme of "fellowship" would resonate all through Unix's subsequent history.</P>
<P class="docText">Thompson and Ritchie's Space Travel implementation<A NAME="idd1e5740"></A> attracted notice. At first, the PDP-7's software had to be cross-compiled on a GE mainframe. The utility programs that Thompson and Ritchie wrote to support hosting game development on the PDP-7 itself became the core of Unix—though the name did not attach itself until 1970. The original spelling was "UNICS" (UNiplexed Information and Computing Service), which Ritchie later described as "a somewhat treacherous pun on Multics"<A NAME="idd1e5744"></A>, which stood for MULTiplexed Information and Computing Service<A NAME="idd1e5748"></A>.</P>
<P class="docText">Even at its earliest stages, PDP-7 Unix bore a strong resemblance to today's Unixes and provided a rather more pleasant programming environment than was available anywhere else in those days of card-fed batch mainframes. Unix was very close to being the first system under which a programmer could sit down directly at a machine and compose programs on the fly, exploring possibilities and testing while composing. All through its lifetime Unix has had a pattern of growing more capabilities by attracting highly skilled volunteer efforts from programmers impatient with the limitations of other operating systems. This pattern was set early, within Bell Labs itself.</P>
<P class="docText">The Unix tradition of lightweight development and informal methods also began at its beginning. Where Multics<A NAME="idd1e5758"></A> had been a large project with thousands of pages of technical specifications written before the hardware arrived, the first running Unix code was brainstormed by three people and implemented by Ken Thompson<A NAME="idd1e5762"></A> in two days—on an obsolete machine that had been designed to be a graphics terminal for a 'real' computer.</P>
<P class="docText">Unix's first real job, in 1971, was to support what would now be called word processing for the Bell Labs patent department; the first Unix application was the ancestor of the <span class="docEmphasis">nroff</span>(1)<A NAME="idd1e5772"></A> text formatter. This project justified the purchase of a PDP-11<A NAME="idd1e5776"></A>, a much more capable minicomputer. Management remained blissfully unaware that the wordprocessing system that Thompson and colleagues were building was incubating an operating system. Operating systems were not in the Bell Labs plan—AT&amp;T<A NAME="idd1e5782"></A> had joined the Multics consortium precisely to avoid doing an operating system on its own. Nevertheless, the completed system was a rousing success. It established Unix as a permanent and valued part of the computing ecology at Bell Labs, and began another theme in Unix's history—a close association with document-formatting, typesetting, and communications tools. The 1972 manual claimed 10 installations.</P>
<P class="docText">Later, Doug McIlroy<A NAME="idd1e5789"></A> would write of this period <A class="docLink" HREF="0131429019_app02.html#biblio53">[McIlroy91]</A>: "Peer pressure and simple pride in workmanship caused gobs of code to be rewritten or discarded as better or more basic ideas emerged. Professional rivalry and protection of turf were practically unknown: so many good things were happening that nobody needed to be proprietary about innovations". But it would take another quarter century for all the implications of that observation to come home.</P>

<A NAME="ch02lev2sec2"></A>
<H4 class="docSection2Title">2.1.2 Exodus: 1971–1980</H4>
<P class="docText">The original Unix operating system was written in assembler, and the applications in a mix of assembler and an interpreted language called B, which had the virtue that it was small enough to run on the PDP-7<A NAME="idd1e5805"></A>. But B was not powerful enough for systems programming, so Dennis Ritchie added data types and structures to it. The resulting C language<A NAME="idd1e5811"></A> evolved from B beginning in 1971; in 1973 Thompson and Ritchie finally succeeded in rewriting Unix in their new language. This was quite an audacious move; at the time, system programming was done in assembler in order to extract maximum performance from the hardware, and the very concept of a portable operating system was barely a gleam in anyone's eye. As late as 1979, Ritchie<A NAME="idd1e5815"></A> could write: "It seems certain that much of the success of Unix follows from the readability, modifiability, and portability of its software that in turn follows from its expression in high-level languages", in the knowledge that this was a point that still needed making.</P>
<P class="docText">A 1974 paper in <span class="docEmphasis">Communications of the ACM</span><A NAME="idd1e5824"></A> [Ritchie-Thompson] gave Unix its first public exposure. In that paper, its authors described the unprecedentedly simple design of Unix, and reported over 600 Unix installations. All were on machines underpowered even by the standards of that day, but (as Ritchie and Thompson wrote) "constraint has encouraged not only economy, but also a certain elegance of design".</P>
<P class="docText">After the CACM paper, research labs and universities all over the world clamored for the chance to try out Unix themselves. Under a 1958 consent decree in settlement of an antitrust case, AT&amp;T<A NAME="idd1e5831"></A><A NAME="idd1e5836"></A> (the parent organization of Bell Labs) had been forbidden from entering the computer business. Unix could not, therefore, be turned into a product; indeed, under the terms of the consent decree, Bell Labs was required to license its nontelephone technology to anyone who asked. Ken Thompson<A NAME="idd1e5840"></A> quietly began answering requests by shipping out tapes and disk packs—each, according to legend, with a note signed "love, ken".</P>
<P class="docText">This was years before personal computers. Not only was the hardware needed to run Unix too expensive to be within an individual's reach, but nobody imagined that would change in the foreseeable future. So Unix machines were only available by the grace of big organizations with big budgets: corporations, universities, government agencies. But use of these minicomputers was less regulated than the even-bigger mainframes, and Unix development rapidly took on a countercultural air. It was the early 1970s; the pioneering Unix programmers were shaggy hippies and hippiewannabes. They delighted in playing with an operating system that not only offered them fascinating challenges at the leading edge of computer science, but also subverted all the technical assumptions and business practices that went with Big Computing. Card punches, COBOL, business suits, and batch IBM<A NAME="idd1e5847"></A> mainframes were the despised old wave; Unix hackers<A NAME="idd1e5851"></A><A NAME="idd1e5854"></A><A NAME="idd1e5857"></A> reveled in the sense that they were simultaneously building the future and flipping a finger at the system.</P>
<P class="docText">The excitement of those days is captured in this quote from Douglas Comer<A NAME="idd1e5866"></A>: "Many universities contributed to UNIX. At the University of Toronto, the department acquired a 200-dot-per-inch printer/plotter and built software that used the printer to simulate a phototypesetter. At Yale University, students and computer scientists modified the UNIX shell. At Purdue University, the Electrical Engineering Department made major improvements in performance, producing a version of UNIX that supported a larger number of users. Purdue also developed one of the first UNIX computer networks. At the University of California at Berkeley, students developed a new shell and dozens of smaller utilities. By the late 1970s, when Bell Labs released Version 7 UNIX, it was clear that the system solved the computing problems of many departments, and that it incorporated many of the ideas that had arisen in universities. The end result was a strengthened system. A tide of ideas had started a new cycle, flowing from academia to an industrial laboratory, back to academia, and finally moving on to a growing number of commercial sites" <A class="docLink" HREF="0131429019_app02.html#biblio14">[Comer]</A>.</P>
<h5><P class="docText">Ken (seated) and Dennis (standing) at a PDP-11 in 1972.<A NAME="idd1e5884"></A><A NAME="idd1e5891"></A><A NAME="idd1e5896"></A><A NAME="idd1e5901"></A><A NAME="idd1e5906"></A><A NAME="idd1e5909"></A></P></h5>
<p class="docText">
<IMG BORDER="0" WIDTH="391" HEIGHT="313" src="FILES/034fig01.jpg" ALT="graphics/034fig01.jpg"></p>


<P class="docText">The first Unix of which it can be said that essentially all of it would be recognizable to a modern Unix programmer was the Version 7 release<A NAME="idd1e5917"></A> in 1979.<sup class="docFootnote"><A class="docLink" HREF="#ch02en03">[3]</A></sup> The first Unix user group had formed the previous year. By this time Unix was in use for operations support all through the Bell System <A class="docLink" HREF="0131429019_app02.html#biblio35">[Hauben]</A>, and had spread to universities as far away as Australia, where John Lions's<A NAME="idd1e5933"></A> 1976 notes <A class="docLink" HREF="0131429019_app02.html#biblio49">[Lions]</A> on the Version 6 source code became the first serious documentation of the Unix kernel internals. Many senior Unix hackers<A NAME="idd1e5940"></A> still treasure a copy.</P><blockquote><p class="docFootnote"><sup><A NAME="ch02en03">[3]</A></sup> The version 7 manuals can be browsed on-line at <A class="docLink" target="_blank" HREF="http://www.plan9.bell-labs.com/7thEdMan/index.html">http://plan9.bell-labs.com/7thEdMan/index.html</A>.</p></blockquote>
<blockquote>

<p class="docText"><A NAME="idd1e5951"></A>The Lions book was a samizdat publishing sensation. Because of copyright infringement or some such it couldn't be published in the U.S., so copies of copies seeped everywhere. I still have my copy, which was at least 6th generation. Back then you couldn't be a kernel hacker without a Lions.</p>
<p class="docText">—Ken Arnold</p></blockquote>
<P class="docText">The beginnings of a Unix industry were coalescing as well. The first Unix company (the Santa Cruz Operation, SCO)<A NAME="idd1e5962"></A> began operations in 1978, and the first commercial C<A NAME="idd1e5966"></A> compiler (Whitesmiths) sold that same year. By 1980 an obscure software company in Seattle was also getting into the Unix game, shipping a port of the AT&amp;T<A NAME="idd1e5970"></A><A NAME="idd1e5975"></A> version for microcomputers called XENIX. But Microsoft's<A NAME="idd1e5979"></A> affection for Unix as a product was not to last very long (though Unix would continue to be used for most internal development work at the company until after 1990).</P>

<A NAME="ch02lev2sec3"></A>
<H4 class="docSection2Title">2.1.3 TCP/IP and the Unix Wars: 1980–1990</H4>
<P class="docText"><A NAME="idd1e5991"></A>The Berkeley<A NAME="idd1e5997"></A> campus of the University of California emerged early as the single most important academic hot-spot in Unix development. Unix research had begun there in 1974, and was given a substantial impetus when Ken Thompson<A NAME="idd1e6001"></A> taught at the University during a 1975–76 sabbatical. The first BSD release<A NAME="idd1e6005"></A> had been in 1977 from a lab run by a then-unknown grad student named Bill Joy<A NAME="idd1e6009"></A>. By 1980 Berkeley was the hub of a sub-network of universities actively contributing to their variant of Unix. Ideas and code from Berkeley Unix<A NAME="idd1e6013"></A> (including the <span class="docEmphasis">vi</span>(1)<A NAME="idd1e6020"></A> editor)<A NAME="idd1e6024"></A> were feeding back from Berkeley to Bell Labs.</P>
<P class="docText">Then, in 1980, the Defense Advanced Research Projects Agency needed a team to implement its brand-new TCP/IP<A NAME="idd1e6031"></A> protocol stack on the VAX under Unix. The PDP-10s<A NAME="idd1e6035"></A> that powered the ARPANET<A NAME="idd1e6041"></A> at that time were aging, and indications that DEC might be forced to cancel the 10 in order to support the VAX were already in the air. DARPA<A NAME="idd1e6045"></A> considered contracting DEC to implement TCP/IP<A NAME="idd1e6049"></A>, but rejected that idea because they were concerned that DEC might not be responsive to requests for changes in their proprietary VAX/VMS<A NAME="idd1e6053"></A><A NAME="idd1e6056"></A> operating system [Libes-Ressler]. Instead, DARPA chose Berkeley Unix as a platform—explicitly because its source code was available and unencumbered <A class="docLink" HREF="0131429019_app02.html#biblio45">[Leonard]</A>.</P>
<P class="docText">Berkeley's<A NAME="idd1e6066"></A> Computer Science Research Group was in the right place at the right time with the strongest development tools; the result became arguably the most critical turning point in Unix's history since its invention.</P>
<P class="docText">Until the TCP/IP<A NAME="idd1e6073"></A> implementation was released with Berkeley<A NAME="idd1e6077"></A><A NAME="idd1e6082"></A> 4.2 in 1983, Unix had had only the weakest networking support. Early experiments with Ethernet were unsatisfactory. An ugly but serviceable facility called UUCP<A NAME="idd1e6088"></A> (Unix to Unix Copy Program) had been developed at Bell Labs for distributing software over conventional telephone lines via modem.<sup class="docFootnote"><A class="docLink" HREF="#ch02en04">[4]</A></sup> UUCP could forward Unix mail between widely separated machines, and (after Usenet was invented in 1981) supported Usenet<A NAME="idd1e6099"></A>, a distributed bulletin-board facility that allowed users to broadcast text messages to anywhere that had phone lines and Unix systems.</P><blockquote><p class="docFootnote"><sup><A NAME="ch02en04">[4]</A></sup> UUCP was hot stuff when a <span class="docEmphasis">fast</span> modem was 300 baud.</p></blockquote>
<P class="docText">Still, the few Unix users aware of the bright lights of the ARPANET felt like they were stuck in a backwater. No FTP, no telnet, only the most restricted remote job execution, and painfully slow links. Before TCP/IP<A NAME="idd1e6109"></A>, the Internet and Unix cultures did not mix. Dennis Ritchie's<A NAME="idd1e6113"></A> vision of computers as a way to "encourage close communication" was one of collegial communities clustered around individual timesharing machines or in the same computing center; it didn't extend to the continentwide distributed 'network nation' that ARPA users had started to form in the mid-1970s. Early ARPANETters, for their part, considered Unix a crude makeshift limping along on risibly weak hardware.</P>
<P class="docText">After TCP/IP<A NAME="idd1e6120"></A>, everything changed. The ARPANET<A NAME="idd1e6124"></A> and Unix cultures began to merge at the edges, a development that would eventually save both from destruction. But there would be hell to pay first as the result of two unrelated disasters; the rise of Microsoft<A NAME="idd1e6128"></A> and the AT&amp;T<A NAME="idd1e6132"></A> divestiture.<A NAME="idd1e6138"></A></P>
<P class="docText">In 1981, Microsoft made its historic deal with IBM<A NAME="idd1e6144"></A> over the new IBM PC. Bill Gates<A NAME="idd1e6148"></A> bought QDOS<A NAME="idd1e6152"></A> (Quick and Dirty Operating System), a clone of CP/M that its programmer Tim Paterson<A NAME="idd1e6156"></A> had thrown together in six weeks, from Paterson's employer Seattle Computer Products. Gates, concealing the IBM deal from Paterson and SCP, bought the rights for $50,000. He then talked IBM into allowing Microsoft to market MS-DOS separately from the PC hardware. Over the next decade, leveraging code he didn't write made Bill Gates a multibillionaire, and business tactics even sharper than the original deal gained Microsoft a monopoly lock on desktop computing. XENIX as a product was rapidly deep-sixed, and eventually sold to SCO.</P>
<P class="docText">It was not apparent at the time how successful (or how destructive) Microsoft<A NAME="idd1e6166"></A> was going to be. Since the IBM PC-1 didn't have the hardware capacity to run Unix, Unix people barely noticed it at all (though, ironically enough, DOS 2.0 eclipsed CP/M largely because Microsoft's co-founder Paul Allen<A NAME="idd1e6170"></A> merged in Unix features including subdirectories and pipes<A NAME="idd1e6174"></A><A NAME="idd1e6177"></A>). There were things that seemed much more interesting going on—like the 1982 launching of Sun Microsystems<A NAME="idd1e6181"></A>.</P>
<P class="docText">Sun Microsystems<A NAME="idd1e6188"></A> founders Bill Joy<A NAME="idd1e6192"></A>, Andreas Bechtolsheim<A NAME="idd1e6196"></A>, and Vinod Khosla<A NAME="idd1e6200"></A> set out to build a dream Unix machine with built-in networking capability. They combined hardware designed at Stanford with the Unix developed at Berkeley to produce a smashing success, and founded the workstation industry. At the time, nobody much minded watching source-code access to one branch of the Unix tree gradually dry up as Sun began to behave less like a freewheeling startup and more like a conventional firm. Berkeley<A NAME="idd1e6204"></A> was still distributing BSD<A NAME="idd1e6208"></A> with source code. Officially, System III<A NAME="idd1e6212"></A> source licenses cost $40,000 each; but Bell Labs was turning a blind eye to the number of bootleg Bell Labs Unix tapes in circulation, the universities were still swapping code with Bell Labs, and it looked like Sun's<A NAME="idd1e6216"></A> commercialization of Unix might just be the best thing to happen to it yet.</P>
<P class="docText">1982 was also the year that C<A NAME="idd1e6223"></A> first showed signs of establishing itself outside the Unix world as the systems-programming language of choice. It would only take about five years for C<A NAME="idd1e6227"></A> to drive machine assemblers almost completely out of use. By the early 1990s C and C++<A NAME="idd1e6231"></A> would dominate not only systems but application programming; by the late 1990s all other conventional compiled languages would be effectively obsolete.</P>
<P class="docText">When DEC<A NAME="idd1e6238"></A> canceled development on the PDP-10's<A NAME="idd1e6242"></A> successor machine (Jupiter) in 1983, VAXes running Unix began to take over as the dominant Internet machines, a position they would hold until being displaced by Sun workstations<A NAME="idd1e6248"></A>. By 1985, about 25% of all VAXes would be running Unix despite DEC's stiff opposition. But the longest-term effect of the Jupiter cancellation was a less obvious one; the death of the MIT AI Lab's<A NAME="idd1e6252"></A> PDP-10-centered hacker<A NAME="idd1e6256"></A> culture motivated a programmer named Richard Stallman<A NAME="idd1e6260"></A> to begin writing GNU<A NAME="idd1e6264"></A>, a complete free clone of Unix.</P>
<P class="docText">By 1983 there were no fewer than six Unix-workalike operating systems for the IBM-PC: uNETix<A NAME="idd1e6271"></A>, Venix<A NAME="idd1e6275"></A>, Coherent<A NAME="idd1e6279"></A>, QNX<A NAME="idd1e6283"></A>, Idris<A NAME="idd1e6287"></A>, and the port hosted on the Sritek PC daughtercard. There was still no port of Unix in either the System V<A NAME="idd1e6291"></A> or BSD<A NAME="idd1e6295"></A> versions; both groups considered the 8086 microprocessor woefully underpowered and wouldn't go near it. None of the Unix-workalikes were significant as commercial successes, but they indicated a significant demand for Unix on cheap hardware that the major vendors were not supplying. No individual could afford to meet it, either, not with the $40,000 price-tag on a source-code license.</P>
<P class="docText">Sun<A NAME="idd1e6302"></A> was already a success (with imitators!) when, in 1983, the U.S. Department of Justice won its second antitrust case against AT&amp;T<A NAME="idd1e6306"></A> and broke up the Bell System. This relieved AT&amp;T from the 1958 consent decree that had prevented them from turning Unix into a product. AT&amp;T promptly rushed to commercialize Unix System V—a move that nearly killed Unix.</P>
<blockquote>

<p class="docText"><A NAME="idd1e6317"></A>So true. But their marketing did spread Unix internationally.</p>
<p class="docText">—Ken Thompson</p></blockquote>
<P class="docText">Most Unix boosters thought that the divestiture<A NAME="idd1e6325"></A> was great news. We thought we saw in the post-divestiture AT&amp;T, Sun Microsystems<A NAME="idd1e6331"></A>, and Sun's smaller imitators the nucleus of a healthy Unix industry—one that, using inexpensive 68000-based workstations, would challenge and eventually break the oppressive monopoly that then loomed over the computer industry—IBM's.<A NAME="idd1e6335"></A></P>
<P class="docText">What none of us realized at the time was that the productization of Unix would destroy the free exchanges of source code that had nurtured so much of the system's early vitality. Knowing no other model than secrecy for collecting profits from software and no other model than centralized control for developing a commercial product, AT&amp;T clamped down hard on source-code distribution. Bootleg Unix tapes became far less interesting in the knowledge that the threat of lawsuit might come with them. Contributions from universities began to dry up.</P>
<P class="docText">To make matters worse, the big new players in the Unix market promptly committed major strategic blunders. One was to seek advantage by product differentiation—a tactic which resulted in the interfaces of different Unixes diverging. This threw away cross-platform compatibility and fragmented the Unix market.</P>
<P class="docText">The other, subtler error was to behave as if personal computers and Microsoft<A NAME="idd1e6347"></A> were irrelevant to Unix's prospects. Sun Microsystems<A NAME="idd1e6351"></A> failed to see that commoditized PCs would inevitably become an attack on its workstation market from below. AT&amp;T<A NAME="idd1e6355"></A>, fixated on minicomputers and mainframes, tried several different strategies to become a major player in computers, and badly botched all of them. A dozen small companies formed to support Unix on PCs; all were underfunded, focused on selling to developers and engineers, and never aimed at the business and home market that Microsoft was targeting.</P>
<P class="docText">In fact, for years after divestiture the Unix community was preoccupied with the first phase of the Unix wars<A NAME="idd1e6362"></A>—an internal dispute, the rivalry between System V Unix<A NAME="idd1e6366"></A> and BSD Unix<A NAME="idd1e6370"></A>. The dispute had several levels, some technical (sockets vs. streams, BSD<A NAME="idd1e6374"></A> tty vs. System V termio) and some cultural. The divide was roughly between longhairs and shorthairs; programmers and technical people tended to line up with Berkeley and BSD<A NAME="idd1e6378"></A>, more business-oriented types with AT&amp;T and System V<A NAME="idd1e6382"></A>. The longhairs, repeating a theme from Unix's early days ten years before, liked to see themselves as rebels against a corporate empire; one of the small companies put out a poster showing an X-wing-like space fighter marked "BSD" speeding away from a huge AT&amp;T 'death star' logo left broken and in flames. Thus we fiddled while Rome burned.</P>
<P class="docText">But something else happened in the year of the AT&amp;T divestiture that would have more long-term importance for Unix. A programmer/linguist named Larry Wall<A NAME="idd1e6389"></A> quietly invented the <span class="docEmphasis">patch</span>(1)<A NAME="idd1e6396"></A> utility. The <span class="docEmphasis">patch</span> program, a simple tool that applies changebars generated by <span class="docEmphasis">diff</span>(1)<A NAME="idd1e6406"></A> to a base file, meant that Unix developers could cooperate by passing around patch sets—incremental changes to code—rather than entire code files. This was important not only because patches are less bulky than full files, but because patches would often apply cleanly even if much of the base file had changed since the patch-sender fetched his copy. With this tool, streams of development on a common source-code base could diverge, run in parallel, and re-converge. The <span class="docEmphasis">patch</span> program did more than any other single tool to enable collaborative development over the Internet—a method that would revitalize Unix after 1990.</P>
<P class="docText">In 1985 Intel shipped the first 386 chip, capable of addressing 4 gigabytes of memory with a flat address space. The clumsy segment addressing of the 8086 and 286 became immediately obsolete. This was big news, because it meant that for the first time, a microprocessor in the dominant Intel family had the capability to run Unix without painful compromises. The handwriting was on the wall for Sun<A NAME="idd1e6416"></A> and the other workstation makers. They failed to see it.</P>
<P class="docText">1985 was also the year that Richard Stallman<A NAME="idd1e6423"></A> issued the GNU manifesto <A class="docLink" HREF="0131429019_app02.html#biblio78">[Stallman]</A> and launched the Free Software Foundation<A NAME="idd1e6430"></A>. Very few people took him or his GNU<A NAME="idd1e6434"></A> project seriously, a judgment that turned out to be seriously mistaken. In an unrelated development of the same year, the originators of the X window system released it as source code without royalties, restrictions, or license code. As a direct result of this decision, it became a safe neutral area for collaboration between Unix vendors, and defeated proprietary contenders to become Unix's graphics engine.</P>
<P class="docText">Serious standardization efforts aimed at reconciling the System V<A NAME="idd1e6441"></A> and Berkeley<A NAME="idd1e6445"></A> APIs also began in 1983 with the /usr/group standard. This was followed in 1985 by the POSIX<A NAME="idd1e6452"></A> standards, an effort backed by the IEEE. These described the intersection set of the BSD<A NAME="idd1e6456"></A> and SVR3 (System V Release 3)<A NAME="idd1e6460"></A> calls, with the superior Berkeley signal handling and job control but with SVR3 terminal control. All later Unix standards would incorporate POSIX at their core, and later Unixes would adhere to it closely. The only major addition to the modern Unix kernel API to come afterwards was BSD sockets<A NAME="idd1e6467"></A>.</P>
<P class="docText">In 1986 Larry Wall<A NAME="idd1e6474"></A>, previously the inventor of <span class="docEmphasis">patch</span>(1)<A NAME="idd1e6481"></A>, began work on Perl<A NAME="idd1e6485"></A>, which would become the first and most widely used of the open-source scripting languages<A NAME="idd1e6489"></A>. In early 1987 the first version of the GNU C compiler <A NAME="idd1e6493"></A><A NAME="idd1e6496"></A> appeared, and by the end of 1987 the core of the GNU toolset was falling into place<A NAME="idd1e6500"></A>: editor, compiler, debugger, and other basic development tools. Meanwhile, the X windowing system<A NAME="idd1e6504"></A> was beginning to show up on relatively inexpensive workstations. Together, these would provide the armature for the open-source Unix developments of the 1990s.</P>
<P class="docText">1986 was also the year that PC technology broke free of IBM's grip. IBM<A NAME="idd1e6511"></A>, still trying to preserve a price-vs.-power curve across its product line that would favor its high-margin mainframe business, rejected the 386 for most of its new line of PS/2 computers in favor of the weaker 286. The PS/2 series, designed around a proprietary bus architecture to lock out clonemakers, became a colossally expensive failure.<sup class="docFootnote"><A class="docLink" HREF="#ch02en05">[5]</A></sup> Compaq, the most aggressive of the clonemakers, trumped IBM's move by releasing the first 386 machine. Even with a clock speed of a mere 16 MHz, the 386 made a tolerable Unix machine. It was the first PC of which that could be said.</P><blockquote><p class="docFootnote"><sup><A NAME="ch02en05">[5]</A></sup> The PS/2 did, however, leave one mark on later PCs—they made the mouse a standard peripheral, which is why the mouse connector on the back of your chassis is called a "PS/2 port"<A NAME="idd1e6518"></A>.</p></blockquote>
<P class="docText">It was beginning to be possible to imagine that Stallman's<A NAME="idd1e6526"></A> GNU project<A NAME="idd1e6530"></A><A NAME="idd1e6533"></A> might mate with 386 machines to produce Unix workstations almost an order of magnitude less costly than anyone was offering. Curiously, no one seems to have actually got this far in their thinking. Most Unix programmers, coming from the minicomputer and workstation worlds, continued to disdain cheap 80x86 machines in favor of more elegant 68000-based designs. And, though a lot of programmers contributed to the GNU project<A NAME="idd1e6537"></A>, among Unix people it tended to be considered a quixotic gesture that was unlikely to have near-term practical consequences.</P>
<P class="docText">The Unix community had never lost its rebel streak. But in retrospect, we were nearly as blind to the future bearing down on us as IBM<A NAME="idd1e6544"></A> or AT&amp;T<A NAME="idd1e6548"></A>. Not even Richard Stallman<A NAME="idd1e6552"></A>, who had declared a moral crusade against proprietary software a few years before, really understood how badly the productization of Unix had damaged the community around it; his concerns were with more abstract and long-term issues. The rest of us kept hoping that some clever variation on the corporate formula would solve the problems of fragmentation, wretched marketing, and strategic drift, and redeem Unix's pre-divestiture promise<A NAME="idd1e6556"></A>. But worse was still to come.</P>
<P class="docText">1988 was the year Ken Olsen<A NAME="idd1e6565"></A> (CEO of DEC<A NAME="idd1e6569"></A>) famously described Unix as "snake oil". DEC had been shipping its own variant of Unix on PDP-11s<A NAME="idd1e6573"></A> since 1982, but really wanted the business to go to its proprietary VMS<A NAME="idd1e6579"></A> operating system. DEC and the minicomputer industry were in deep trouble, swamped by waves of powerful lowcost machines coming out of Sun Microsystems<A NAME="idd1e6583"></A> and the rest of the workstation vendors. Most of those workstations ran Unix.</P>
<P class="docText">But the Unix industry's own problems were growing more severe. In 1988 AT&amp;T took a 20% stake in Sun Microsystems. These two companies, the leaders in the Unix market, were beginning to wake up to the threat posed by PCs, IBM, and Microsoft, and to realize that the preceding five years of bloodletting had gained them little. The AT&amp;T/Sun alliance and the development of technical standards around POSIX<A NAME="idd1e6590"></A> eventually healed the breach between the System V<A NAME="idd1e6594"></A> and BSD Unix<A NAME="idd1e6598"></A> lines. But the second phase of the Unix wars<A NAME="idd1e6602"></A> began when the second-tier vendors (IBM<A NAME="idd1e6606"></A>, DEC, Hewlett-Packard, and others) formed the Open Software Foundation<A NAME="idd1e6610"></A> and lined up against the AT&amp;T/Sun axis (represented by Unix International). More rounds of Unix fighting Unix ensued.</P>
<P class="docText">Meanwhile, Microsoft<A NAME="idd1e6617"></A> was making billions in the home and small-business markets that the warring Unix factions had never found the will to address. The 1990 release of Windows 3.0—the first successful graphical operating system<A NAME="idd1e6621"></A> from Redmond—cemented Microsoft's dominance, and created the conditions that would allow them to flatten and monopolize the market for desktop applications in the 1990s.</P>
<P class="docText">The years from 1989 to 1993 were the darkest in Unix's history. It appeared then that all the Unix community's dreams had failed. Internecine warfare had reduced the proprietary Unix industry to a squabbling shambles that never summoned either the determination or the capability to challenge Microsoft. The elegant Motorola chips favored by most Unix programmers had lost out to Intel's ugly but inexpensive processors. The GNU project<A NAME="idd1e6628"></A> failed to produce the free Unix kernel it had been promising since 1985, and after years of excuses its credibility was beginning to wear thin. PC technology was being relentlessly corporatized. The pioneering Unix hackers<A NAME="idd1e6632"></A><A NAME="idd1e6635"></A> of the 1970s were hitting middle age and slowing down. Hardware was getting cheaper, but Unix was still too expensive. We were belatedly becoming aware that the old monopoly of IBM<A NAME="idd1e6639"></A> had yielded to a newer monopoly of Microsoft<A NAME="idd1e6643"></A>, and Microsoft's mal-engineered software was rising around us like a tide of sewage.</P>

<A NAME="ch02lev2sec4"></A>
<H4 class="docSection2Title">2.1.4 Blows against the Empire: 1991–1995</H4>
<P class="docText"><A NAME="idd1e6655"></A><A NAME="idd1e6660"></A>The first glimmer of light in the darkness was the 1990 effort by William Jolitz<A NAME="idd1e6664"></A> to port BSD<A NAME="idd1e6668"></A> onto a 386 box, publicized by a series of magazine articles beginning in 1991. The 386BSD port was possible because, partly influenced by Stallman<A NAME="idd1e6672"></A>, Berkeley<A NAME="idd1e6676"></A> hacker Keith Bostic<A NAME="idd1e6680"></A> had begun an effort to clean AT&amp;T proprietary code out of the BSD sources in 1988. But the 386BSD project took a severe blow when, near the end of 1991, Jolitz walked away from it and destroyed his own work. There are conflicting explanations, but a common thread in all is that Jolitz wanted his code to be released as unencumbered source and was upset when the corporate sponsors of the project opted for a more proprietary licensing model.</P>
<P class="docText">In August 1991 Linus Torvalds<A NAME="idd1e6687"></A>, then an unknown university student from Finland, announced the Linux<A NAME="idd1e6691"></A> project. Torvalds is on record that one of his main motivations was the high cost of Sun's<A NAME="idd1e6695"></A> Unix at his university. Torvalds has also said that he would have joined the BSD<A NAME="idd1e6699"></A> effort had he known of it, rather than founding his own. But 386BSD was not shipped until early 1992, some months after the first Linux release.</P>
<P class="docText">The importance of both these projects became clear only in retrospect. At the time, they attracted little notice even within the Internet hacker<A NAME="idd1e6706"></A> culture—let alone in the wider Unix community, which was still fixated on more capable machines than PCs, and on trying to reconcile the special properties of Unix with the conventional proprietary model of a software business.</P>
<P class="docText">It would take another two years and the great Internet explosion of 1993–1994 before the true importance of Linux<A NAME="idd1e6713"></A> and the open-source<A NAME="idd1e6719"></A> BSD<A NAME="idd1e6723"></A> distributions became evident to the rest of the Unix world. Unfortunately for the BSDers, an AT&amp;T<A NAME="idd1e6727"></A> lawsuit against BSDI (the startup company that had backed the Jolitz port) consumed much of that time and motivated some key Berkeley<A NAME="idd1e6731"></A> developers to switch to Linux.</P>
<blockquote>

<p class="docText"><A NAME="idd1e6742"></A>Code copying and theft of trade secrets was alleged. The actual infringing code was not identified for nearly two years. The lawsuit could have dragged on for much longer but for the fact that Novell bought USL from AT&amp;T and sought a settlement. In the end, three files were removed from the 18,000 that made up the distribution, and a number of minor changes were made to other files. In addition, the University agreed to add USL copyrights to about 70 files, with the stipulation that those files continued to be freely redistributed.</p>
<p class="docText">—Marshall Kirk McKusick</p></blockquote>
<P class="docText">The settlement set an important precedent by freeing an entire working Unix from proprietary control, but its effects on BSD itself were dire. Matters were not helped when, in 1992–1994, the Computer Science Research Group at Berkeley<A NAME="idd1e6750"></A> shut down<A NAME="idd1e6754"></A>; afterwards, factional warfare within the BSD community split it into three competing development efforts. As a result, the BSD lineage lagged behind Linux<A NAME="idd1e6758"></A> at a crucial time and lost to it the lead position in the Unix community.</P>
<P class="docText">The Linux<A NAME="idd1e6767"></A> and BSD<A NAME="idd1e6771"></A> development efforts were native to the Internet in a way previous Unixes had not been. They relied on distributed development and Larry Wall's <span class="docEmphasis">patch</span>(1)<A NAME="idd1e6778"></A> tool, and recruited developers via email and through Usenet<A NAME="idd1e6782"></A> newsgroups. Accordingly, they got a tremendous boost when Internet Service Provider businesses began to proliferate in 1993, enabled by changes in telecomm technology and the privatization of the Internet backbone that are outside the scope of this history. The demand for cheap Internet was created by something else: the 1991 invention of the World Wide Web<A NAME="idd1e6786"></A>. The Web was the "killer app" of the Internet, the graphical user interface technology that made it irresistible to a huge population of nontechnical end users.</P>
<P class="docText">The mass-marketing of the Internet both increased the pool of potential developers and lowered the transaction costs of distributed development. The results were reflected in efforts like XFree86<A NAME="idd1e6793"></A>, which used the Internet-centric model to build a more effective development organization than that of the official X Consortium<A NAME="idd1e6797"></A>. The first XFree86 in 1992 gave Linux<A NAME="idd1e6803"></A> and the BSDs<A NAME="idd1e6807"></A> the graphical-user-interface engine they had been missing. Over the next decade XFree86 would lead in X development, and an increasing portion of the X Consortium's activity would come to consist of funneling innovations originated in the XFree86 community back to the Consortium's industrial sponsors.</P>
<P class="docText">By late 1993, Linux<A NAME="idd1e6814"></A> had both Internet capability and X<A NAME="idd1e6818"></A>. The entire GNU toolkit had been hosted on it from the beginning, providing high-quality development tools<A NAME="idd1e6822"></A><A NAME="idd1e6825"></A>. Beyond GNU tools, Linux<A NAME="idd1e6829"></A> acted as a basin of attraction, collecting and concentrating twenty years of open-source software that had previously been scattered across a dozen different proprietary Unix platforms. Though the Linux kernel was still officially in beta (at 0.99 level), it was remarkably crash-free. The breadth and quality of the software in Linux<A NAME="idd1e6835"></A> distributions was already that of a production-ready operating system.</P>
<P class="docText">A few of the more flexible-minded among old-school Unix developers began to notice that the long-awaited dream of a cheap Unix system for everybody had snuck up on them from an unexpected direction. It didn't come from AT&amp;T<A NAME="idd1e6842"></A> or Sun<A NAME="idd1e6846"></A> or any of the traditional vendors. Nor did it rise out of an organized effort in academia. It was a bricolage that bubbled up out of the Internet by what seemed like spontaneous generation, appropriating and recombining elements of the Unix tradition in surprising ways.</P>
<P class="docText">Elsewhere, corporate maneuvering continued. AT&amp;T<A NAME="idd1e6853"></A> divested its interest in Sun in 1992; then sold its Unix Systems Laboratories to Novell<A NAME="idd1e6857"></A> in 1993; Novell handed off the Unix trademark to the X/Open standards group in 1994; AT&amp;T and Novell joined OSF in 1994, finally ending the Unix wars<A NAME="idd1e6864"></A>. In 1995 SCO bought UnixWare (and the rights to the original Unix sources) from Novell. In 1996, X/Open and OSF merged, creating one big Unix standards group.</P>
<P class="docText">But the conventional Unix vendors and the wreckage of their wars came to seem steadily less and less relevant. The action and energy in the Unix community were shifting to Linux<A NAME="idd1e6877"></A> and BSD<A NAME="idd1e6883"></A> and the open-source<A NAME="idd1e6887"></A> developers. By the time IBM<A NAME="idd1e6891"></A>, Intel<A NAME="idd1e6895"></A>, and SCO<A NAME="idd1e6901"></A> announced the Monterey project in 1998—a last-gasp attempt to merge One Big System out of all the proprietary Unixes left standing—developers and the trade press reacted with amusement, and the project was abruptly canceled in 2001 after three years of going nowhere.</P>
<P class="docText">The industry transition could not be said to have completed until 2000, when SCO sold UnixWare and the original Unix source-code base to Caldera—a Linux distributor<A NAME="idd1e6911"></A>. But after 1995, the story of Unix became the story of the open-source movement. There's another side to that story; to tell it, we'll need to return to 1961 and the origins of the Internet hacker culture.</P>


<a href="0131429019_18071533.html"><img src="FILES/pixel.gif" width="1" height="1" border="0"></a><ul></ul></td></tr></table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0131429019_ch02.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0131429019_ch02lev1sec2.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
