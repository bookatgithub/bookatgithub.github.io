<html><head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="7.1 Separating Complexity Control from Performance Tuning"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0131429019_ch07.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0131429019_ch07lev1sec2.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="ch07lev1sec1"></A>
<H3 class="docSection1Title">7.1 Separating Complexity Control from Performance Tuning</H3>
<P class="docText"><A NAME="idd1e15303"></A>First, though, we need to dispose of a few red herrings. Our discussion is <span class="docEmphasis">not</span> going to be about using concurrency to improve performance. Putting that concern before developing a clean architecture that minimizes global complexity is premature optimization<A NAME="idd1e15312"></A>, the root of all evil (see <A class="docLink" HREF="0131429019_ch12.html#ch12">Chapter 12</A> for further discussion).</P>
<P class="docText">A closely related red herring is threads (that is, multiple concurrent processes sharing the same memory-address space). Threading is a performance hack. To avoid a long diversion here, we'll examine threads in more detail at the end of this chapter; the summary is that they do not reduce global complexity but rather <span class="docEmphasis">increase</span> it, and should therefore be avoided save under dire necessity.</P>
<P class="docText">Respecting the Rule of Modularity<A NAME="idd1e15331"></A><A NAME="idd1e15334"></A>, on the other hand, is <span class="docEmphasis">not</span> a red herring; doing so can make your programs—and your life—simpler. All the reasons for process partitioning are continuous with the reasons for module partitioning that we developed in <A class="docLink" HREF="0131429019_ch04.html#ch04">Chapter 4</A>.</P>
<P class="docText">Another important reason for breaking up programs into cooperating processes is for better security. Under Unix, programs that must be run by ordinary users, but must have write access to security-critical system resources, get that access through a feature called the <span class="docEmphasis">setuid bit</span><A NAME="idd1e15352"></A>.<sup class="docFootnote"><A class="docLink" HREF="#ch07en02">[2]</A></sup> Executable files are the smallest unit of code that can hold a setuid bit; thus, every line of code in a setuid executable must be trusted. (Well-written setuid programs, however, take all necessary privileged actions first and then drop their privileges back to user level for the remainder of their existence.)</P><blockquote><p class="docFootnote"><sup><A NAME="ch07en02">[2]</A></sup> A setuid program runs not with the privileges of the user calling it, but with the privileges of the owner of the executable. This feature can be used to give restricted, program-controlled access to things like the password file that nonadministrators should not be allowed to modify directly.</p></blockquote>
<P class="docText">Usually a setuid program only needs its privileges for one or a small handful of operations. It is often possible to break up such a program into cooperating processes, a smaller one that needs setuid and a larger one that does not. When we can do this, only the code in the smaller program has to be trusted. It is in significant part because this kind of partitioning and delegation is possible that Unix has a better security track record<sup class="docFootnote"><A class="docLink" HREF="#ch07en03">[3]</A></sup> than its competitors.</P><blockquote><p class="docFootnote"><sup><A NAME="ch07en03">[3]</A></sup> That is, a better record measured in security breaches per total machine hours of Internet exposure.</p></blockquote>

<ul></ul></td></tr></table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0131429019_ch07.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0131429019_ch07lev1sec2.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
