<html><head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="11.7 Applying Unix Interface-Design Patterns"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0131429019_ch11lev1sec6.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0131429019_ch11lev1sec8.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="ch11lev1sec7"></A>
<H3 class="docSection1Title" id="162666-941">11.7 Applying Unix Interface-Design Patterns</H3>
<P class="docText"><A NAME="idd1e27520"></A><A NAME="idd1e27525"></A>To facilitate scripting and pipelining (see <A class="docLink" HREF="0131429019_ch07.html#ch07">Chapter 7</A>) it is wise to choose the simplest interface pattern possible—that is, the pattern with the fewest channels to the environment and the least interactivity.</P>
<P class="docText">In many of the single-component patterns described above, it is emphasized that the pattern does not require user interaction after startup time. When the 'user' is often expected to be another program (and thus to lack the range and flexibility of a human brain) this is a very valuable feature, maximizing scriptability.</P>
<P class="docText">We've seen that different interface design patterns optimize for traits valuable in differing circumstances. In particular, there is a strong and inherent tension between the GUIs and design patterns appropriate for novice and nontechnical end-users (on the one hand) and those which serve expert users and maximize scriptability (on the other).</P>
<P class="docText">One way around this dilemma is to make programs with modes that exhibit more than one pattern. An excellent example is the Web browser <span class="docEmphasis">lynx</span>(1). It normally has a roguelike interface for interactive use, but can be called with a <TT>-dump</TT> option that makes it into a source, formatting a specified Web page to text dumped on standard output.</P>
<P class="docText">Such dual-mode interfaces, however, are not normally attempted when the program has to have a true GUI. The reasons for this are partly historical, but mostly have to do with controlling global complexity. GUIs tend to require complex startup configurations and large volumes of specialized code; these features coexist uneasily with the simpler patterns. In the worst case, a dual-mode GUI/non-GUI program could require two separate command-interpreter loops, with all that implies in the way of code bloat and potential inconsistencies.</P>
<P class="docText">Thus, when "choose the simplest pattern" conflicts with a requirement to produce a GUI, the Unix way is to split the program in two, applying the 'separated engine and interface' design pattern.</P>
<P class="docText">In fact, by combining a theme from <A class="docLink" HREF="0131429019_ch07.html#ch07">Chapter 7</A> with this idea, we can perhaps name a new design pattern emerging under Linux<A NAME="idd1e27565"></A> and other modern, open-source Unixes<A NAME="idd1e27569"></A> where GUIs are not merely a reluctant add-on but an active focus of lots of development effort.</P>
<A NAME="ch11lev2sec12"></A>
<H4 class="docSection2Title">11.7.1 The Polyvalent-Program Pattern</H4>
<P class="docText"><A NAME="idd1e27580"></A><A NAME="idd1e27583"></A><A NAME="idd1e27588"></A>A polyvalent program has the following traits:</P>
<span style="font-weight:bold"><OL class="docList" TYPE="1"><LI><span style="font-weight:normal"><P class="docList">The program's application-domain logic lives in a library with a documented API, which can be linked to other programs. The program's interface logic to the rest of the world is a thin layer over the library. Or perhaps there are several layers with different UI styles, any of which the library can be linked to.</P></span></LI><LI><span style="font-weight:normal"><P class="docList">One UI mode is a cantrip, compiler-like or CLI pattern that executes its interactive commands in batch mode.</P></span></LI><LI><span style="font-weight:normal"><P class="docList">One UI mode is a GUI<A NAME="idd1e27616"></A>, either linked directly to the core library or acting as as a separate process driving the CLI interface.</P></span></LI><LI><span style="font-weight:normal"><P class="docList">One UI mode is a scripting interface using a modern general-purpose scripting language like Perl<A NAME="idd1e27627"></A>, Python<A NAME="idd1e27631"></A>, or Tcl<A NAME="idd1e27635"></A>.</P></span></LI><LI><span style="font-weight:normal"><P class="docList">Optional extra: One UI mode is a roguelike interface using <span class="docEmphasis">curses</span>(3).</P></span></LI></OL></span>
<CENTER>
<H5 class="docFigureTitle"><A NAME="ch11fig04"></A>Figure 11.4. Caller/callee relationships in a polyvalent program.</H5>

<p class="docText">
<IMG BORDER="0" WIDTH="366" HEIGHT="289" src="FILES/11fig04.gif" ALT="graphics/11fig04.gif"></p>

</CENTER>
<P class="docText">Notably, the GIMP<A NAME="idd1e27663"></A> actually fulfills this pattern.</P>


<ul></ul></td></tr></table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0131429019_ch11lev1sec6.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0131429019_ch11lev1sec8.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
