<html><head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="17.6 Internationalization"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0131429019_ch17lev1sec5.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0131429019_ch17lev1sec7.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="ch17lev1sec6"></A>
<H3 class="docSection1Title">17.6 Internationalization</H3>
<P class="docText"><A NAME="idd1e38475"></A><A NAME="idd1e38478"></A>An in-depth discussion of code internationalization—designing software so the interface readily incorporates multiple languages and the vagaries of different character sets—would be out of scope for this book. However, a few lessons for good practice do stand out from Unix experience.</P>
<P class="docText">First, <span class="docEmphasis">separate the message base from the code</span>. Good Unix practice is to separate the message strings a program uses from its code. so that message dictionaries in other languages can be plugged in without modifying the code.</P>
<P class="docText">The best-known tool for this job is GNU <span class="docEmphasis">gettext</span><A NAME="idd1e38495"></A>, which requires that you wrap native-language strings that need to be internationalized in a special macro. The macro uses each string as a key into per-language dictionaries which can be supplied as separate files. If no such dictionaries are available (or if they are but the string lookup does not return a match), the macro simply returns its argument, implicitly falling back on the native language in the code.</P>
<P class="docText">While <span class="docEmphasis">gettext</span><A NAME="idd1e38504"></A> itself is messy and fragile as of mid-2003, its general philosophy is sound. For many projects, it is possible to craft a lighter-weight version of this idea with good results.</P>
<P class="docText">Second, there is a clear trend in modern Unixes to scrap all the historical cruft associated with multiple character sets and make applications natively speak UTF-8, the 8-bit shift encoding of the Unicode character set (as opposed to, say, making them natively speak 16-bit wide characters). The low 128 characters of UTF-8 are ASCII, and the low 256 are Latin-1, which means this choice is backward-compatible with the two most widely used character sets. The fact that XML and Java have made this choice helps, but the momentum is present even where XML and Java are not.</P>
<P class="docText">Third, beware of character ranges in regular expressions. The element <span class="docEmphStrong"><TT>[a-z]</TT></span> will not necessarily catch all lower-case letters if the script or program it's in is applied to (say) German, where the sharp-s or &szlig; character is considered lower-case but does not fall in that range; similar problems arise with French accented letters. Its safer to use <span class="docEmphStrong"><TT>[[:lower:]]</TT></span>. and other symbolic ranges described in the POSIX standard.<A NAME="idd1e38522"></A></P>

<a href="0131429019_18071533.html"><img src="FILES/pixel.gif" width="1" height="1" border="0"></a><ul></ul></td></tr></table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0131429019_ch17lev1sec5.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0131429019_ch17lev1sec7.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
