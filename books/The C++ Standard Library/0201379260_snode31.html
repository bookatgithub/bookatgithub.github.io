<HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="4.6 Header Files '&lt;cstddef&gt;' and '&lt;cstdlib&gt;'"-->
<LINK REL="stylesheet" href="FILES/sbolM.css">
</HEAD>
<BODY link="#354278" vlink="#000066" alink="#000080" topmargin="0">
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right"><a href="0201379260_snode30.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a> <a href="0201379260_cnode32.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></td></table>
<FONT><h3>4.6
Header Files <tt cLASS="monofont">&lt;cstddef&gt;</tt> and <tt CLASs="monofont">&lt;cstdlib&gt;</tt></h3>
			<P>Two header files compatible with C are often used in C++ programs: <TT Class="monofont">&lt;cstddef&gt;</tt> and <tt class="monofont">&lt;cstdlib&gt;.</tt> They are the new versions of the C header files <tt clasS="monofont">&lt;stddef.h&gt;</TT> and <TT ClASs="monofont">&lt;stdlib.h&gt;,</TT> and they define some common constants, macros, types, and functions.</p>

			<H4>4.6.1
Definitions in <TT CLAss="monofont">&lt;cstddef&gt;</tt></H4>
				<P><A href="0201379260_snode31.html#3">Table 4.6</a> shows the definitions of the <TT CLass="monofont">&lt;cstddef&gt;</tT> header file. <TT Class="monofont">NULL</tt> is often used to indicate that a pointer points to nothing. It is simply the value <tt class="monofont">0</tt> (either as an <tt clasS="monofont">int</TT> or as a <TT ClASs="monofont">long</TT>). Note that in C, <tT CLASS="monofont">NULL</tt> often is defined as <tt CLASs="monofont">(void*)0.</tt> This is incorrect in C++ because there the type of <tT CLAss="monofont">NULL</tt> must be an integer type. Otherwise, you could not assign <TT CLass="monofont">NULL</tt> to a pointer. This is because in C++ there is no automatic conversion from <tt class="monofont">void*</tt> to any other type.<font sizE="1"><SUP><A HrEF="#FOOTNOTE-10">[10]</a></SUp></FONT>
 Note that <TT clasS="monofont">NULL</TT> is also defined in the header files <Tt claSS="monofont">&lt;cstdio&gt;, &lt;cstdlib&gt;, &lt;cstring&gt;, &lt;ctime&gt;, &lt;cwchar&gt;,</TT> and <tt clASS="monofont">&lt;clocale&gt;.</Tt></p>
<blockquote><font size="1">
<p CLASS="footnote">
<SuP><A nAMe="FOOTNOTE-10">[10]</A></SUP>
Due to the mess with the type of <TT clasS="monofont">NULL,</TT> several people and style guides recommend not using <Tt claSS="monofont">NULL</TT> in C++. Instead, <tt clASS="monofont">0</Tt> or a special user-defined constant such as <tt class="monofont">NIL</tt> might work better. However, I use it, so you will find it in my examples in this book.</p>
</font></blockqUOTE>

					
				<A NaME="3"></a><P><TaBLE BORder="1" cELLSpaciNG="0" CEllpaDDINg="1" width="100%">
<caption><h5>Table 4.6. Definitions in <tt class="monofont">&lt;cstddef&gt;</TT></H5></CAPtIOn><COlGROUP Align="left" SPAN="2">
<tr>
<th VALIgn="top">
<foNT SIze="2"><b>Identifier</b>
								</font></th>
<th valign="top">
<fonT SIZE="2"><B>Meaning</b>
								</FOnT></Th>
</TR>
<TR>
<TD valiGN="top">
<FOnt siZE="2"><TT clasS="monofont">NULL</TT>
								</Font></td>
<td valign="top">
<font size="2">Pointer value for "not defined" or "no value"</FONT></TD>
</tR>
<Tr>
<TD vALIGN="top">
<Font sIZE="2"><Tt claSS="monofont">size_t</TT>
								</font></TD>
<TD valign="top">
<font size="2">Unsigned type for size units (such as number of elements)</font></td>
</tR>
<TR>
<TD VaLIgN="top">
<FoNT SIZE="2"><tt clASS="monofont">ptrdiff_t</Tt>
								</fonT></TD>
<Td valIGN="top">
<Font size="2">Signed type for differences of pointer</font></td>
</tr>
<tr>
<td vaLIGN="top">
<FOnT SiZE="2"><tT CLASS="monofont">offsetof()</tt>
								</foNT></TD>
<td vaLIGN="top">
<font SIZE="2">Offset of a member in a structure or union</font></td>
</tr>
</colgroup>
</table></P>

			
			<H4>4.6.2
Definitions in <TT CLaSS="monofont">&lt;cstdlib&gt;</tT></H4>
				<p><A href="0201379260_snode31.html#5">Table 4.7</A> shows the most important definitions of the <tt clASS="monofont">&lt;cstdlib&gt;</Tt> header file. The two constants <tt cLASS="monofont">EXIT_SUCCESS</tt> and <tt CLASs="monofont">EXIT_FAILURE</tt> are defined as arguments for <tt class="monofont">exit().</tt> They can also be used as a return value in <tt class="monofont">main().</tt></P>

				<P>The functions that are registered by <TT CLaSS="monofont">atexit()</tT> are called at normal program termination in reverse order of their registration. It doesn't matter whether the program exits due to a call of <Tt CLASS="monofont">exit()</Tt> or the end of <tt cLASS="monofont">main().</tt> No arguments are passed.</p>

				<a NAME="5"></a><p><taBLE Border="1" cellspacing="0" cellpADDING="1" wIDtH="100%">
<CaPTION><H5>Table 4.7. Definitions in <tt clASS="monofont">&lt;cstdlib&gt;</Tt></h5></caPTIOn><colGROUp align="left" span="2">
<tr>
<th valign="top">
<fONT SIZe="2"><B>Definition</B>
								</fONt></TH>
<TH VAlign="top">
<FONT size="2"><B>Meaning</B>
								</FOnt></th>
</TR>
<TR>
<td valign="top">
<font size="2"><tt claSS="monofont">exit (int</TT>
									<I>status)</I>
								</fONt></TD>
<tD VALIGn="top">
<fonT SIZe="2">Exit program (cleans up static objects)</fonT></TD>
</Tr>
<tr>
<tD VALign="top">
<font size="2"><tt class="monofont">EXIT.SUCCESS</tt>
								</fONT></TD>
<Td VAlIGn="top">
<FONT SIze="2">Indicates a normal end of the program</foNT></TD>
</tr>
<tr>
<TD VAlign="top">
<FONT size="2"><tt class="monofont">EXIT.FAILURE</tt>
								</font></td>
<td VALIGN="top">
<fONt SIzE="2">Indicates an abnormal end of the program</FONT></Td>
</tr>
<tR>
<TD ValigN="top">
<FONt sizE="2"><TT Class="monofont">abort()</tt>
								</font></td>
<td valign="top">
<fONT SIZe="2">Abort program (might force a crash on some systems)</FOnT></Td>
</TR>
<TR>
<TD valiGN="top">
<FOnt siZE="2"><TT clasS="monofont">atexit (void</TT>
									<I>(*function)</i><tt class="monofont">())</tt>
								</font></td>
<td valIGN="top">
<FONt SIzE="2">Call <I>function</i> on exit
</FONT></TD>
</tr>
</coLGROup>
</taBLE></P>

				<p>The <tt cLASS="monofont">exit()</tt> and <tt class="monofont">abort()</tt> functions are provided to terminate a program in any function without going back to <tt class="monofont">main():</tt></p>

				<UL>
<LI><P><Tt CLaSS="monofont">exit()</tT> destroys all static objects, flushes all buffers, closes all I/O channels, and terminates the program (including calling <TT CLAss="monofont">atexit()</tt> functions). If functions passed to <TT CLass="monofont">atexit()</tT> throw exceptions, <TT Class="monofont">terminate()</TT> is called.</P>
</Li>
<li><p><tt class="monofont">abort()</tt> terminates a program immediately with no clean up.</p>

					</li>
</ul>
				<p>None of these functions destroys local objects because no stack unwinding occurs. To ensure that the destructors of all local objects are called, you should use exceptions or the ordinary return mechanism to return to and exit <tt CLASS="monofont">main().</Tt></P>

			
		</FoNT>
 
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right"><a href="0201379260_snode30.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a> <a href="0201379260_cnode32.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></td></table>
</BODY></HTML>