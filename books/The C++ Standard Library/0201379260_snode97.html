<HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="12.3 Global Numeric Functions"-->
<LINK REL="stylesheet" href="FILES/sbolM.css">
</HEAD>
<BODY link="#354278" vlink="#000066" alink="#000080" topmargin="0">
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right"><a href="0201379260_snode96.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a> <a href="0201379260_cnode98.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></td></table>
<FONT><h3>12.3
Global Numeric Functions</h3>
			<p>The header files <tT CLAss="monofont">&lt;cmath&gt;</tt> and <TT CLass="monofont">&lt;cstdlib&gt;</tT> provide the global numeric functions that are inherited from C. <A href="0201379260_snode97.html#2">Tables 12.8</a> and <a href="0201379260_snode97.html#3">12.9</a> list these functions.<font size="1"><sup><a HREF="#FOOTNOTE-8">[8]</A></SuP></FoNT>
</p>
<BLOCKQuote><FONT size="1">
<P CLAss="footnote">
<suP><A NAme="FOOTNOTE-8">[8]</a></sup>
For historical reasons, some numeric functions are defined in <tt class="monofont">&lt;cstdlib&gt;</tt> rather than in<tt clasS="monofont"> &lt;cmath&gt;.</TT></P>
</FOnT></BlOCkQUOTE>

				
			<A name="2"></A><P><TAble bORDEr="1" celLSPAcing="0" cellpadding="1" width="100%">
<cAPTION><h5>Table 12.8. Functions of the Header File <TT cLAsS="monofont">&lt;cmath&gt;</TT></H5></CAptioN><COLgrouP ALIgn="left" spAN="2">
<TR>
<th valign="top">
<font size="2"><b>Function</b>
							</fonT></TH>
<TH VaLIgN="top">
<FoNT SIZE="2"><b>Effect</b>
							</foNT></TH>
</tr>
<tr>
<TD VAlign="top">
<FONT size="2"><tt class="monofont">pow()</tt>
							</font></td>
<td VALIGN="top">
<fONt SIzE="2">Power function</FONT></Td>
</tr>
<tR>
<TD ValigN="top">
<FONt sizE="2"><TT Class="monofont">exp()</tt>
							</font></td>
<td valign="top">
<fONT SIZe="2">Exponential function</FOnT></Td>
</TR>
<TR>
<TD valiGN="top">
<FOnt siZE="2"><TT clasS="monofont">sqrt()</TT>
							</Font></td>
<td valign="top">
<font size="2">Square root</FONT></TD>
</tR>
<Tr>
<TD vALIGN="top">
<Font sIZE="2"><Tt claSS="monofont">log()</TT>
							</font></TD>
<TD valign="top">
<font size="2">Natural logarithm</font></td>
</tR>
<TR>
<TD VaLIgN="top">
<FoNT SIZE="2"><tt clASS="monofont">log10()</Tt>
							</fonT></TD>
<Td valIGN="top">
<Font size="2">Base 10 logarithm</font></td>
</tr>
<tr>
<td vaLIGN="top">
<FOnT SiZE="2"><tT CLASS="monofont">sin()</tt>
							</foNT></TD>
<td vaLIGN="top">
<font SIZE="2">Sine</font></td>
</tr>
<tr>
<td valign="top">
<fonT SIZE="2"><Tt CLaSS="monofont">cos()</tT>
							</FONT></Td>
<td vALIGn="top">
<fonT SIZe="2">Cosine</fonT></TD>
</Tr>
<tr>
<td valign="top">
<font size="2"><tt CLASS="monofont">tan()</Tt>
							</FOnT></Td>
<TD VALIgn="top">
<foNT SIze="2">Tangent</foNT></TD>
</tr>
<tr>
<TD VAlign="top">
<font size="2"><tt class="monofont">sinh()</tt>
							</FONT></TD>
<tD VaLIgN="top">
<FONT Size="2">Hyperbolic sine</fONT></Td>
</tr>
<tR>
<TD ValigN="top">
<FONt size="2"><tt class="monofont">cosh()</tt>
							</font></td>
<tD VALIGn="top">
<FOnT SiZE="2">Hyperbolic cosine</FONT></td>
</tr>
<TR>
<TD valiGN="top">
<FOnt siZE="2"><TT class="monofont">tanh()</tt>
							</font></td>
<td valign="top">
<FONT SIzE="2">Hyperbolic tangent</FoNT></tD>
</TR>
<TR>
<Td valIGN="top">
<Font sIZE="2"><Tt claSS="monofont">asin()</TT>
							</font></td>
<td valign="top">
<font sizE="2">Arc sine</FONT></Td>
</TR>
<tR>
<Td VALIGN="top">
<font SIZE="2"><tt clASS="monofont">acos()</Tt>
							</fonT></TD>
<Td valign="top">
<font size="2">Arc cosine</font></td>
</TR>
<TR>
<TD vALiGN="top">
<fONT SIZe="2"><tt cLASS="monofont">atan()</tt>
							</foNT></TD>
<td vaLIGN="top">
<font size="2">Arc tangent</font></td>
</tr>
<tr>
<td vALIGN="top">
<FoNT sIZe="2"><TT CLASs="monofont">atan2()</tt>
							</fONT></Td>
<td vALIGn="top">
<fonT SIZe="2">Arc tangent of a quotient</font></td>
</tr>
<tr>
<td valign="top">
<foNT SIZE="2"><tT ClASs="monofont">ceil()</TT>
							</FONT></td>
<td VALIgn="top">
<foNT SIze="2">Floating-point value rounded up to the next integral value</foNT></TD>
</tr>
<tr>
<td valign="top">
<font size="2"><tT CLASS="monofont">floor()</tT>
							</FoNT></tD>
<TD VALign="top">
<fONT Size="2">Floating-point value rounded down to the next integral value</fONT></Td>
</tr>
<tR>
<TD Valign="top">
<font size="2"><tt class="monofont">fabs()</tT>
							</FONT></Td>
<TD vALiGN="top">
<FONT size="2">Absolute value of a floating-point value</FONT></td>
</tr>
<TR>
<TD valiGN="top">
<FOnt size="2"><tt class="monofont">fmod()</tt>
							</font></td>
<TD VALIgN="top">
<FoNT sIZE="2">Remainder after division for floating-point value (modulo)</FONt></td>
</tR>
<TR>
<Td valIGN="top">
<Font sIZE="2"><Tt class="monofont">frexp()</tt>
							</font></td>
<td valigN="top">
<FONT SiZE="2">Converts floating-point value to fractional and integral components</fONt></TD>
</TR>
<TR>
<td vaLIGN="top">
<font SIZE="2"><tt clASS="monofont">1dexp()</Tt>
							</font></td>
<td valign="top">
<font siZE="2">Multiplies floating-point value by integral power of two</FONT></tD>
</Tr>
<TR>
<tD VALIGn="top">
<fonT SIZe="2"><tt cLASS="monofont">modf()</tt>
							</foNT></TD>
<td valign="top">
<font size="2">Extracts signed integral and fractional values from floating-point value</font></tD>
</TR>
</COLgROuP>
</TaBLE></P>

			<P>In contrast to C, C++ overloads some operations for different types, which makes some numeric functions of C obsolete. For example, C provides <Tt claSS="monofont">abs(), labs(),</TT> and <tt clASS="monofont">fabs()</Tt> to process the absolute value of <tt cLASS="monofont">int, long,</tt> and <tt class="monofont">double,</tt> respectively. In C++, <tt class="monofont">abs()</tt> is overloaded for different data types so that you can use it for all data types.</p>

			<A NAME="3"></A><p><TAbLE bORDER="1" CellsPACIng="0" ceLLPAddinG="1" WIDth="100%">
<caption><h5>Table 12.9. Numeric Functions of the Header File <tt class="monofont">&lt;cstdlib&gt;</tt></h5></cAPTION><cOLgROuP ALIGN="left" span="2">
<TR>
<TH valiGN="top">
<FOnt siZE="2"><B>Function</B>
							</font></th>
<th valign="top">
<font sizE="2"><B>Effect</B>
							</FONt></TH>
</tR>
<Tr>
<TD VALIgn="top">
<foNT SIze="2"><tt CLASs="monofont">abs()</tt>
							</fONT></Td>
<td valign="top">
<font size="2">Absolute value of an <tt clASS="monofont">int</TT> value
</FoNT></tD>
</Tr>
<TR>
<TD VAlign="top">
<FONT size="2"><TT CLass="monofont">labs()</tT>
							</FONt></td>
<td valign="top">
<font size="2">Absolute value of a <tt CLASS="monofont">long</Tt>
							</FOnT></Td>
</TR>
<TR>
<TD valiGN="top">
<FOnt siZE="2"><TT clasS="monofont">div()</TT>
							</Font></td>
<td valign="top">
<font size="2">Quotient and remainder of <TT CLASs="monofont">int</TT> division
</fONt></TD>
</TR>
<TR>
<td vaLIGN="top">
<font SIZE="2"><tt clASS="monofont">ldiv()</Tt>
							</font></td>
<td valign="top">
<font siZE="2">Quotient and remainder of <TT CLaSS="monofont">long</tT> division
</FoNT></TD>
</TR>
<tr>
<td VALIgn="top">
<foNT SIze="2"><tt CLASs="monofont">srand()</tt>
							</font></td>
<td valign="top">
<font SIZE="2">Random number generator (seed new sequence)</FOnT></Td>
</TR>
<tR>
<TD VALign="top">
<fONT Size="2"><tT CLAss="monofont">rand()</tt>
							</FONT></td>
<td valign="top">
<font size="2">Random number generator (next number of sequence)</fonT></TD>
</TR>
</CoLGrOUp>
</TABLE></P>

			<p>In particular, all numeric functions for floating-point values are overloaded for types <tt cLASS="monofont">float, double,</tt> and <tt CLASs="monofont">long double.</tt> However, this has an important side effect: When you pass an integral value, the expression is ambiguous:<fONT Size="1"><sup><a href="#FOOTNOTE-9">[9]</a></sup></font>
:</p>
<bLOCKQUoTE><fONt SIZE="1">
<P Class="footnote">
<SUP><A name="FOOTNOTE-9">[9]</A></SUP>
Thanks to David Vandevoorde for pointing this out.</p>
</fonT></BLOckquote>

				
			<pre>
				
   std::sqrt(7)             <i>// AMBIGUOUS:</i> sqrt (float), sqrt (double), <i>or</i>
                            <i>//</i> sqrt (long double)<i>?</i>

			</pre>

			<P>Instead, you have to write</P>

			<PRE>
				
   std::sqrt(7.0)           <I>// OK</i>

			</PRe>

			<P>or, if you use a variable, you must write</P>

			<pRE>
				
   int x;
   ...
  std::sqrt(float(x))     <I>// OK</I>

			</PRe>

			<p>Library vendors handle this problem completely different: some don't provide the overloading, some provide standard conforming behavior (overload for all floating-point types), some overload for all numeric types, and some allow you to switch between different policies by using the preprocessor. Thus, in practice, the ambiguity might or might not occur. To write portable code, you should always write the code in a way that the arguments match exactly.</p>

		</fONT>
 
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right"><a href="0201379260_snode96.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a> <a href="0201379260_cnode98.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></td></table>
</BODY></HTML>