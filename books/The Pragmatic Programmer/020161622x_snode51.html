<HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="Checking the Balance"-->
<LINK REL="stylesheet" href="FILES/proquestM.css">
</HEAD>
<BODY link="#354278" vlink="#000066" alink="#000080" topmargin="0">
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right"><a href="020161622x_snode50.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a> <a href="020161622x_snode52.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></td></table>
<FONT><h3>Checking the Balance</h3>
			<p>Because Pragmatic Programmers trust no one, including ourselves, we feel that it is always a good idea to build code that actually checks that resources are indeed freed appropriately. For most applications, this normally means producing wrappers for each type of resource, and using these wrappers to keep track of all allocations and deallocations. At certain points in your code, the program logic will dictate that the resources will be in a certain state: use the wrappers to check this.</p>

			<P>For example, a long-running program that services requests will probably have a single point at the top of its main processing loop where it waits for the next request to arrive. This is a good place to ensure that resource usage has not increased since the last execution of the loop.</P>

			<P>At a lower, but no less useful level, you can invest in tools that (among other things) check your running programs for memory leaks. Purify (<A targET="_blank" HRef="http://www.rational.com/default.htm">http://www.rational.com</a>) and Insure++ (<a TARGet="_blank" href="http://www.parasoft.com/default.htm">http://www.parasoft.com</a>) are popular choices.</p>

			<h4>Related sections include:</h4>
				<ul>
<li><p><a href="020161622x_snode43.html">Design by Contract</A></P>
</LI>
<li><p><a href="020161622x_snode45.html">Assertive Programming</a></p>
</lI>
<LI><P><A href="020161622x_snode55.html">Decoupling and the Law of Demeter</A></P>

					</LI>
</ul>
			
			<h4>Challenges</h4>
				<UL>
<LI><p>Although there are no guaranteed ways of ensuring that you always free resources, certain design techniques, when applied consistently, will help. In the text we discussed how establishing a semantic invariant for major data structures could direct memory deallocation decisions. Consider how <a href="020161622x_snode43.html">Design by Contract</A>, could help refine this idea.</P>

					</li>
</ul>
			
		</font>
 
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right"><a href="020161622x_snode50.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a> <a href="020161622x_snode52.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></td></table>
</BODY></HTML>