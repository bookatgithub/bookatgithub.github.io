<HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="Blackboards"-->
<LINK REL="stylesheet" href="FILES/proquestM.css">
</HEAD>
<BODY link="#354278" vlink="#000066" alink="#000080" topmargin="0">
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right"><a href="020161622x_snode58.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a> <a href="020161622x_cnode60.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></td></table>
<FONT size="-1"><H3>Blackboards</H3>
			<P><I>The writing is on the wall…</i></p>

			<p>You may not usually associate <i>elegance</I> with police detectives, picturing instead some sort of doughnut and coffee cliché. But consider how detectives might use a <I>blackboard</I> to coordinate and solve a murder investigation.</P>

			<p>Suppose the chief inspector starts off by setting up a large blackboard in the conference room. On it, he writes a single question:</p>

			<blOCKQuote>
<p><p>H. D<font size="-2"><span clASS="bluedk">UMPTY</Span></foNt> (M<Font SIZE="-2"><Span cLASS="bluedk">ALE</span></FONT>, E<font SIZE="-2"><span class="bluedk">GG</span></font>): A<fonT SIZe="-2"><span ClAss="bluedk">CCIDENT OR MURDER</sPAN></FOnt>?</p>
</p>
</BLOCkquoTE>
			<P>Did Humpty really fall, or was he pushed? Each detective may make contributions to this potential murder mystery by adding facts, statements from witnesses, any forensic evidence that might arise, and so on. As the data accumulates, a detective might notice a connection and post that observation or speculation as well. This process continues, across all shifts, with many different people and agents, until the case is closed. A sample blackboard is shown in <A href="020161622x_snode59.html#1">Figure 5.6</A> on the next page.</P>

			<CEnter><h5>
<a name="1"></a>Figure 5.6. Someone found a connection between Humpty's gambling debts and the phone logs. Perhaps he was getting threatening phone calls.</h5><img bordeR="0" WIDth="371" heiGhT="176" src="FILES/05fig06.gif" ALT="graphics/05fig06.gif"></CEnter>

			<P>Some key features of the blackboard approach are:</P>

			<UL>
<li><p>None of the detectives needs to know of the existence of any other detective—they watch the board for new information, and add their findings.</p>
</LI>
<LI><p>The detectives may be trained in different disciplines, may have different levels of education and expertise, and may not even work in the same precinct. They share a desire to solve the case, but that's all.</p>

				</li>
<LI><P>Different detectives may come and go during the course of the process, and may work different shifts.</P>
</li>
<li><p>There are no restrictions on what may be placed on the blackboard. It may be pictures, sentences, physical evidence, and so on.</p>

				</li>
</ul>
			<p>We've worked on a number of projects that involved a workflow or distributed data gathering process. With each, designing a solution around a simple blackboard model gave us a solid metaphor to work with: all of the features listed above using detectives are just as applicable to objects and code modules.</p>

			<p>A blackboard system lets us decouple our objects from each other completely, providing a forum where knowledge consumers and producers can exchange data anonymously and asynchronously. As you might guess, it also cuts down on the amount of code we have to write.</p>

			<h4>Blackboard Implementations</h4>
				<p>Computer-based blackboard systems were originally invented for use in artificial intelligence applications where the problems to be solved were large and complex—speech recognition, knowledge-based reasoning systems, and so on.</p>

				<p>Modern distributed blackboard-like systems such as JavaSpaces and T Spaces [<a href="020161622x_snode86.html#58">URL 50</a>, <a href="020161622x_snode86.html#29">URL 25</a>] are based on a model of key/value pairs first popularized in Linda [<A href="020161622x_snode87.html#6">CG90</A>], where the concept was known as <I>tuple space.</I></P>

				<p>With these systems, you can store active Java objects—not just data—on the blackboard, and retrieve them by partial matching of fields (via templates and wildcards) or by subtypes. For example, suppose you had a type <tt cLASS="monofont">Author,</tt> which is a subtype of <tt CLASs="monofont">Person.</tt> You could search a blackboard containing <tT CLAss="monofont">Person</tt> objects by using an <tt class="monofont">Author</tt> template with a <tt class="monofont">lastName</TT> value of "Shakespeare." You'd get Bill Shakespeare the author, but not Fred Shakespeare the gardener.</P>

				<P>The main operations in JavaSpaces are:</p>

				<p><tabLe BordER="1" CELlspaCING="0" cellPADDing="1" wIDTH="100%">
<colgroup align="left" span="2">
<tr>
<tH VALign="top">
<foNt Size="2">Name</FONT></Th>
<th vALIGn="top">
<fonT SIZe="2">Function</fonT></TH>
</Tr>
<tr>
<td valign="top">
<font size="2"><b>read</B>
								</FONt></td>
<td VaLign="top">
<FONT Size="2">Search for and retrieve data from the space.</fONT></Td>
</tr>
<tR>
<TD ValigN="top">
<FONt size="2"><b>write</b>
								</font></td>
<td valigN="top">
<FONt size="2">Put an item into the space.</FoNt></td>
</TR>
<TR>
<Td valIGN="top">
<Font sIZE="2"><B>take</b>
								</fonT></TD>
<Td valign="top">
<font size="2">Similar to read, but removes the item from the space as well.</font></tD>
</TR>
<Tr>
<td vaLiGn="top">
<foNT SIZe="2"><b>notify</b>
								</fONT></Td>
<td vALIGn="top">
<fonT SIZe="2">Set up a notification to occur whenever an object is written that matches the template.</font></td>
</tr>
</colgroup>
</tabLE></P>

				<P>T Spaces supports a similar set of operations, but with different names and slightly different semantics. Both systems are built like a database product; they provide atomic operations and distributed transactions to ensure data integrity.</p>

				<p>Since we can store objects, we can use a blackboard to design algorithms based on a <i>flow of objects,</i> not just data. It's as if our detectives could pin people to the blackboard—witnesses themselves, not just their statements. Anyone can ask a witness questions in the pursuit of the case, post the transcript, and move that witness to another area of the blackboard, where he might respond differently (if you allow the witness to read the blackboard too).</p>

				<P>A big advantage of systems such as these is that you have a single, consistent interface to the blackboard. When building a conventional distributed application, you can spend a great deal of time crafting unique API calls for every distributed transaction and interaction in the system. With the combinatorial explosion of interfaces and interactions, the project can quickly become a nightmare.</p>

				<P><tabLE CELlspaCING="0" widtH="90%" BORder="1"><tR><TD><Center><h2>
Organizing Your Blackboard</h2></center>
					<p>When the detectives work on large cases, the blackboard may be- come cluttered, and it may become difficult to locate data on the board. The solution is to <i>partition</i> the blackboard and start to organize the data on the blackboard somehow.</p>

					<p>Different software systems handle this partitioning in different ways; some use fairly flat <i>zones</i> or <I>interests groups,</I> while others adopt a more hierarchical treelike structure.</P>

				</Td></tr></taBlE></p>

				<p>The blackboard style of programming removes the need for so many interfaces, making for a more elegant and consistent system.</p>

			
			<H4>Application Example</H4>
				<P>Suppose we are writing a program to accept and process mortgage or loan applications. The laws that govern this area are odiously complex, with federal, state, and local governments all having their say. The lender must prove they have disclosed certain things, and must ask for certain information—but must <I>not</I> ask certain other questions, and so on, and so on.</p>

				<p>Beyond the miasma of applicable law, we also have the following problems to contend with.</p>

				<uL>
<LI><P>There is no guarantee on the order in which data arrives. For instance, queries for a credit check or title search may take a substantial amount of time, while items such as name and address may be available immediately.</p>
</li>
<lI><P>Data gathering may be done by different people, distributed across different offices, in different time zones.</P>
</Li>
<li><p>Some data gathering may be done automatically by other systems. This data may arrive asynchronously as well.</P>
</LI>
<Li><p>Nonetheless, certain data may still be dependent on other data. For instance, you may not be able to start the title search for a car until you get proof of ownership or insurance.</p>
</li>
<li><p>Arrival of new data may raise new questions and policies. Suppose the credit check comes back with a less than glowing report; now you need these five extra forms and perhaps a blood sample.</p>

					</li>
</ul>
				<p>You can try to handle every possible combination and circumstance using a workflow system. Many such systems exist, but they can be complex and programmer intensive. As regulations change, the work-flow must be reorganized: people may have to change their procedures and hard-wired code may have to be rewritten.</p>

				<p>A blackboard, in combination with a rules engine that encapsulates the legal requirements, is an elegant solution to the difficulties found here. Order of data arrival is irrelevant: when a fact is posted it can trigger the appropriate rules. Feedback is easily handled as well: the output of any set of rules can post to the blackboard and cause the triggering of yet more applicable rules.</p>

				<div CLASs="note"><p claSs="notetitle"><B>Tip 43</b></p><p>

					<P>Use Blackboards to Coordinate Workflow</P>

				</P></DIv>
<br>
<bR>

				<P>We can use the blackboard to coordinate disparate facts and agents, while still maintaining independence and even isolation among participants.</P>

				<P>You can accomplish the same results with more brute-force methods, of course, but you'll have a more brittle system. When it breaks, all the king's horses and all the king's men might not get your program working again.</p>

				<h5>Related sections include:</h5>
					<uL>
<LI><P><a href="020161622x_snode31.html">The Power of Plain Text</A></P>
</Li>
<li><p><a href="020161622x_snode58.html">It's Just a View</a></p>

						</li>
</ul>
				
				<h5>Challenges</h5>
					<ul>
<lI><P>Do you use blackboard systems in the real world—the message board by the refrigerator, or the big whiteboard at work? What makes them effective? Are messages ever posted with a consistent format? Does it matter?</P>

						</Li>
</ul>
				
			
			<h4>Exercises</h4>
				<P><tAble BODER="0" cellSPACing="16" cELLPaddiNG="0">
					<TR valign="top"><td align="right"><font sizE="-1"><B>30.</B></Font></td><Td><Font SIZE="-1"><P> <a href="020161622x_cnode88.html#30">For each of the following applications, would a blackboard system be appropriate or not? Why?</A></P>

							<Ol typE="1">
<LI>
<P><b>Image processing.  </b>

										You'd like to have a number of parallel processes grab chunks of an image, process them, and put the completed chunk back.</p>
</lI>
<LI>
<P><b>Group calendaring.  </b>

										You've got people scattered across the globe, in different time zones, and speaking different languages, trying to schedule a meeting.</p>
</li>
<li>
<p><b>Network monitoring tool.  </b>

										The system gathers performance statistics and collects trouble reports. You'd like to implement some agents to use this information to look for trouble in the system.</p>

								</li>
</ol>

						</font></tD></TR>
				</Table></p>
			
		</FoNt>
 
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#CCCCCC">
<td><font color="black" size=1>I l<font color="#FF0000">@</font>ve RuBoard</td>
<td valign="top" class="v2" align="right"><a href="020161622x_snode58.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a> <a href="020161622x_cnode60.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></td></table>
</BODY></HTML>