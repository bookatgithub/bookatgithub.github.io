<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 2.11.&nbsp; Multithreading</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch02lev1sec10.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch02lev1sec12.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><a name="ch02lev1sec11"></a>

<h3 id="title-IDAP1RTF" class="docSection1Title">2.11. Multithreading</H3><p class="docText"><a name="iddle1475"></a><a name="iddle1478"></a><a name="iddle1775"></a></P>
<p class="docText">Neither the C++ standard nor the TR1 library makes any promises about the behavior of C++ code in multithreaded applications (see <a class="docLink" href="app03.html#app03">Appendix C</a>). However, library implementations typically try not to get in the way if you need to write multithreaded applications. This usually means avoiding coding practices that aren't safe in multithreaded applications. However, making <tt>shared_ptr</tt> and <tt>weak_ptr</tt> thread-safe requires internal synchronization, to prevent simultaneous conflicting changes to the reference counters. In practice, this means that <tt>shared_ptr</tt> and <tt>weak_ptr</tt> implementations that are thread-safe could be rather slow.<sup class="docFootnote"><a class="docLink" href="#ch02fn08">[8]</a></sup></P><blockquote><p class="docFootnote"><sup><a name="ch02fn08">[8]</a></sup> The most obvious implementation technique is to make every update a critical section, guarded by a mutex lock; that could be quite slow. It would be much faster to use atomic updates to avoid locking whenever possible, but the resulting code is rather fragile and notoriously difficult to test thoroughly.</p></blockquote>

<a href="31031536.html"><img src="images/pixel.jpg" alt="" width="1" height="1" border="0"></a></TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch02lev1sec10.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch02lev1sec12.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>