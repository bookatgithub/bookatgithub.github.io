<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Exercises</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch08lev1sec3.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch09.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><a name="ch08lev1sec4"></a>

<h3 id="title-IDANZDII" class="docSection1Title">Exercises</H3>
<a name="ch08lev2sec1"></a>
<H4 id="title-IDAWZDII" class="docSection2Title">Exercise 1</h4>
<P><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch08qa1q1"></a><B></b></TD><TD><p class="docText">For each of the following errors, write a simple test case containing the error, and try to compile it. In the error messages, look for the key words that relate to the error in the code.</p>
<div style="font-weight:bold"><ol class="docList" type="1"><LI><div style="font-weight:normal"><p class="docList">Attempting to construct a <tt>reference_wrapper&lt;int&gt;</tt> object from an object of type <tt>const int</tt></p></div></LI><LI><div style="font-weight:normal"><p class="docList">Attempting to modify an object of type <tt>int</tt> through an object of type <tt>reference_wrapper&lt;const int&gt;</tt></P></div></LI><li><div style="font-weight:normal"><p class="docList">Attempting to assign an object of type <tt>reference_wrapper&lt;T1&gt;</tt> to an object of type <tt>reference_wrapper&lt;T2&gt;</tt>, where <tt>T1</tt> and <tt>T2</tt> are unrelated types</p></div></li><li><div style="font-weight:normal"><p class="docList">Attempting to assign an object of type <tt>reference_wrapper&lt;T1&gt;</tt> to an object of type <tt>reference_wrapper&lt;T2&gt;</tt>, where <tt>T1</tt> is publicly derived from <tt>T2</tt></P></div></li><li><div style="font-weight:normal"><p class="docList">Attempting to use a <tt>reference_wrapper</tt> object to call an object that isn't callable</P></div></LI><LI><div style="font-weight:normal"><p class="docList">Attempting to call a target object with the wrong number of arguments</p></div></li></ol></div>
</TD></tr></table></p>

<a name="ch08lev2sec2"></a>
<h4 id="title-IDAK2DII" class="docSection2Title">Exercise 2</h4>
<p><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><td align="right" class="docText" width="50"><a name="ch08qa2q1"></a><b></b></td><td><p class="docText">Write a program that does the following:</p>
<div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">Creates an object of type <tt>int</tt> and initializes it to <tt>1</tt></P></div></li><LI><div style="font-weight:normal"><p class="docList">Creates an object of type <tt>int&amp;</tt> and an object of type <tt>const int&amp;</tt>, both referring to the object of type <tt>int</tt></p></div></li><li><div style="font-weight:normal"><p class="docList">Constructs a <tt>reference_wrapper</tt> object that refers to the <tt>int</tt> object and a <tt>reference_wrapper</tt> that refers to the <tt>int</tt> object but doesn't allow modification of that object</P></div></LI></ol></div>
</td></TR></table></p>

<a name="ch08lev2sec3"></a>
<H4 id="title-IDAH4DII" class="docSection2Title">Exercise 3</H4>
<P><table border="0" cellspacing="16" cellpadding="0"><TR valign="top"><td align="right" class="docText" width="50"><a name="ch08qa3q1"></a><B></b></td><TD><p class="docText">Write a program that does the following:</P>
<div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">Defines a base type and a type derived from the base type</P></div></LI><li><div style="font-weight:normal"><p class="docList">Creates an object of the derived type</p></div></li><li><div style="font-weight:normal"><p class="docList">Creates a reference to the base type that refers to the derived object</P></div></li><li><div style="font-weight:normal"><p class="docList">Creates a const reference to the base type that refers to the derived object</P></div></LI><LI><div style="font-weight:normal"><p class="docList">Constructs a <tt>reference_wrapper&lt;base&gt;</tt> object that refers to the derived object</p></div></li><LI><div style="font-weight:normal"><p class="docList">Constructs a <tt>reference_wrapper&lt;const base&gt;</tt> object that refers to the derived object</p></div></li><li><div style="font-weight:normal"><p class="docList">Creates a second object of the derived type</p></div></li><li><div style="font-weight:normal"><p class="docList">Uses <tt>ref</tt> to reassign the first <tt>reference_wrapper</tt> object to refer to the new object</p></div></li><li><div style="font-weight:normal"><p class="docList">Uses <tt>cref</tt> to reassign the second <tt>reference_wrapper</tt> object to refer to the new object</p></div></li></ol></div>
</td></TR></table></p>

<a name="ch08lev2sec4"></a>
<H4 id="title-IDA2AEII" class="docSection2Title">Exercise 4</h4>
<p><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch08qa4q1"></a><B></b></td><TD><p class="docText">Write a program that creates a <tt>reference_wrapper</tt> object that holds a pointer to the function <tt>std::cosf</tt>. Call the function several times, with different argument values, directly and through the <tt>reference_wrapper</tt> object, and verify that the results are the same.</p>
</TD></TR></table></P>

<a name="ch08lev2sec5"></a>

<H4 id="title-IDA3BEII" class="docSection2Title">Exercise 5</h4>
<P><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch08qa5q1"></a><B></b></td><TD><p class="docText">Write a program that defines a class with a member function that takes at least one argument, then creates a <tt>reference_wrapper</tt> object that holds a pointer to that member function. Create several objects of that class type, and call the member function several times, with different argument values, directly and through the <tt>reference_wrapper</tt> object, and verify that the results are the same.</P>
</td></tr></table></p>

<a name="ch08lev2sec6"></a>
<h4 id="title-IDAZCEII" class="docSection2Title">Exercise 6</H4>
<p><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch08qa6q1"></a><B></b></TD><td><p class="docText">Write a program that defines a class with a member function call operator that takes at least one argument, then creates a <tt>reference_wrapper</tt> object that holds an object of that type. Call the operator several times, with different argument values, directly and through the <tt>reference_wrapper</tt> object, and verify that the results are the same.</p>
</TD></tr></table></p>


</TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch08lev1sec3.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch09.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>