<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Exercises</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch12lev1sec10.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch13.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><a name="ch12lev1sec11"></a>

<h3 id="title-IDA2KTTF" class="docSection1Title">Exercises</h3>
<a name="ch12lev2sec44"></a>
<h4 id="title-IDAFLTTF" class="docSection2Title">Exercise 1</h4>
<p><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><td align="right" class="docText" width="50"><a name="ch12qa1q1"></a><b></b></td><td><p class="docText">Write a program that determines whether your implementation</p>
<div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">Sets <tt>errno</tt></p></div></li><LI><div style="font-weight:normal"><p class="docList">Raises a floating-point exception</p></div></LI></ol></div>
<p class="docText">when a floating-point error occurs in the library functions.</p>
</td></TR></table></P>

<a name="ch12lev2sec45"></a>
<h4 id="title-IDANMTTF" class="docSection2Title">Exercise 2</h4>
<p><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch12qa2q1"></a><B></b></TD><TD><p class="docText">Check the results of the following function calls:</p>
<div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList"><tt>fmod(1.0, 0.0)</tt></P></div></LI><li><div style="font-weight:normal"><p class="docList"><tt>acosh(0.5)</tt></p></div></LI><LI><div style="font-weight:normal"><p class="docList"><tt>atan2(0.0, 0.0)</tt></p></div></li><li><div style="font-weight:normal"><p class="docList"><tt>log(-1.0)</tt></p></div></LI><li><div style="font-weight:normal"><p class="docList"><tt>sqrt(-1.0)</tt></P></div></li><li><div style="font-weight:normal"><p class="docList"><tt>tgamma(-1.0)</tt></p></div></li><li><div style="font-weight:normal"><p class="docList"><tt>laguerre(1, -1.0)</tt></p></div></li><li><div style="font-weight:normal"><p class="docList"><tt>legendre(1, 2.0)</tt></p></div></li></ol></div>
</td></tr></table></p>

<a name="ch12lev2sec46"></a>
<h4 id="title-IDALOTTF" class="docSection2Title">Exercise 3</h4>
<p><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><td align="right" class="docText" width="50"><a name="ch12qa3q1"></a><B></b></td><TD><p class="docText">Assume a floating-point representation with <span class="docEmphasis">&#946;</span> = 10 and <span class="docEmphasis">p</span> = 3. Thus, normalized values can be represented in the usual exponential notation: .ddd x 10<sup>e</sup>. Also assume that the maximum allowable exponent is 9 and that the minimum allowable exponent is - 9.</p>
<div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">What are the normalized representations of the following values?</P><div style="font-weight:bold"><ol class="docList" type="a"><LI><div style="font-weight:normal"><p class="docList">.1</p></div></li><li><div style="font-weight:normal"><p class="docList">1</p></div></LI><LI><div style="font-weight:normal"><p class="docList">10</P></div></LI><li><div style="font-weight:normal"><p class="docList">100</p></div></LI></ol></div></div></LI><li><div style="font-weight:normal"><p class="docList">What are the normalized representations of the values of the following expressions?</p><div style="font-weight:bold"><ol class="docList" type="a"><LI><div style="font-weight:normal"><p class="docList">.600 x 10<sup>3</sup> + .600 x 10<sup>3</sup></P></div></li><li><div style="font-weight:normal"><p class="docList">.500 x 10<sup>0</sup> + .500 x 10<sup>-1</sup></p></div></li><LI><div style="font-weight:normal"><p class="docList">.500 x 10<sup>0</sup> + .500 x 10<sup>-2</sup></p></div></LI><li><div style="font-weight:normal"><p class="docList">.500 x 10<sup>0</sup> + .500 x 10<sup>-3</sup></p></div></li><li><div style="font-weight:normal"><p class="docList">.100 x 10<sup>1</sup> + .100 x 10<sup>x1</sup></p></div></li><li><div style="font-weight:normal"><p class="docList">.123 x 10<sup>3</sup> + .123 x 10<sup>2</sup></p></div></li><li><div style="font-weight:normal"><p class="docList">.123 x 10<sup>3</sup> + .123 x 10<sup>1</sup></p></div></li><li><div style="font-weight:normal"><p class="docList">.123 x 10<sup>3</sup> + .123 x 10<sup>0</sup></p></div></li></ol></div></div></li><li><div style="font-weight:normal"><p class="docList">Assuming that the floating-point representation does not support de-normalized values, what are the results of the following expressions?</p><div style="font-weight:bold"><ol class="docList" type="a"><LI><div style="font-weight:normal"><p class="docList">.123 x 10<sup>-8</sup>/.100 x 10<sup>2</sup></p></div></LI><li><div style="font-weight:normal"><p class="docList">.123 x 10<sup>-8</sup>/.100 x 10<sup>3</sup></p></div></LI><LI><div style="font-weight:normal"><p class="docList">.123 x 10<sup>-8</sup>/.100 x 10<sup>4</sup></p></div></li><li><div style="font-weight:normal"><p class="docList">.123 x 10<sup>-8</sup>/.100 x 10<sup>5</sup></p></div></LI></ol></div></div></LI><LI><div style="font-weight:normal"><p class="docList">Assuming now that the floating-point representation does support de-normalized values, what are the results of the following expressions?</P><div style="font-weight:bold"><ol class="docList" type="a"><li><div style="font-weight:normal"><p class="docList">.123 x 10<sup>-8</sup>/.100 x 10<sup>2</sup></p></div></LI><LI><div style="font-weight:normal"><p class="docList">.123 x 10<sup>-8</sup>/.100 x 10<sup>3</sup></p></div></li><LI><div style="font-weight:normal"><p class="docList">.123 x 10<sup>-8</sup>/.100 x 10<sup>4</sup></P></div></li><li><div style="font-weight:normal"><p class="docList">.123 x 10<sup>-8</sup>/.100 x 10<sup>5</sup></p></div></li></ol></div></div></LI></ol></div>
</td></TR></table></p>

<a name="ch12lev2sec47"></a>
<h4 id="title-IDA2UTTF" class="docSection2Title">Exercise 4</h4>
<p><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><td align="right" class="docText" width="50"><a name="ch12qa4q1"></a><b></b></td><td><p class="docText">Write a program that uses the macros defined in the header <tt>&lt;float.h&gt;</tt> (or <tt>&lt;cfloat&gt;</tt>) to determine the following properties of each of the three types <tt>float</tt>, <tt>double</tt>, <tt>long double</tt> for your implementation:</p>
<div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">The radix of the floating-point representation</p></div></li><li><div style="font-weight:normal"><p class="docList">The number of digits, in base radix, in the significand</p></div></li><li><div style="font-weight:normal"><p class="docList">The minimum and maximum exponents for nonzero normalized representable values</p></div></LI><li><div style="font-weight:normal"><p class="docList">The number of decimal digits representable in the significand</P></div></li><li><div style="font-weight:normal"><p class="docList">The minimum positive representable value</P></div></LI><li><div style="font-weight:normal"><p class="docList">The maximum representable finite value</p></div></li></ol></div>
</td></TR></table></P>

<a name="ch12lev2sec48"></a>
<H4 id="title-IDAXWTTF" class="docSection2Title">Exercise 5</H4>
<p><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch12qa5q1"></a><B></b></td><td><p class="docText">Write a program that uses <tt>std::numeric_limits</tt> to determine the properties listed in the previous exercise.</P>
</TD></tr></table></p>

<a name="ch12lev2sec49"></a>

<h4 id="title-IDAUXTTF" class="docSection2Title">Exercise 6</h4>
<P><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch12qa6q1"></a><b></b></td><td><p class="docText">Write a program that computes the smallest value of type <tt>double</tt> that can be added to <tt>1.0</tt> to produce a value that is different from <tt>1.0</tt>. Is this value the same as <tt>numeric_limits&lt;double&gt;::epsilon()</tt>? Should it be?</p>
</td></tr></table></p>

<a name="ch12lev2sec50"></a>
<h4 id="title-IDAXYTTF" class="docSection2Title">Exercise 7</h4>
<p><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><td align="right" class="docText" width="50"><a name="ch12qa7q1"></a><b></b></td><td><p class="docText">Write a program that determines which of the standard rounding modes are supported by your implementation.</p>
</td></tr></table></P>

<a name="ch12lev2sec51"></a>
<h4 id="title-IDAOZTTF" class="docSection2Title">Exercise 8</H4>
<p><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch12qa8q1"></a><B></b></td><td><p class="docText">Write a program that converts each of the values <tt>-1.5</tt>, <tt>-0.5</tt>, <tt>0.5</tt>, and <tt>1.5</tt> to an integer value, using each of the rounding modes supported by your implementation. Explain the results.</p>
</td></TR></table></P>

<a name="ch12lev2sec52"></a>
<H4 id="title-IDAO0TTF" class="docSection2Title">Exercise 9</H4>
<p><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch12qa9q1"></a><B></b></td><td><p class="docText">Write a program that rounds each of the values <tt>-1.5</tt>, <tt>-0.5</tt>, <tt>0.5</tt>, and <tt>1.5</tt>, using the default rounding mode and calling each of the functions <tt>ceil</tt>, <tt>floor</tt>, <tt>nearbyint</tt>, <tt>rint</tt>, <tt>lrint</tt>, <tt>llrint</tt>, <tt>round</tt>, <tt>lround</tt>, <tt>llround</tt>, and <tt>TRunc</tt>.</P>
</td></tr></table></p>

<a name="ch12lev2sec53"></a>
<h4 id="title-IDAC2TTF" class="docSection2Title">Exercise 10</H4>
<p><table border="0" cellspacing="16" cellpadding="0"><TR valign="top"><td align="right" class="docText" width="50"><a name="ch12qa10q1"></a><b></b></td><td><p class="docText">Write a program that consists of the following functions:</p>
<div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">A function <tt>int dround(double)</tt> that uses the default rounding mode to return its argument rounded to an integer value</p></div></li><li><div style="font-weight:normal"><p class="docList">A function <tt>int uround(double)</tt> that uses the function <tt>lrint</tt> to round its argument upward and return the result; on return the default rounding mode should be unchanged, even if an exception was thrown</p></div></li><li><div style="font-weight:normal"><p class="docList">A <tt>main</tt> function that calls <tt>dround(1.1)</tt> and displays the result, then calls <tt>uround(1.1)</tt> and displays the result, and, finally, calls <tt>dround (1.1)</tt> again and displays the result</p><p class="docList">Make sure that the two calls to <tt>dround</tt> return the same value.</p></div></li></ol></div>
</td></tr></table></p>

<a name="ch12lev2sec54"></a>
<H4 id="title-IDA53TTF" class="docSection2Title">Exercise 11</h4>
<P><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><td align="right" class="docText" width="50"><a name="ch12qa11q1"></a><B></b></TD><td><p class="docText">Write a program that determines which of the standard floating-point exceptions are supported by your implementation.</p>
</td></tr></table></P>

<a name="ch12lev2sec55"></a>
<H4 id="title-IDAW4TTF" class="docSection2Title">Exercise 12</H4>
<P><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><td align="right" class="docText" width="50"><a name="ch12qa12q1"></a><B></b></TD><td><p class="docText">Write a program that performs mathematical operations that raise each of the floating-point exceptions supported by your implementation and verifies that the exception was raised.</p>
</TD></TR></table></p>

<a name="ch12lev2sec56"></a>
<h4 id="title-IDAN5TTF" class="docSection2Title">Exercise 13</h4>
<p><table border="0" cellspacing="16" cellpadding="0"><TR><td></TD><td></td></tr><tr valign="top"><td align="right" class="docText" width="50"><a name="ch12qa13q1"></a><b></b></td><td><p class="docText">Write a program containing a function that raises a floating-point exception of your choice and a second function that calls the first but guarantees that on return, all floating-point exceptions are cleared, even if the return is through a C++ exception. The <tt>main</tt> function should check that the floating-point exceptions are cleared.</p>
</td></tr></table></p>

<a name="ch12lev2sec57"></a>
<h4 id="title-IDALI1GB" class="docSection2Title">Exercise 14</h4>
<p><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><td align="right" class="docText" width="50"><a name="ch12qa14q1"></a><b></b></TD><td><p class="docText">Write a program containing a function that raises a floating-point exception of your choice and a second function that calls the first but guarantees that on return, the floating-point status has been restored to its state on entry to the function, even if the return is through a C++ exception. The <tt>main</tt> function should check that the floating-point status is unchanged.</P>
</td></tr></table></P>

<a name="ch12lev2sec58"></a>
<H4 id="title-IDAFJ1GB" class="docSection2Title">Exercise 15</h4>
<p><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><td align="right" class="docText" width="50"><a name="ch12qa15q1"></a><B></b></TD><TD><p class="docText">Write a program containing a function that raises a floating-point exception of your choice and a second function that calls the first but defers raising of floating-point exceptions until it returns.</P>
</td></tr></table></P>

<a name="ch12lev2sec59"></a>
<H4 id="title-IDA2J1GB" class="docSection2Title">Exercise 16</h4>
<p><table border="0" cellspacing="16" cellpadding="0"><TR valign="top"><TD align="right" class="docText" width="50"><a name="ch12qa16q1"></a><b></b></td><td><p class="docText">Write a program containing a function that changes the rounding mode and raises a floating-point exception of your choice and a second function that calls the first but guarantees that on return, the floating-point status and the rounding mode have been restored to their states on entry to the function, even if the return is through a C++ exception. The <tt>main</tt> function should check that the floating-point status and the rounding mode are unchanged.</p>
</TD></tr></table></P>

<a name="ch12lev2sec60"></a>
<h4 id="title-IDAWK1GB" class="docSection2Title">Exercise 17</h4>
<p><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><td align="right" class="docText" width="50"><a name="ch12qa17q1"></a><b></b></td><td><p class="docText">Write a function template that returns a <tt>string</tt> object that holds <tt>&quot;infinite&quot;</tt>, <tt>&quot;not-a-number&quot;</tt>, <tt>&quot;normal&quot;</tt>, <tt>&quot;denormal&quot;</tt>, or <tt>&quot;zero&quot;</tt>, depending on the value of its argument. Test it with the following values:</p>
<div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList"><tt>1.0</tt></p></div></li><li><div style="font-weight:normal"><p class="docList"><tt>0.0</tt> 3. <tt>numeric_limits&lt;double&gt;::infinity()</tt></p></div></li><li><div style="font-weight:normal"><p class="docList"><tt>-numeric_limits&lt;double&gt;::infinity()</tt></p></div></li><LI><div style="font-weight:normal"><p class="docList"><tt>numeric_limits&lt;double&gt;::quiet_NaN()</tt></p></div></LI><li><div style="font-weight:normal"><p class="docList"><tt>numeric_limits&lt;double&gt;::denorm_min()</tt></p></div></LI></ol></div>
</TD></tr></table></p>

<a name="ch12lev2sec61"></a>
<h4 id="title-IDAXM1GB" class="docSection2Title">Exercise 18</h4>
<P><table border="0" cellspacing="16" cellpadding="0"><TR valign="top"><TD align="right" class="docText" width="50"><a name="ch12qa18q1"></a><B></b></td><td><p class="docText">Write a comparison function that takes two arguments of type <tt>double</tt> and imposes a strict weak ordering on all possible argument values. In particular, make sure that it handles NaN values consistently. Write a program that uses this function as the comparator for a <tt>std::set&lt;double&gt;</tt>, and verify that it works sensibly.</P>
</TD></tr></table></p>

<a name="ch12lev2sec62"></a>
<H4 id="title-IDATN1GB" class="docSection2Title">Exercise 19</H4>
<p><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><td align="right" class="docText" width="50"><a name="ch12qa19q1"></a><b></b></TD><td><p class="docText">What is the type of the returned value of each of the following function calls?</P>
<div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList"><tt>abs(1)</tt></p></div></li><li><div style="font-weight:normal"><p class="docList"><tt>abs(1.0)</tt></p></div></li><li><div style="font-weight:normal"><p class="docList"><tt>cos(1)</tt></p></div></li><li><div style="font-weight:normal"><p class="docList"><tt>cos(1.0F)</tt></p></div></li><li><div style="font-weight:normal"><p class="docList"><tt>cos(1.0)</tt></p></div></li><li><div style="font-weight:normal"><p class="docList"><tt>cos(1.0L)</tt></p></div></li><LI><div style="font-weight:normal"><p class="docList"><tt>cosf(1.0L)</tt></p></div></LI><li><div style="font-weight:normal"><p class="docList"><tt>cosl(1)</tt></p></div></LI><LI><div style="font-weight:normal"><p class="docList"><tt>fmax(1.0, 2.0)</tt></p></div></li><li><div style="font-weight:normal"><p class="docList"><tt>fmax(1.0F, 2.0F)</tt></p></div></LI><LI><div style="font-weight:normal"><p class="docList"><tt>fmax(1.0F, 2.0)</tt></P></div></LI><li><div style="font-weight:normal"><p class="docList"><tt>fmax(1, 2.0)</tt></p></div></LI><LI><div style="font-weight:normal"><p class="docList"><tt>fmax(1, 2.0F)</tt></p></div></li></ol></div>
<p class="docText">Write a program to verify your answers.</P>
</TD></tr></table></p>


<a href="31031536.html"><img src="images/pixel.jpg" alt="" width="1" height="1" border="0"></a></TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch12lev1sec10.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch13.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>