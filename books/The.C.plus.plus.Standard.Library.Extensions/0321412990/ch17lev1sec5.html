<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Exercises</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch17lev1sec4.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch18.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><a name="ch17lev1sec5"></a>
<h3 id="title-IDA1DZGB" class="docSection1Title">Exercises</h3>
<a name="ch17lev2sec10"></a>
<h4 id="title-IDAEEZGB" class="docSection2Title">Exercise 1</h4>
<p><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><td align="right" class="docText" width="50"><a name="ch17qa1q1"></a><b></b></td><td><p class="docText">For each of the following errors, write a simple test case containing the error, and try to compile it. In the error messages, look for the key words that relate to the error in the code.</p>
<div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">Calling <tt>regex_match</tt> with a pointer to a null-terminated character sequence with a character type that's different from the element type used to define the regular expression object</p></div></li><LI><div style="font-weight:normal"><p class="docList">Calling <tt>regex_match</tt> with a <tt>basic_string</tt> object holding a character type that's different from the element type used to define the regular expression object</p></div></LI><li><div style="font-weight:normal"><p class="docList">Calling <tt>regex_match</tt> with a pair of iterators of type <tt>Iter</tt>, where the element type used to define the regular expression object is different from <tt>iterator_traits&lt;Iter&gt;::value_type</tt></p></div></LI><LI><div style="font-weight:normal"><p class="docList">Calling <tt>regex_match</tt> with a pair of forward iterators</p></div></li></ol></div>
</td></tr></table></P>

<a name="ch17lev2sec11"></a>

<H4 id="title-IDAGGZGB" class="docSection2Title">Exercise 2</H4>
<P><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><td align="right" class="docText" width="50"><a name="ch17qa2q1"></a><B></b></TD><td><p class="docText">The regular expression <tt>&quot;http://([^/:]+)(:(\d+))?(/.*)?&quot;</tt> can be used to recognize an HTTP hostname.<sup class="docFootnote"><a class="docLink" href="#ch17fn3">[3]</a></sup></p><blockquote><p class="docFootnote"><sup><a name="ch17fn3">[3]</a></sup> This one is somewhat limited. For a good discussion of the problems involved in recognizing hostnames, see [Fri02].</P></blockquote>
<div style="font-weight:bold"><ol class="docList" type="1"><LI><div style="font-weight:normal"><p class="docList">Write a program that uses <tt>regex_match</tt> to check each of the following character sequences to see whether the entire sequence is a valid HTTP hostname.</p><div style="font-weight:bold"><ol class="docList" type="a"><li><div style="font-weight:normal"><p class="docList"><tt>&quot;<a class="docLink" target="_blank" href="http://www.petebecker.com">www.petebecker.com</a>&quot;</tt></p></div></li><LI><div style="font-weight:normal"><p class="docList"><tt>&quot;<a class="docLink" target="_blank" href="http://www.petebecker.com">http://www.petebecker.com</a>&quot;</tt></p></div></LI><li><div style="font-weight:normal"><p class="docList"><tt>&quot;Answers are at <a class="docLink" target="_blank" href="http://www.petebecker.com:80">http://www.petebecker.com:80</a>.&quot;</tt></p></div></li><li><div style="font-weight:normal"><p class="docList"><tt>&quot;<a class="docLink" target="_blank" href="http://www.petebecker.com">http://www.petebecker.com</a> has the answers.&quot;</tt></p></div></li></ol></div></div></li><li><div style="font-weight:normal"><p class="docList">Write a program that uses <tt>regex_search</tt> to check each of the preceding character sequences to see whether the entire sequence is a valid HTTP hostname.</p></div></li><li><div style="font-weight:normal"><p class="docList">Write a program that uses <tt>regex_search</tt> to check each of the preceding character sequences to see whether the sequence contains a valid HTTP hostname.</p></div></li><li><div style="font-weight:normal"><p class="docList">Write a program that uses <tt>regex_match</tt> to check each of the preceding character sequences to see whether the sequence contains a valid HTTP hostname.</p></div></li></ol></div>
</td></tr></table></P>

<a name="ch17lev2sec12"></a>
<h4 id="title-IDAZJZGB" class="docSection2Title">Exercise 3</H4>
<p><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><TD align="right" class="docText" width="50"><a name="ch17qa3q1"></a><B></b></td><td><p class="docText">The UNIX utility <tt>egrep</tt> searches files for occurrences of text that match a regular expression. Try your hand at implementing some of its options.</p>
<div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">Write a program that takes two arguments from the command line and treats the first argument as a regular expression and the second as the name of a file. The program should search through the named file, writing out each line that contains text that matches the regular expression.</P></div></LI><LI><div style="font-weight:normal"><p class="docList">Change the program so that it writes out lines that do not contain text that matches the regular expression.</P></div></li><li><div style="font-weight:normal"><p class="docList">Change the program so that, instead of writing out each line that has a match, it counts them and writes out the number of matched lines when it finishes.</P></div></LI><li><div style="font-weight:normal"><p class="docList">Change the program so that it writes out only lines in which the regular expression matches a complete word.</p></div></LI><LI><div style="font-weight:normal"><p class="docList">Change the program to make the match case insensitive.</p></div></li></ol></div>
</td></tr></table></P>

<a name="ch17lev2sec13"></a>
<h4 id="title-IDAQLZGB" class="docSection2Title">Exercise 4</H4>
<p><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><td align="right" class="docText" width="50"><a name="ch17qa4q1"></a><b></b></td><td><p class="docText">Suppose that you have an application that writes a log file where each line is in one of three forms. Successful operations are logged in a line beginning with the word <span class="docEmphasis">success</span>, followed by a description of what was done. Failures are logged in one of two forms. Some failures are logged with the word <span class="docEmphasis">error</span>, followed by a space, followed by a one-, two-, or three-digit decimal error code. Other failures are logged with a generic message beginning with the word <span class="docEmphasis">error</span>, followed by a space, followed by ordinary text describing the error; this text will never begin with a digit. Write a program that scans the log file, looking for error messages with error codes, and reports the number of messages for each error code that it encountered. You don't need to parse the error message to do this; simply count the number of times each matching text sequence occurs.</p>
</td></tr></table></p>

<a name="ch17lev2sec14"></a>
<h4 id="title-IDAOMZGB" class="docSection2Title">Exercise 5</h4>
<p><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><td align="right" class="docText" width="50"><a name="ch17qa5q1"></a><b></b></td><td><p class="docText">Suppose that you need to summarize all the error messages in a log file that was written in the format given in the previous example. That is, the program should determine how many error messages had each error code and how many had no error code. You can reuse most of the previous program for this exercise. If the test from the previous program fails but the text line begins with <span class="docEmphasis">error</span> the line is a generic error message. Add a test after the one that recognizes error codes to check for generic error messages, and count them separately. Make sure that the program handles such lines as &quot;success, no error detected&quot; correctly.</P>
</td></TR></table></p>

<a name="ch17lev2sec15"></a>
<h4 id="title-IDAINZGB" class="docSection2Title">Exercise 6</H4>
<P><table border="0" cellspacing="16" cellpadding="0"><tr valign="top"><td align="right" class="docText" width="50"><a name="ch17qa6q1"></a><b></b></td><TD><p class="docText">The code for the previous exercise tests for the leading string <span class="docEmphasis">error</span> twice. That's annoying and often inefficient. Rewrite the code to check first for the leading text <span class="docEmphasis">error</span>, then for an error code, and classify the message accordingly.</P>
</TD></TR></table></p>


</TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch17lev1sec4.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch18.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>