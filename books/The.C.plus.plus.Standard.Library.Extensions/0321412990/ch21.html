<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Chapter 21.&nbsp; Customizing Regular Expressions</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch20lev1sec4.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch21lev1sec1.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><a name="ch21"></a>


<h2 id="title-IDAPAP3G" class="docChapterTitle">Chapter 21. Customizing Regular Expressions</h2>


<blockquote>
<p class="docText"><a name="iddle1632"></a><a name="iddle1639"></a>&quot;When I use a word,&quot; Humpty Dumpty said, in rather a scornful tone, &quot;it means just what I choose it to meanneither more nor less.&quot;</p>

<p class="docText"><span class="docEmphasis">Through the Looking-Glass</span> <br>L<span class="docEmphSmaller">EWIS</span> C<span class="docEmphSmaller">ARROLL</span></p></blockquote>
<p class="docText">In <a class="docLink" href="ch16.html#ch16">Chapter 16</a>, we saw that the template <tt>basic_regex&lt;Elem&gt;</tt> has a second template argument, with a default type <tt>regex_traits&lt;Elem&gt;</tt>. In this chapter, we look at that parameter in more detail. As a reminder, the declaration of <tt>basic_regex</tt> looks like this:</p>
<div class="docText"><pre>    <span class="docEmphasis">// CLASS TEMPLATE basic_regex</span>
template &lt;class Elem,
    class RXtraits = regex_traits &lt;Elem&gt; &gt;
    class <span class="docEmphasis">basic_regex</span>;
</pre></div><br>
<p class="docText">Each <tt>basic_regex</tt> object contains an object of type <tt>RXtraits</tt>, which determines how the <tt>basic_regex</tt> object interprets some features of the regular expression grammar. The default template, <tt>regex_traits&lt;Elem&gt;</tt>, is required to work only when <tt>Elem</tt> is <tt>char</tt> or <tt>wchar_t</tt>. If you write your own traits type, you can support additional character types, provide a hook for your own type of locale objects, change the rules for character matching, change the collation rules, and add or remove character classifications. If you're ambitious, you could, for example, add Unicode support to the <tt>basic_regex</tt> template. Simply pick a suitable character type, such as the up-and-coming <tt>char32_t</tt>, write a class that provides the necessary traitslet's call it <tt>unicode_traits</tt>and then create a regular expression object: <tt>basic_regex&lt;char32_t, unicode_-traits&gt;</tt>.</p>
<p class="docText">The following sections each present a related subset of the requirements for a <span class="docEmphasis">regular expression traits class</span>. The required elements are presented as code snippets that must be valid for a conforming traits class. The list of elements is followed by a discussion of how the rest of the regular expression library uses these elements, then by the specific choices made in the TR1 library for the required traits types, <tt>regex_traits&lt;char&gt;</tt> and <tt>regex_traits&lt;wchar_t&gt;</tt>.</p>
<p class="docText">The last section has a synopsis of the class template <tt>regex_traits</tt>, so that you can see all these elements in one place.</p>
<p class="docText">The code snippets use the following names, with their specified meanings:</p>
<ul><li><p class="docList"><tt>tr</tt>: the name of the traits type</P></li><LI><p class="docList"><tt>ctr</tt>: a <tt>const</tt> object of type <tt>tr</tt></p></LI><LI><p class="docList"><tt>tr</tt>: an object of type <tt>tr</tt></p></li><LI><p class="docList"><tt>ch</tt>: a value of type <tt>TR::char_type</tt></P></LI><li><p class="docList"><tt>loc</tt>: an object of type <tt>tr::locale_type</tt></P></LI><li><p class="docList"><tt>p</tt>: a value of type <tt>const Tr::char_type*</tt></p></LI><LI><p class="docList"><tt>base</tt>: one of the values 8, 10, or 16</p></li><li><p class="docList"><tt>F1</tt>, <tt>F2</tt>: forward iterators that point at characters of type <tt>tr::char_type</tt> and define the range <tt>[F1, F2)</tt></P></li></UL>




<a href="31031536.html"><img src="images/pixel.jpg" alt="" width="1" height="1" border="0"></a></TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch20lev1sec4.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch21lev1sec1.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>