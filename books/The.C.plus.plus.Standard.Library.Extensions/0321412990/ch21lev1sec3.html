<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 21.3.&nbsp; Character Matching</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch21lev1sec2.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch21lev1sec4.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><a name="ch21lev1sec3"></a>
<h3 id="title-IDAKB5BE" class="docSection1Title">21.3. Character Matching</h3>
<ul><li><p class="docList"><tt>ctr.</tt> <span class="docEmphasis"><tt>translate</tt></span> <tt>(ch)</tt>: returns a value of type <tt>tr::char_type</tt>. If two characters <tt>ch1</tt> and <tt>ch2</tt> are equivalent, <tt>ctr.translate(ch1) == ctr. translate(ch2)</tt>.</p></li><li><p class="docList"><tt>ctr.</tt><span class="docEmphasis"><tt>translate_nocase</tt></span> <tt>(ch)</tt>: returns a value of type <tt>tr::char_type</tt>. If two characters <tt>ch1</tt> and <tt>ch2</tt> are equivalent without regard to case, <tt>ctr.translate_nocase(ch1) == ctr.translate_nocase(ch2)</tt>.</p></li><li><p class="docList"><tt>ctr.</tt> <span class="docEmphasis"><tt>lookup_collatename</tt></span> <tt>(F1, F2)</tt>: returns a <tt>TR::string_type</tt> object that holds the characters that make up the collating element named by the text sequence pointed at by <tt>[F1, F2)</tt>. If the text sequence does not name a valid collating element, the function returns an empty string.</p></LI></ul>
<a name="ch21lev2sec5"></a>
<h4 id="title-IDAND5BE" class="docSection2Title">Usage</H4>
<p class="docText">Comparing two characters <tt>ch1</tt> and <tt>ch2</tt> for equality follows these rules.</P>
<ul><li><p class="docList">If <tt>flags() &amp; regex_constants::icase</tt> is nonzero (i.e., the <tt>icase</tt> flag was passed to the <tt>basic_regex</tt> object's contructor), <tt>ch1</tt> and <tt>ch2</tt> are equal if <tt>ctr.translate_nocase(ch1) == ctr.translate_-nocase(ch2)</tt>.</p></li><LI><p class="docList">Otherwise, if <tt>flags() &amp; regex_constants::collate</tt> is nonzero (i.e., the <tt>collate</tt> flag was passed to the <tt>basic_regex</tt> object's constructor and the <tt>icase</tt> flag was not), <tt>ch1</tt> and <tt>ch2</tt> are equal if <tt>ctr. translate(ch1) == ctr.translate(ch2)</tt>.</P></LI><LI><p class="docList">Otherwise, <tt>ch1</tt> and <tt>ch2</tt> are equal if <tt>ch1 == ch2</tt>.</p></li></UL>
<p class="docText">Adding a <span class="docEmphSmaller">COLLATING SYMBOL</span> to a bracket expression (i.e., <tt>&quot;[[.</tt><span class="docEmphasis"><tt>elt</tt></span><tt>.]]&quot;</tt>) adds the contents of the string object returned by calling <tt>ctr.lookup_collate_name</tt> with the text between the <tt>&quot;[.&quot;</tt> and <tt>&quot;.]&quot;</tt> delimiters. If the returned string object is empty (i.e., the text is not the name of a valid collating element), the implementation throws a <tt>regex_error</tt> object whose <tt>code</tt> member function returns <tt>error_collate</tt>.</P>

<a name="ch21lev2sec6"></a>
<h4 id="title-IDAKG5BE" class="docSection2Title">Class Template <tt>regex_traits</tt> Specializations</h4>
<p class="docText">The class template <tt>regex_traits</tt> implements <tt>TRanslate(ch)</tt> by returning <tt>ch</tt>. The template implements <tt>TRanslate_nocase(ch)</tt> by returning <tt>use_-facet&lt;ctype&lt;Elem&gt;&gt;(getloc()).tolower(ch)</tt>. That is, it uses its current locale to translate the character to lowercase.</p>
<p class="docText">The TR1 specification does not impose any testable requirements for <tt>regex_traits::lookup_collatename</tt>.</p>


</TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch21lev1sec2.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch21lev1sec4.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>