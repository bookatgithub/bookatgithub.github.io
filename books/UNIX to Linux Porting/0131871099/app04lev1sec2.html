<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section D.2.&nbsp; Porting Considerations</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=app04lev1sec1.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=app04lev1sec3.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><TR><td valign="top"><a name="app04lev1sec2"></a>
<H3 id="610536-834" class="docSection1Title">D.2. <a name="iddle1754"></a>Porting Considerations</h3>
<p class="docText">Software professionals porting applications from UNIX or Linux on other platforms to Linux on POWER must remember the following:</P>
<ul><li><p class="docList">Linux on POWER is a big-endian platform.</p></li><LI><p class="docList">Linux on POWER supports two programming models: ILP32 and LP64.</P></LI><li><p class="docList">The current IBM POWER microprocessor is a 64-bit architecture running a 64-bit Linux OS. However, Linux on POWER provides full binary compatibility with existing 32-bit applications and supports new 64-bit applications.<a name="d0e126881"></a><a name="d0e126882"></a></P></li><li><p class="docList">Linux on POWER uses the ELF object file format.</p></li><LI><p class="docList">The basic compiler flags used in GCC and XL compilers are generally the same. However, a number of the flags differ. For example, <a class="docLink" href="#app04table01">Table D-1</a> compares the commonly used GNU and XL compiler flags.</P></li></ul>
<a name="app04table01"></a><p><table cellspacing="0" FRAME="hsides" RULES="groups" cellpadding="5"><caption><h5 class="docTableTitle">Table D-1. GNU and XL <a name="iddle1158"></a><a name="iddle1416"></a><a name="iddle1583"></a><a name="iddle2538"></a>Compiler Switches</H5></caption><colgroup align="left" span="3"><col width="100"><col width="100"><col width="300"></colgroup><thead><tr><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">GCC</p></th><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">XL C/C++</p></th><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">Description</P></th></tr></thead><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-v</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-v</tt>, <tt>-V</tt>, <tt>-#</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Turn on verbose mode.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-p</tt>/<tt>-profile</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-p</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Set up the object files produced by the compiler for profiling.</p></TD></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText">N/A</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-q32, -q64</tt>, or set the <tt>OBJECT_MODE</tt> environment variable</P></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">Create 32- or 64-bit objects. GCC 64-bit compilers are located at /opt/cross/bin.</p></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-fsyntax-only</tt></p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-qsyntaxonly</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Perform syntax checking without generating object files.</p></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-fpic</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-qpic=small</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Generate position-independent code for use in shared libraries. In XL C/C++, the size of the Global Offset Table is no larger than 64K. If <tt>-q</tt><tt>p</tt><tt>ic</tt> is specified without any suboptions, <tt>-qpic=small</tt> is assumed. The <tt>-qpic</tt> option is enabled if the <tt>-qmkshrobj</tt> compiler option is specified.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-fPIC</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-qpic=large</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Allows the Global Offset Table to be larger than 64K in size.</P></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-pthread</tt></P></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-qthreaded or _r invocation mode</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Create programs running in a multithreaded environment.</P></TD></TR><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><a name="d0e127106"></a><a name="d0e127107"></a><a name="d0e127108"></a><a name="d0e127109"></a><tt>-fno-rtti</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-qnortti</tt></p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">Disable generation of runtime type <tt>-qrtti</tt> identification (RTTI) for exception handling and for use by <tt>typeid</tt> and <tt>dynamic_cast</tt> operators. On XL C/C++, the default is <tt>-qnortti</tt>.</p></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-static</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-qstaticlink</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Objects generated with this option do not link with shared libraries.</P></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-static-libgcc</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-qstaticlink = libgcc</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Instruct the compiler to link with the static version of <tt>libgcc</tt>.</p></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-shared</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-qnostaticlink or -qmkshrobj</tt></P></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Instruct the compiler to produce a shared object.</p></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-shared-libgcc</tt></P></TD><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-qnostaticlink =libgcc</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Instruct the compiler to link with the shared version of <tt>libgcc</tt>.</p></td></TR><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Wl, -rpath</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Wl, -rpath</tt>, or <tt>-R</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Pass a colon-separated list of directories used to specify directories searched by the runtime linker.</p></TD></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-fno-implicit-templates, -frepo</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-qtempinc</tt>, <tt>-qtemplateregistry, -qtemplaterecompile</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Template instantiation.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-w</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-w</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Suppress warning messages.</p></TD></tr><TR><td class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-warn64</tt></p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">Enables checking for long-to-integer truncation.</P></td></TR><tr><td class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-qinfo=&lt;&#8230;&gt;</tt></P></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Produces informational messages.</p></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-fpack-struct</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-qalign= bit_packed</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Use <tt>bit_packed</tt> alignment rules.</p></td></tr><tr><td class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-qalign= linuxppc</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Uses default GCC alignment rules to maintain compatibility with GCC objects. This is the default.</p></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-O, -O2, -O3</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-O, -O2, -O3, -O4, -O5</tt></P></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Optimization levels.</p></td></tr><tr><TD class="docTableCell" align="left" valign="top">&nbsp;</TD><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-qarch, -qtune, -qcache</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Optimization options for a particular processor.</p></td></tr></table></P><BR>

</TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=app04lev1sec1.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=app04lev1sec3.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>