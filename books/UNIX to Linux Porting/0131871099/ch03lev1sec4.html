<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 3.4.&nbsp; Shared Libraries</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch03lev1sec3.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch03lev1sec5.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><TD valign="top"><a name="ch03lev1sec4"></a>

<H3 id="title-IDAK2MO0" class="docSection1Title">3.4. <a name="iddle1330"></a><a name="iddle2143"></a><a name="iddle1729"></a>Shared Libraries<a name="d0e7117"></a></H3>
<p class="docText">Most if not all the applications we have ported use shared libraries. However, different operating systems have differences in creating and naming these shared libraries. In Linux, shared libraries may end with different file extensions. Shared libraries may end with .so or so.1.0 extensions. Shared libraries that end in .so with the extra dot followed by a number and a dot and another number are versioned libraries. The first number stands for the <a name="iddle1793"></a>major number; the second number represents the <a name="iddle1839"></a>minor number<a name="d0e7131"></a><a name="d0e7132"></a>. Sometimes the extension comes with another dot and a number called the <a name="iddle2104"></a>release number<a name="d0e7139"></a>. The last dot and the release number are optional. Here is the format of the library filename:<a name="d0e7141"></a><a name="d0e7142"></a></P>
<div class="docText"><pre>lib&lt;name&gt;.so.&lt;major&gt;.&lt;minor&gt;.&lt;release&gt;
</pre></div><BR>
<p class="docText">The major, minor, and release numbers signify different changes that are made to the library. Here are some guidelines for incrementing the major, minor, and release numbers:</p>
<ul><li><p class="docList">The major number is incremented when there is an incompatible change to the interface of the shared library. This major change implies that applications depending on the earlier major version of the library need to be changed to work with the new major version.</P></LI><LI><p class="docList">The minor number is incremented when a shared library preserves interfaces but adds new ones.</P></LI><li><p class="docList">The release number is incremented when there is a compatible change that does not involve adding any new interfaces. This usually means that a change is made to the implementation to improve performance or scalability.</P></li></ul>
<p class="docText">To create shared libraries in Linux, use the <tt>shared</tt> option in the compile arguments; this tells GNU <tt>ld</tt> to create a shared library rather than an application. Here is an example:<a name="d0e7176"></a></P>
<div class="docText"><pre>$ gcc o libfoo.so <a name="iddle2155"></a>shared fpic foo.c
</pre></div><BR>

<a href="9001536.html"><img src="images/pixel.jpg" alt="" width="1" height="1" border="0"></a></TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch03lev1sec3.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch03lev1sec5.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>