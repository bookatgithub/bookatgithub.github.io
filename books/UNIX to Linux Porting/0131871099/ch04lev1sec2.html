<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 4.2.&nbsp; General Differences</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch04lev1sec1.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch04lev1sec3.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><TD valign="top"><a name="ch04lev1sec2"></a>
<H3 id="588026-997" class="docSection1Title">4.2. General Differences</H3>
<p class="docText">With major operating systems such as HP-UX, <a name="iddle1108"></a>Solaris, AIX, and Linux embracing standards set forth by standards bodies such as ISO and POSIX, it seems that porting between platforms should be simple<a name="d0e10306"></a>. Indeed, when it comes to application programming interfaces (APIs), these operating systems have a lot in common. If only applications were written strictly to these standards, porting them between platforms would be an easy task. Unfortunately, applications that need to be ported from one platform to another usually do not fit the ideal profileone that is completely portable. The nonportable nature of applications stems not only from using nonstandard APIs but also from using new and optional standards available on the source platform that the target platform may have yet to implement. Sometimes, interpretations of standards may vary because some standards leave some points open for interpretation, resulting in different implementations on different platforms. This happens a lot when vendors implement standards on their platforms when they are still in the draft stages. This results in applications written or <a name="iddle1663"></a><a name="iddle1978"></a>compiled to draft standards<a name="d0e10328"></a>. It appears harmless because the application compiles and runs well on the source platform it was written and built on, but the resulting application is not portable.</P>
<p class="docText">In this section, we discuss differences and similarities between <a name="iddle1123"></a><a name="iddle1440"></a>Solaris and Linux.<a name="d0e10349"></a><a name="d0e10350"></a></P>
<a name="ch04lev2sec4"></a>
<h4 id="title-IDARFMKU" class="docSection2Title">4.2.1. C Language</h4>
<p class="docText">Sun's C compiler supports most of the language features specified in ISO/IEC 9899:1999 (C99) on operating systems earlier than Solaris 10. However, in Solaris 10, the compiler is in full compliance with the C99 standard.</p>
<p class="docText">GCC fully supports two versions of the C standard: C90 and the amendment to the 1990 standard published in 1995 (referred to as C95). Support for the C99 is not yet complete. For more details, visit <a class="docLink" target="_blank" href="http://gcc.gnu.org/c99status.html">http://gcc.gnu.org/c99status.html</a>. By default, GCC complies with the C90 standard plus GNU extensions (including some C99 features). To select C90 in GCC, use one of the options <tt>-ansi, -std=c89</tt>, or <tt>-std=iso9899:1990</tt>. To select C95 in GCC, use the option <tt>-std=iso9899:199409</tt>. To select C99, use the option <tt>-std=c99</tt> or <tt>-std=iso9899:1999</tt>.</P>

<a name="ch04lev2sec5"></a>
<H4 id="title-IDAOGMKU" class="docSection2Title">4.2.2. <a name="iddle1662"></a>C++ Language<a name="d0e10394"></a></H4>
<p class="docText">Sun's latest <a name="iddle1979"></a>C++ compiler supports the 1998 ISO International Standard for C++, ISO IS14882:1998.<a name="d0e10408"></a> For Linux, <tt>g++</tt> is a program that calls GCC with the default language set to C++, and automatically specifies linking against the C++ library. GNU <tt>g++</tt> closely conforms to the 1998 ISO/ANSI C++ standard.</P>
<p class="docText">Sun's C++ compiler is distributed with a C++ standard library based on the RogueWave Standard C++ Library, version 2, and Tools.h++, version 7.0. On the other hand, GNU <tt>g++</tt> ships with the runtime library <tt>libstdc++</tt>.</P>

<a name="ch04lev2sec6"></a>
<h4 id="title-IDAYIMKU" class="docSection2Title">4.2.3. <a name="iddle1980"></a>GNU C/C++ Language</H4>
<p class="docText">At the time of this writing, GCC version 3.4.2 is currently available for Solaris 10 (<a class="docLink" target="_blank" href="http://www.sun.com/software/solaris/freeware">www.sun.com/software/solaris/freeware</a>). If your application can be built successfully using GCC on Solaris, it is most likely that it will be so on Linux. Note that different versions of GCC sometimes conform to different language specifications, especially the C++ standard. Therefore, a recompile with a different version of GCC may not be successful.<a name="d0e10448"></a></p>

<a name="ch04lev2sec7"></a>
<h4 id="title-IDA4JMKU" class="docSection2Title">4.2.4. <a name="iddle1981"></a>Java Language</H4>
<p class="docText">A Java environment for Linux is available from the Blackdown Java SDK (<a class="docLink" target="_blank" href="http://www.blackdown.org">www.blackdown.org</a>). As of this writing, Blackdown has released Java version 1.4.2 and is working on release version 1.5. Other implementations of the Linux Java SDK are available for download from the Sun and IBM Web sites. Refer to <a class="docLink" href="ch02.html#ch02">Chapter 2</a>, &quot;Scoping,&quot; for more information about the Java environment in Linux.<a name="d0e10478"></a></P>

<a name="ch04lev2sec8"></a>
<h4 id="title-IDALLMKU" class="docSection2Title">4.2.5. Threads</h4>
<p class="docText">Two thread interfaces are supported on <a name="iddle1654"></a><a name="iddle2296"></a>Solaris: POSIX threads (commonly known as pthreads) and Solaris threads<a name="d0e10507"></a>. Modern Linux distributions support the POSIX thread API standard. If you use Solaris threads, you must change your application when you port it to Linux. Alternatively, you can use the <a name="iddle2285"></a><a name="iddle2302"></a>Solaris Compatibility Thread Library (STL) to migrate from the Solaris threads API to the POSIX threads library<a name="d0e10518"></a>.<a name="d0e10520"></a> For more information on STL, visit <a class="docLink" target="_blank" href="http://sourceforge.net/projects/sctl/">http://sourceforge.net/projects/sctl/</a>.</p>

<a name="ch04lev2sec9"></a>
<h4 id="title-IDA4NMKU" class="docSection2Title">4.2.6. <a name="iddle1985"></a>Standards Comparison</H4>
<p class="docText">Almost all Linux distributors acknowledge the values that standardization and portability provide, and work with the various Linux implementers/maintainers to meet those standards. The primary Linux industry standard is the <a name="iddle1758"></a>Linux Standard Base (<a name="iddle1777"></a>LSB), which is a project overseen by the <a name="iddle1367"></a>Free Standards Group (FSG)<a name="d0e10558"></a><a name="d0e10559"></a>.<a name="d0e10561"></a> The <a name="iddle1781"></a>LSB (whose most recent version at this time is LSB 3.0) is based heavily on the IEEE POSIX and Open Group Single UNIX Specification standards, but it also documents those places where Linux is not UNIX- or POSIX-compatible<a name="d0e10568"></a>. Most of the major Linux distributors have certified to the LSB.</p>
<p class="docText">The LSB, in addition to providing a source code API specification, also provides a binary interface (ABI) specification for each of several common Linux hardware platforms. The goal of the ABI is to ensure binary portability (for LSB-portable applications) between Linux distributions on that hardware platform. Distributors must certify to the ABI as well as to the API. ISVs can also certify their applications as &quot;LSB portable&quot; using tools provided by the FSG.</p>
<p class="docText">Although there is standardization within Linux, Linux itself is not totally compliant with either the IEEE POSIX or Open Group SUS specifications.<sup class="docFootnote"><a class="docLink" href="#ch04fn3">[3]</a></sup> This means applications that may be totally portable under these common commercial UNIX standards may still need some work to move successfully to Linux. However, this work will be much less than for an application that meets no standards at all, or uses Solaris-specific UNIX extensions.<a name="d0e10585"></a><a name="d0e10586"></a><a name="d0e10587"></a></p><blockquote><p class="docFootnote"><sup><a name="ch04fn3">[3]</a></sup> Conflicts between ISO/IEC 9945 (POSIX) and the LSB (<a class="docLink" target="_blank" href="http://www.opengroup.org/personal/ajosey/tr01-04-2005.txt">www.opengroup.org/personal/ajosey/tr01-04-2005.txt</a>)</p></blockquote>
<p class="docText"><a class="docLink" href="#ch04table01">Table 4-1</a> provides a comparison of standards conformance between Solaris 10 and Linux supported standards based on the LSB specification version 2.0.1.</P>
<a name="ch04table01"></a><P><table cellspacing="0" FRAME="hsides" RULES="none" cellpadding="5"><caption><h5 class="docTableTitle">Table 4-1. Solaris and Linux Standards</h5></caption><colgroup align="left" span="3"><col width="150"><col width="150"><col width="150"></colgroup><thead><tr><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">Standard</p></th><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">Solaris 10<sup class="docFootnote"><a class="docLink" href="#ch04tn4">[4]</a></sup></p></th><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">Linux 2.6 (GNU libc)<sup class="docFootnote"><a class="docLink" href="#ch04tn5">[5]</a></sup></p></th></tr></thead><tr><td class="docTableCell" align="left" valign="top"><p class="docText">ISO/IEC 9945-1:2001, the POSIX System API (POSIX.1)</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Yes (including many of the real-time extension options)</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Partial (minor differences in some APIs and a few of the real-time extensions)</p></td></tr><TR><TD class="docTableCell" align="left" valign="top"><p class="docText">ISO/IEC 9945-2:2001, the POSIX Shell and Utilities standard (POSIX.2)</P></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">Yes</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Partial (regular expressions and pattern-matching facilities)</P></TD></TR><TR><TD class="docTableCell" align="left" valign="top"><p class="docText">X/Open Portability Guide Issue 3 (XPG3) (superset of POSIX.1 containing utilities from SVID)</p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Yes</p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">No (GNU <tt>libc</tt> defines most of the facilities required by SVID that are not also required by the ISO C or POSIX standards)</p></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText">X/Open Portability Guide Issue 4 (XPG4)</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Yes</p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">Yes</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText">X/Open Portability Guide Issue 4 version 2 (XPG4v2)</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Yes</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Yes</p></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText">System V Interface Definition (SVID3)</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Yes</P></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">Partial</P></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText">X11 Window System, Font Server, and Clients</P></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">Yes</P></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Yes</p></td></TR><TR><td class="docTableCell" align="left" valign="top"><p class="docText">LP64, 64-bit data model</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Yes</P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Yes</p></td></TR></table></P><br><blockquote><p class="docFootnote"><sup><a name="ch04tn4">[4]</a></sup> <a class="docLink" target="_blank" href="http://docs.sun.com/app/docs/doc/816-5175/6mbba7f3u?a=view">http://docs.sun.com/app/docs/doc/816-5175/6mbba7f3u?a=view</a></p></blockquote><blockquote><p class="docFootnote"><sup><a name="ch04tn5">[5]</a></sup> <a class="docLink" target="_blank" href="http://www.gnu.org/software/libc/manual/html_mono/ISO%20C">www.gnu.org/software/libc/manual/html_mono/ISO%20C</a></p></blockquote>


</TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch04lev1sec1.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch04lev1sec3.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>