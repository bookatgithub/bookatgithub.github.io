<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 5.1.&nbsp; Preliminary Tasks</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch05.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch05lev1sec2.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><TD valign="top"><a name="ch05lev1sec1"></a>
<H3 id="title-IDAKW3L1" class="docSection1Title">5.1. Preliminary Tasks</H3>
<p class="docText">Before the porting work can begin, we need to prepare the environment that we will be working in. Among other things, we need to set up the port, build, and code change systems. Here is a checklist that includes the detailed tasks for each.</P>
<a name="ch05lev2sec1"></a>
<H4 id="title-IDAVW3L1" class="docSection2Title">5.1.1. <a name="iddle1046"></a><a name="iddle1951"></a>Set Up the Porting System</h4>
<p class="docText">The porting system includes the porting server running the Linux version that the application to be ported is expected to run on. In some instances, the server can be used to run small unit tests that will not affect overall server performance.</p>
<p class="docText">Complete the following steps to set up the porting system:</p>
<a name="ch05pro01"></a>







<table border="0" class="docText"><TR><TD width="25" valign="top"><div class="docText"><B>1. </b></div></TD><TD><div class="docText">Install the server with the Linux distribution that the application to be ported is expected to run on.<br><BR></div></td></tr><TR><TD width="25" valign="top"><div class="docText"><b>2. </b></div></td><td><div class="docText">Set up all necessary home directories and build environment directories.<br><BR></div></td></tr><tr><td width="25" valign="top"><div class="docText"><B>3. </b></div></TD><td><div class="docText">Check for any known patches that need to be installed on the server.<br><br></div></td></tr><tr><td width="25" valign="top"><div class="docText"><b>4. </b></div></td><td><div class="docText">Make sure the installation includes the compiler and debugger.<br><br></div></td></tr><TR><td width="25" valign="top"><div class="docText"><b>5. </b></div></td><TD><div class="docText">Install third-party products and licenses that the application needs. Install any prerequisites or patches needed by these products.<BR><BR></div></TD></TR><tr><td></td><TD></TD></TR><TR><TD width="25" valign="top"><div class="docText"><b>6. </b></div></TD><td><div class="docText">Set up access for users and system administrators on the build server.<a name="d0e34197"></a><br><BR></div></TD></tr><tr><td width="25" valign="top"><div class="docText"><b>7. </b></div></TD><td><div class="docText">Set up policies on using the porting environment as a test machine. These polices must include what can and cannot be tested on the porting server.<br><br></div></td></TR></table>
<p class="docText">Depending on how work is divided among different groups involved in the porting project, the responsibility of doing these tasks may fall on the porting engineer. Even in instances where a separate group in the IT organization sets up the server, the porting engineer still needs to provide the specifications of the environment to the person performing the installation and setup.<a name="d0e34206"></a><a name="d0e34207"></a></P>

<a name="ch05lev2sec2"></a>
<h4 id="title-IDAE03L1" class="docSection2Title">5.1.2. <a name="iddle1950"></a><a name="iddle1045"></a>Set Up the Code Change Management System<a name="d0e34232"></a><a name="d0e34233"></a></h4>
<p class="docText">The <a name="iddle1134"></a><a name="iddle1203"></a>code change management system consists of a tool that manages code changes to the application.<a name="d0e34251"></a><a name="d0e34252"></a> CVS is the tool used most frequently, but other tools such as Subversion<sup class="docFootnote"><a class="docLink" href="#ch5fn1">[1]</a></sup> and Arch<sup class="docFootnote"><a class="docLink" href="#ch5fn2">[2]</a></sup> are gaining popularity. Complete these steps to set up the change management system:</p><blockquote><p class="docFootnote"><sup><a name="ch5fn1">[1]</a></sup> <a class="docLink" target="_blank" href="http://subversion.tigris.org">http://subversion.tigris.org</a></p></blockquote><blockquote><p class="docFootnote"><sup><a name="ch5fn2">[2]</a></sup> <a class="docLink" target="_blank" href="http://www.gnu.org/software/gnu-arch/">www.gnu.org/software/gnu-arch/</a></p></blockquote>
<a name="ch05pro02"></a>




<table border="0" class="docText"><tr><td width="25" valign="top"><div class="docText"><b>1. </b></div></td><td><div class="docText">Install the code change management tool.<br><br></div></td></tr><TR><td width="25" valign="top"><div class="docText"><b>2. </b></div></td><TD><div class="docText">Install scripts that can be used to make using the tool more convenient for the porting engineers.<BR><BR></div></TD></TR><tr><td width="25" valign="top"><div class="docText"><b>3. </b></div></TD><TD><div class="docText">Make sure the HOWTO and FAQs on using the tool and scripts exist and are readily accessible. These documents should include examples of how to use the tool and scripts.<BR><BR></div></TD></tr><TR><td width="25" valign="top"><div class="docText"><b>4. </b></div></TD><TD><div class="docText">Check the application into the code management system.<br><br></div></td></tr></table>
<p class="docText">After the snapshot of the application source code has been checked into the code management system, that code should only be used for porting changes. No outside development changes should be added to this code base during the porting period.</P>

<a name="ch05lev2sec3"></a>

<h4 id="title-IDAL43L1" class="docSection2Title">5.1.3. Set Up the Build System</h4>
<p class="docText">Automated nightly builds of the ported application take place in the build system. Although it may not be needed to begin any porting work, it is good practice to set up the build system before porting application makefiles. This system needs to be able to check out the source code and start an overnight build of the application. Building the application nightly after the code is stable enough to build with minimum build errors is good practice to make sure all checked-in code that day did not cause anything to break in the build. If something does break, it will be easier to determine who and what caused the break. These tasks must be completed when <a name="iddle1044"></a><a name="iddle1949"></a>setting up the build system:<a name="d0e34316"></a><a name="d0e34317"></a></p>
<a name="ch05pro03"></a>




<table border="0" class="docText"><tr><TD width="25" valign="top"><div class="docText"><B>1. </b></div></td><td><div class="docText">Develop scripts that can check out the application code and start a nightly build.<br><br></div></td></tr><tr><td width="25" valign="top"><div class="docText"><b>2. </b></div></td><td><div class="docText">Test these scripts after the makefiles have been ported. Expect errors, because the porting work may be just getting underway.<br><br></div></td></TR><tr><td width="25" valign="top"><div class="docText"><b>3. </b></div></TD><TD><div class="docText">Add the script to a crontab file to schedule the overnight builds.<BR><BR></div></TD></tr><tr><td width="25" valign="top"><div class="docText"><B>4. </b></div></TD><TD><div class="docText">Write a script that can parse the errors produced so that an automated reporting system can notify responsible parties of any build breaks.<BR><BR></div></td></TR></table>
<p class="docText">When the port, code change, and build system tasks are complete, the real porting work can begin.</p>


</TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch05.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch05lev1sec2.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>