<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 5.19.&nbsp; Summary</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch05lev1sec18.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch06.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><TD valign="top"><a name="ch05lev1sec19"></a>
<H3 id="588026-813" class="docSection1Title">5.19. Summary</H3>
<p class="docText">The porting work is considered complete when two objectives are met. The first objective is to make sure all the necessary objects and executables of the application are produced. The second objective is to make sure the ported application, including all executables produced, runs and stays up long enough to pass basic unit testing. If the application passes basic unit testing, it is then passed on to the next phase of the project, which is testing and debugging. Here are some important highlights discussed in this chapter:</P>
<UL><li><p class="docList">GNU does not have shorthand methods to invoking their compiler like AIX (<tt>xlC_r, xlC, xlC128</tt>, and so on) that will automatically include pthreads, DCE threads, or 128-bit libraries. You must include these parameters and libraries separately on the <tt>gcc/g++</tt> and <tt>ld</tt> line when building your executable.</p></li><LI><p class="docList">Both AIX and Linux support the common parameters for building executables, such as the following:</P><p class="docList"><tt>-c</tt> Compile only</P><p class="docList"><tt>-o</tt> Object name</P><p class="docList"><tt>-D</tt> Preprocessor directive name</P><p class="docList"><tt>-L</tt> Library search path</p><p class="docList"><tt>-I</tt> Library name</P><p class="docList"><tt>-l</tt> Include file search path</p></li><LI><p class="docList">But many compiler and link parameters control the behavior and the type of output generated in AIX and Linux. Refer back to <a class="docLink" href="ch05lev1sec3.html#ch05table03">Tables 5-3</a> and <a class="docLink" href="ch05lev1sec5.html#ch05table04">5-4</a> for an extensive list of AIX compiler and linker parameters and their equivalent Linux compiler and linker parameters.</P></li><li><p class="docList">To build an executable in Linux, you must use the <tt>gmake</tt> utility. The traditional System V <tt>make</tt> is not compatible in Linux. AIX traditionally uses the System V version of <tt>make</tt>.</p></li><LI><p class="docList">AIX and Linux linkers differ in many ways. AIX uses the XCOFF binary format, whereas Linux uses the ELF format. In addition, AIX and Linux build runtime linkable objects differently, which has an effect on the library search behavior for the <tt>l</tt> parameter. Linux has library versioning and AIX does not. Users must run their newly created library through the versioning tool under Linux before it can be used.</p></li><li><p class="docList">For template instantiation, AIX and Linux use a repository to store template instantiations and compile that code along with other code as a final step in the compile process prior to linking. The AIX equivalent to <tt>qtempinc</tt> and <tt>qtemplateregistry</tt> is <tt>frepo</tt> in Linux.</p></LI><LI><p class="docList">AIX and Linux have a long list of compatible system and library APIs. Along with other differences, notable differences are in the return value of <span class="docEmphasis"><tt>ERRNO</tt></span>s.</p></li><li><p class="docList">As of the writing of this book, AIX fully supports POSIX threads and Linux supports Native POSIX Threads Library (NPTL), which has support for POSIX and more. However, both AIX and Linux implement kernel threads and user threads differently.</p></li><li><p class="docList">Large Page Support can be turned on in AIX in a number of ways:</p><p class="docList">Environment variable: <tt>LDR_CNTRL</tt></p><p class="docList">Compiler flag: <tt>-qlargepage</tt></p><p class="docList">Linker flag: <tt>-bmaxdata</tt>=&lt;<span class="docEmphasis"><tt>value</tt></span>&gt;</p><p class="docList">Relinking the executable with <tt>ldedit blpdata</tt> &lt;<span class="docEmphasis"><tt>filename</tt></span>&gt;</p><p class="docList">To enable Large Page Support in Linux, you need to reconfigure the kernel. <a class="docLink" href="ch03.html#ch03">Chapter 3</a> shows you how to enable Large Page Support for Linux.</p></li><li><p class="docList">Although some applications are relatively easy to port because of their inherently portable characteristics, some applications written to use AIX extensions take a little more porting effort. Overall, Linux 2.6 has improved its capabilities to readily accept software applications to run on it. Porting to Linux has never been easier. New features such as a preemptive kernel and support for better threads scheduling makes Linux an operating system that is truly ready for enterprise use.</P></li></ul>

</TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch05lev1sec18.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch06.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>