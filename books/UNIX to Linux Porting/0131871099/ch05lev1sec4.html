<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 5.4.&nbsp; Make</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch05lev1sec3.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch05lev1sec5.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><TD valign="top"><a name="ch05lev1sec4"></a>

<H3 id="588026-841" class="docSection1Title">5.4. <a name="iddle1037"></a><a name="iddle1794"></a>Make</H3>
<p class="docText">The <tt>make</tt> utility sorts out dependency relations between files, automatically determines which pieces need to be recompiled, and issues commands to recompile them. It is the biggest contribution to the UNIX development environment dating back to System V enabling easy management of large program projects. Over the years, <tt>make</tt> has been changed and enhanced. AIX still uses a version of the UNIX System V <tt>make</tt>, which is not compatible in Linux. To build code in Linux, you must use the GNU <tt>Make</tt> <a name="iddle1415"></a>(<tt><a name="iddle1026"></a>gmake</tt>), which is part of the FSF GNU GCC (GNU Compiler Collection). The GNU <tt>Make</tt> includes enhanced features that are not included in the traditional <tt>make</tt>.<a name="d0e38319"></a><a name="d0e38320"></a><a name="d0e38321"></a><a name="d0e38322"></a></P>
<a name="ch05lev2sec11"></a>
<H4 id="title-IDABDXCHB" class="docSection2Title">5.4.1. gmake <a name="iddle1191"></a>Condition Statements</h4>
<p class="docText">One of the most useful features that <tt>gmake</tt> has and regular <tt>make</tt> does not is the use of conditional statements. <a class="docLink" href="#ch05ex01">Example 5-1</a> examines this useful feature.</p>

<p class="docText"></p><a name="ch05ex01"></a><H5 id="title-IDAFEXCHB" class="docExampleTitle">Example 5-1. GNU Makefile</H5><P><table cellspacing="0" width="90%" border="1" cellpadding="5"><TR><TD>



<pre># Gnu Makefile
 CC = gcc
 CXX = g++

 Objects = main.o
 Target = main
 Source = main.c

 main : $(Source)
<span class="docEmphStrong">#22 ifeq ($(Source),main.c)</span>
  $(CC) -o $(Target) $(Source)
<span class="docEmphStrong">#24 else</span>
  $(CXX) -o $(Target) $(Source)
<span class="docEmphStrong">#26 endif</span>
</pre><br>

</TD></tr></table></p>
<p class="docText">The traditional <a name="iddle1733"></a>AIX <tt>make</tt> generates the following errors:<a name="d0e38381"></a><a name="d0e38382"></a></P>
<div class="docText"><pre>/: &gt; make
"Makefile", line 22: make: 1254-055 Dependency line needs colon or double colon operator.
"Makefile", line 24: make: 1254-055 Dependency line needs colon or double colon operator.
"Makefile", line 26: make: 1254-055 Dependency line needs colon or double colon operator.
make: 1254-058 Fatal errors encountered -- cannot continue.
</pre></div><BR>
<p class="docText">The same makefile builds fine with GNU <tt>Make</tt>. For a list of other enhancements, visit the official GNU home page (at the time of this writing <a class="docLink" target="_blank" href="http://www.gnu.org/software/make/manual/make.html">www.gnu.org/software/make/manual/make.html</a>).<a name="d0e38398"></a></p>


</TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch05lev1sec3.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch05lev1sec5.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>