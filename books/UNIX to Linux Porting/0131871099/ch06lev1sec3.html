<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 6.3.&nbsp; The Compilers</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch06lev1sec2.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch06lev1sec4.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><TR><td valign="top"><a href="9001536.html"><img src="images/pixel.jpg" alt="" width="1" height="1" border="0"></a><a name="ch06lev1sec3"></a>
<H3 id="title-IDAVDGO3" class="docSection1Title">6.3. The <a name="iddle1496"></a>Compilers</h3>
<p class="docText">As the porting effort starts, differences in compiler locations and compiler options between HP-UX and Linux become apparent. Although the compilers on both HP-UX and Linux claim conformance or close conformance to ANSI and ISO standards, porting personnel may encounter platform-specific programming syntax differences. The use of compiler extensions and platform-specific features are common programming practices that require some effort when porting from HP-UX to Linux.</P>
<p class="docText">When starting to work with the build environment, the first thing to check is the location of the compiler binaries. They differ in directory locations, as shown in <a class="docLink" href="#ch06table02">Table 6-2</a>.</p>

<p class="docText"></p><a name="ch06table02"></a><p><table cellspacing="0" FRAME="hsides" RULES="groups" cellpadding="5"><caption><h5 class="docTableTitle">Table 6-2. HP-UX and Linux Compiler Comparison Table</H5></caption><colgroup align="left" span="3"><col width="150"><col width="200"><col width="150"></colgroup><thead><TR><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">Compiler</P></th><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">HP-UX Path</p></th><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">Linux Path</P></th></tr></thead><tr><td class="docTableCell" align="left" valign="top"><p class="docText">ANSI C</p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">/opt/ansic/bin/cc</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">/usr/bin/gcc
</p></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText">C89</P></td><td class="docTableCell" align="left" valign="top"><p class="docText">/opt/ansic/bin/c89</P></td><td class="docTableCell" align="left" valign="top"><p class="docText">/usr/bin/gcc -std=c89
</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText">C++</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">/opt/aCC/bin/aCC</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">/usr/bin/g++</P></td></tr></table></P><br>
<p class="docText">To query the version of the GNU GCC installed on Linux, do one of the following:<a name="d0e59625"></a><a name="d0e59626"></a></P>
<div class="docText"><pre>$ rpm --query -a | grep gcc
gcc-c++-3.4.2-6.fc3
libgcc-3.4.2-6.fc3
gcc-3.4.2-6.fc3
</pre></div><br>
<p class="docText">To find out the full path to the directory in which <tt>gcc</tt> resides, run the following:</P>
<div class="docText"><pre>$ type gcc
gcc is hashed (/usr/bin/gcc)
</pre></div><br>
<p class="docText">To find out what version of <tt>gcc</tt> is installed, do the following:</p>
<div class="docText"><pre>$ gcc -version
gcc (GCC) 3.3.3 (SUSE Linux)
Copyright (C) 2003 Free Software Foundation, Inc.
This is free software; see the source for copying conditions. There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

$ gcc -version (fedora installation)
gcc (GCC) 3.4.2 20041017 (Red Hat 3.4.2-6.fc3)
Copyright (C) 2004 Free Software Foundation, Inc.
This is free software; see the source for copying conditions. There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
</pre></div><br>
<a name="ch06lev2sec10"></a>
<h4 id="title-IDAPJGO3" class="docSection2Title">6.3.1. C Compiler Options</H4>
<p class="docText">By default, both the HP-UX C<sup class="docFootnote"><a class="docLink" href="#ch06fn10">[10]</a></sup> compilers compile in extended ANSI mode, whereas the GNU C compiler compiles with C89 standards with some GNU extensions.<sup class="docFootnote"><a class="docLink" href="#ch06fn11">[11]</a></sup> Porting personnel need to watch out for incompatibilities in syntax because there are no guarantees in the standard when the extended mode is used.</P><blockquote><p class="docFootnote"><sup><a name="ch06fn10">[10]</a></sup> Starting with HP-UX 10.30 forward</P></blockquote><blockquote><p class="docFootnote"><sup><a name="ch06fn11">[11]</a></sup> This is equivalent to -std=gnu89.</p></blockquote>
<p class="docText"><a class="docLink" href="#ch06table03">Table 6-3</a> compares compiler switch options for HP-UX <tt>cc</tt> and its equivalent switch on GNU <tt>gcc</tt>.</P>
<a name="ch06table03"></a><p><table cellspacing="0" FRAME="hsides" RULES="groups" cellpadding="5"><caption><h5 class="docTableTitle">Table 6-3. <a name="iddle1498"></a><a name="iddle1176"></a><a name="iddle1116"></a>HP-UX ANSI cc and gcc Compiler Switches Comparison Table</h5></caption><colgroup align="left" span="3"><col width="100"><col width="150"><col width="250"></colgroup><thead><tr><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">HP cc Option<sup class="docFootnote"><a class="docLink" href="#ch06fn12">[12]</a></sup></P></th><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">GNU gcc Option<sup class="docFootnote"><a class="docLink" href="#ch06fn13">[13]</a></sup></P></th><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">Description</p></th></tr></thead><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-A[a|c|e]</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-ansi -std=</tt><span class="docEmphasis"><tt>standard</tt></span></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Specifies the degree of ANSI compliance.</p></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Bextern</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Performs the same operation as <tt>+Oextern=sym1, sym2,sym3...</tt>, except that symbols are loaded from an existing file instead of being specified on the command line.</p></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Bhidden</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">None</p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Hides all the symbols including references, except for those prefixed with <tt>__declspec(dllexport), __declspec(dllimport)</tt>.</P></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Bhidden_def</tt></P></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">None</p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Hides all the symbols defined in the module except for those prefixed with <tt>__declspec(dllexport)</tt>.</p></td></tr><TR><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-c</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-c</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Compiles only; does not link.</p></td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-C</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-C</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Prevents the preprocessor from stripping comments.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-D_POSIX_C_</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-D_REENTRANT</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Compiles with threads.</P></td></TR><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>SOURCE=199506L</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-lpthread</tt></p></TD><TD class="docTableCell" align="left" valign="top">&nbsp;</TD></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-D_REENTRANT</tt></p></td><td class="docTableCell" align="left" valign="top">&nbsp;</TD><TD class="docTableCell" align="left" valign="top">&nbsp;</td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-lpthread</tt></P></td><td class="docTableCell" align="left" valign="top">&nbsp;</td><TD class="docTableCell" align="left" valign="top">&nbsp;</td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText">or use <tt>-lcma</tt></p></td><td class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top">&nbsp;</td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText">(for user threads)</p></td><td class="docTableCell" align="left" valign="top">&nbsp;</TD><td class="docTableCell" align="left" valign="top">&nbsp;</td></TR><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-D</tt><span class="docEmphasis"><tt>name</tt></span></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">-<tt>D</tt><span class="docEmphasis"><tt>name</tt></span></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Defines the preprocessor variable <span class="docEmphasis"><tt>name</tt></span> with a value of 1.</P></TD></TR><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-D</tt><span class="docEmphasis"><tt>name</tt></span><tt>=</tt><span class="docEmphasis"><tt>def</tt></span></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-D</tt><span class="docEmphasis"><tt>name</tt></span><tt>=</tt><span class="docEmphasis"><tt>def</tt></span></p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">Defines the preprocessor variable <span class="docEmphasis"><tt>name</tt></span> with a value of <span class="docEmphasis"><tt>def</tt></span>.</p></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-dynamic</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Wl,-Bdynamic</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Enables linking of PIC objects.</P></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-E</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-E</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Performs preprocessing only with output to stdout.</p></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-fast</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">None</P></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Expands into a set of compiler options, which results in improved application runtime. Options included are <tt>+O3, +Onolooptransform, +Olibcalls, +FPD, +Oentryschedule</tt>, and <tt>+Ofastaccess</tt>. Any of these options can be overridden by placing a subsequent option after <tt>-fast</tt> on the command line.</p></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-g</tt></P></TD><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-g</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Inserts information for the symbolic debugger in the object file.</p></td></TR><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-G</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-pg</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Inserts information required by the <tt>gprof</tt> profiler in the object file.</p></TD></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-I</tt><span class="docEmphasis"><tt>dir</tt></span></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-I</tt><span class="docEmphasis"><tt>dir</tt></span></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Inserts <span class="docEmphasis"><tt>dir</tt></span> in the include file search path.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-l</tt><span class="docEmphasis"><tt>x</tt></span></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-l</tt><span class="docEmphasis"><tt>x</tt></span></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Links with <tt>libx.a</tt> depending on default library paths.</p></TD></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-L</tt><span class="docEmphasis"><tt>dir</tt></span></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-L</tt><span class="docEmphasis"><tt>dir</tt></span></P></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">Links the libraries in <span class="docEmphasis"><tt>dir</tt></span> before the libraries in the default search path. Adds default linker paths to one specified in the <tt>-L</tt> option before searching the default system library directories.</p></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Wl,-Lsearchdir</tt></p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Wl,-Lsearchdir</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Wl</tt> specifies a flag to pass on to the linker. In this case, the <tt>-L</tt> flag is passed on. This has the same effect as the <tt>-L</tt> option.</p></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-n</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-shared</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Generates shareable code.</p></td></tr><tr><td class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Bshareable</tt></p></td><td class="docTableCell" align="left" valign="top">&nbsp;</td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-N</tt></P></td><TD class="docTableCell" align="left" valign="top"><p class="docText">None</p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Generates unshareable code.</p></td></tr><TR><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-noshared</tt></P></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-static</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Creates statically bound executables.</p></TD></TR><tr><td class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Bstatic</tt></P></td><td class="docTableCell" align="left" valign="top">&nbsp;</td></TR><tr><td class="docTableCell" align="left" valign="top">&nbsp;</TD><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-dn</tt></p></td><td class="docTableCell" align="left" valign="top">&nbsp;</td></tr><tr><td class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-non_shared</tt></p></td><td class="docTableCell" align="left" valign="top">&nbsp;</TD></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-o</tt><span class="docEmphasis"><tt>outfile</tt></span></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-o</tt><span class="docEmphasis"><tt>outfile</tt></span></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Places object modules in file <span class="docEmphasis"><tt>outfile</tt></span>.</p></td></TR><TR><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-O</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-O2</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Optimizes at level 2.</P></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-p</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-p</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Inserts information required by the <tt>prof</tt> profiler in the object file.</p></td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-P</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Performs preprocessing only with output to the corresponding .i file.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-q</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</P></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Marks the executable as demand-loadable.</p></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Q</tt></p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">None</P></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Marks the executable as not being demand-loadable.</p></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-S</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-s</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Strips the symbol table from the executable file.</p></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-S</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-S</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Generates an assembly language source file.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-t</tt> <span class="docEmphasis"><tt>x</tt></span>,<span class="docEmphasis"><tt>name</tt></span></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Substitutes or inserts subprocess <span class="docEmphasis"><tt>x</tt></span> with <span class="docEmphasis"><tt>name</tt>.</span>
</p></TD></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-U</tt><span class="docEmphasis"><tt>name</tt></span></P></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-U</tt><span class="docEmphasis"><tt>name</tt></span></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Undefines <span class="docEmphasis"><tt>name</tt></span> in the preprocessor.</P></TD></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-v</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-v</tt></P></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Enables verbose mode.</p></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-###</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Shows each invoked component; do not execute.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-V</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>--version</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Causes subprocesses to print version</p></td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-version</tt></P></td><TD class="docTableCell" align="left" valign="top">&nbsp;</td><TD class="docTableCell" align="left" valign="top"><p class="docText">information to <tt>stderr</tt>.</p></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-w</tt></P></TD><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-w</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Suppresses warning messages.</p></td></TR><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Wd,-a</tt> or <tt>+a</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Omits HP-provided prefix files required by the linker.</p></TD></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-W</tt><span class="docEmphasis"><tt>x</tt></span>, <tt>arg1 [,arg2,..,arg</tt> <span class="docEmphasis"><tt>n]</tt></span></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-W</tt><span class="docEmphasis"><tt>x, option</tt></span></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Passes the arguments to the subprocess <span class="docEmphasis"><tt>x</tt>.</span></p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-y</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Generates information used by the HP SoftBench static analysis tool.</p></TD></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Y</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</P></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">Enables Native Language Support (NLS).</p></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-z</tt></p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">Default (also see <tt>-fno-delete-null-pointer-checks-fdelete-null-pointer-checks</tt>)</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Disallows runtime dereferencing of null pointers.</p></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Z</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Allows dereferencing of null pointers at runtime.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+DA</tt><span class="docEmphasis"><tt>model</tt></span></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-b</tt> <span class="docEmphasis"><tt>machine</tt></span> <tt>-m</tt><span class="docEmphasis"><tt>options</tt></span> (if <tt>gcc</tt> is set up as a cross-compiler)</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Generates object code for a specific version of the PA-RISC architecture. In <span class="docEmphasis"></span> the case of GCC, whichever platform it is, is set up for cross-compiling.</P></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+DC</tt><span class="docEmphasis"><tt>apptype</tt></span></P></td><TD class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Generates code for portable or embedded applications.</p></TD></TR><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+DD32</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-mpa-risc-1-1</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Generates 32-bit code for PA1.1 architecture.</P></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+DD64</tt> (64-bit)</P></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-mpa-risc-2-0</tt> (32-bit)</p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Generates <span class="docEmphasis">x</span>-bit code for PA2.0 architecture.</p></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+df</tt><span class="docEmphasis"><tt>name</tt></span></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Specifies the profile database to use with profile-based optimization.</p></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>+DS</tt><span class="docEmphasis"><tt>model</tt></span></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">None</p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Performs instruction scheduling for a specific implementation of PA-RISC.</P></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+DO</tt><span class="docEmphasis"><tt>osname</tt></span></P></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">None</p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Sets the target operating system for the compiler.</p></td></tr><TR><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>+e</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Enables the following HP value-added features while compiling in ANSI C mode: sized enum, long long, long pointers, compiler-supplied defaults for missing arguments to intrinsic calls, and $ in identifier HP C extensions.</p></td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+ESfic</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Compiles with inline fast indirect calls.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+ESconstlit</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Introduces new default behavior. HP C now stores constant-qualified (const) objects and literals in read-only memory.</P></td></TR><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>+ESlit</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>default</tt></p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">Places string literals and constants into read-only data storage.</P></td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+ESnolit</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">None</P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Disables <tt>+ESconstlit</tt>, causing HP C to no longer store literals in read-only memory.</p></td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+ESnoparmreloc</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Disables parameter relocation for function calls.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+ESsfc</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Replaces function pointer comparison millicode calls with inline code.</p></TD></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>+f</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">None</P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Inhibits the promotion of float to double, except for function calls and returns.</p></td></TR><TR><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>+FP</tt><span class="docEmphasis"><tt>flag</tt></span><tt>s</tt> Example:<tt>+FPVZO</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Controls floating-point traps.</P></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+help</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Launches a Web browser displaying an HTML version of the HP C/HP-UX online help.</p></td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+hugesize</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Lowers the threshold for huge data.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+I</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-fprofile-generate</tt></P></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Prepares the object code for profile-based optimization data collection.</p></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+k</tt></p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">None</P></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Generates long-displacement code sequences so that a program can reference large amounts of global data physically located in shared libraries.</p></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>+L</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Enables any <tt>#pragma</tt> listing directives and the listing facility.</p></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+m</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Prints identifier maps in the source code listing.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+o</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Prints hexadecimal code offsets in the source code listing.</p></TD></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+[no]objdebug</tt><a name="d0e61159"></a><a name="d0e61160"></a><a name="d0e61161"></a></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">When used with <tt>-g, +objdebug</tt> leaves debug information in the object files.</P></TD></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+O[0|1|2|3|4]</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-O[0|1|2|3|s]</tt></P></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Invokes the optimization level.</p></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+P</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-fprofile-generate-fprofile-use</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Performs profile-based optimization.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+pgmname</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Specifies the execution profile data set to be used by the optimizer.</p></td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+r</tt></P></td><TD class="docTableCell" align="left" valign="top"><p class="docText">None</p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Inhibits the automatic promotion of float to double.</p></td></tr><TR><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>+sb</tt></P></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-fsigned-bitfields-fno-unsigned- bitfields</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Makes bit fields signed by default in both 32- and 64-bit modes.</p></TD></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+u</tt><span class="docEmphasis"><tt>bytes</tt></span></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-falign-labels=</tt><span class="docEmphasis"><tt>n</tt></span> (align branch targets to a power of 2 boundary)</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Controls pointer alignment where <span class="docEmphasis"><tt>bytes</tt></span> is 1, 2, or 4.</P></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+uc</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-funsigned-char</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Makes unqualified char data types unsigned.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+w</tt><span class="docEmphasis"><tt>n</tt></span></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-W</tt><span class="docEmphasis"><tt>options</tt></span> (close equivalent) <tt>-Wall</tt> (turns on all warning messages)</p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Specifies the level of the warning messages, where <span class="docEmphasis"><tt>n</tt></span> is 13 (HP-UX).</P></td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+W n1[,n2,...n</tt><span class="docEmphasis"><tt>N</tt></span>]</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Wno</tt><span class="docEmphasis"><tt>options</tt></span> (close equivalent)</P></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Suppresses the specified warnings.</P></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+Wen1[,n2,...n</tt><span class="docEmphasis"><tt>N</tt></span>]</P></TD><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Werror</tt> (all warnings, close equivalent) <tt>-pendantic</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Changes the specified warnings to errors.</P></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>+Wwn1[,n2,...n</tt><span class="docEmphasis"><tt>N</tt></span>]</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-W</tt><span class="docEmphasis"><tt>options</tt></span> (close equivalent)</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Enables the specified warnings, assuming all other warnings are suppressed with <tt>-w</tt> or <tt>+w3</tt>.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+z</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-fpic</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Generates shared library object code (same as <tt>+Z</tt> in 64-bit mode).</p></td></TR><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>+Z</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-fPIC</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Generates shared library object code with a large data linkage table (long-form PIC).</P></TD></TR></table></p><BR><blockquote><p class="docFootnote"><sup><a name="ch06fn12">[12]</a></sup> HP C/HP-UX Online Help for HP-UX 11i (HP-UX 11.0, HP-UX 11i v1, HP-UX 11i v2) (<a class="docLink" target="_blank" href="http://docs.hp.com/hpux/onlinedocs/dev/C/B3901BA/c_index.html">http://docs.hp.com/hpux/onlinedocs/dev/C/B3901BA/c_index.html</a>)</p></blockquote><blockquote><p class="docFootnote"><sup><a name="ch06fn13">[13]</a></sup> GNU Compiler Collections version 3.4.2 (last updated May 23, 2004)</p></blockquote>

<a name="ch06lev2sec11"></a>

<h4 id="title-IDAD1F03" class="docSection2Title">6.3.2. <a name="iddle1124"></a>C++ Compiler Options<a name="d0e61465"></a></h4>
<p class="docText">HP-UX <tt>aCC</tt> claims to conform to the ISO/IEC 14882 standard for the C++ programming language, whereas GNU C++ claims to be much closer to full conformance to the ISO/ANSI C++ standard.</P>
<p class="docText"><a class="docLink" href="#ch06table04">Table 6-4</a> compares compiler switch options for HP-UX <tt>aC++</tt> and its equivalent switch on GNU <tt>g++</tt>.</P>
<a name="ch06table04"></a><p><table cellspacing="0" FRAME="hsides" RULES="groups" cellpadding="5"><caption><h5 class="docTableTitle">Table 6-4. <a name="iddle1177"></a><a name="iddle1499"></a>HP-UX aCC and g++ Compiler Switches Comparison Table</h5></caption><colgroup align="left" span="3"><col width="100"><col width="100"><col width="300"></colgroup><thead><tr><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">HP aCC Option<sup class="docFootnote"><a class="docLink" href="#ch06fn14">[14]</a></sup></P></th><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">GNU g++ Option<sup class="docFootnote"><a class="docLink" href="#ch06fn15">[15]</a></sup></p></th><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">Description</p></th></tr></thead><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis"><tt>-.suffix</tt></span></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">The <span class="docEmphasis"><tt>suffix</tt></span> parameter represents the character or characters to be used as the output filename suffix.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Aa</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-ansi -std=standard</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Instructs the compiler to use Koenig lookup and strict ANSI for scope rules.
</p></TD></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-AA</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-std=c++98</tt> (closest option found)</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Conforms to the ISO C++ standard.</P></TD></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-AC89</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-std=c89</tt></P></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Invokes the compiler in ANSI C89 compilation mode.</p></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-AC99</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-std=c99</tt><sup class="docFootnote"><a class="docLink" href="#ch06fn16">[16]</a></sup> (also invoke <tt>-pendantic</tt> flag to receive all diagnostics)</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Invokes the compiler in ANSI C99 compilation mode with its features.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Ae</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-std=gnu89</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Invokes as an ANSI C compiler, with additional support for HP C or GNU language extensions.
</p></td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-AOa <BR>-AOe</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-std=iso9899:1990 <BR>-std=iso9899:199409</tt> (invoke with <tt>-Ox</tt> flag for optimization options)</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">In addition to specifying the ANSI C <br>language dialect, allows the optimizer to aggressively exploit the assumption that the source code conforms to the ANSI programming language C standard ISO 9899:1990.</P></TD></TR><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-AP</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">Turns off <tt>-AA</tt> mode and uses the older C++ runtime libraries.</p></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-b</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Creates a shared library rather than an executable file.</P></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-c</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-c</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Compiles one or more source files but does not enter the linking phase.</p></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-C</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-C</tt></P></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Prevents the preprocessor from stripping comments.</p></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-dynamic</tt></P></TD><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Wl,-Bdynamic</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Produces dynamically bound executables.</p></td></TR><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-D</tt><span class="docEmphasis"><tt>name</tt></span><tt>[=def]</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-D</tt><span class="docEmphasis"><tt>name</tt></span><tt>=def</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Defines a symbol name (<span class="docEmphasis"><tt>name</tt></span>) to the preprocessor, as if defined by the preprocessing directive <tt>#define</tt>.</p></TD></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>+d</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-fno-default-inline</tt> (close but not exact) <tt>-fno-inline</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Prevents the expansion of inline functions.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+dryrun</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-###</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Displays the options passed, but does not execute.</p></TD></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-ext <br>+e</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">None</P></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Enables platform-dependent C++ standards extensions.</P></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-E</tt></P></TD><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-E</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Runs only the preprocessor on the named C++ files and sends the result to standard output (<tt>stdout</tt>).</P></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-fast</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Selects a combination of optimization options for optimum execution speed for reasonable build times.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><a name="iddle1125"></a><tt>-fpeval= precision</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Specifies the minimum precision to use for floating-point expression evaluation.</p></td></TR><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-g[0|1]</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-g[1|2|3]</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Emits different levels of debug information.</P></TD></TR><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-G</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-pg</tt></p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">Compiles and creates the executable file instrumented for use with <tt>gprof</tt>.</p></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Idirs -I-</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-I</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Indicates an optional list of <tt>-Idirectory</tt> specifications.</P></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-mt</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-D_REENTRANT <br>-lpthread</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Compiles multithreading.</p></td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-n</tt></P></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-shared <br>-Bshareable</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Causes the program file produced by the linker to be marked as sharable.</p></td></TR><TR><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-N</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Causes the program file produced by the linker to be marked as unsharable.</P></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-o</tt><span class="docEmphasis"><tt>outfile</tt></span></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-o</tt><span class="docEmphasis"><tt>outfile</tt></span></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Causes the output of the compilation to be placed in <span class="docEmphasis"><tt>outfile</tt></span>.</p></td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-O</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-O2</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Invokes the optimizer to perform level 2 optimizations.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-p</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-p</tt></P></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Compiles and creates the executable file instrumented for use with <tt>prof</tt>.</p></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-P</tt></p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">None</P></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Only preprocesses the files named on the command line without invoking further phases. Leaves the result in corresponding files with the suffix <tt>.i</tt>.</p></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-q</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Causes the output file from the linker to be marked as demand-loadable.</p></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Q</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Causes the program file from the linker to be marked as not demand-loadable.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-r</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-r</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Retains relocation information in the output file for subsequent relinking.</p></TD></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-s</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Wl,-s</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Causes the executable program file created by the linker to be stripped of symbol table information.</P></TD></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-S</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-S</tt></P></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Compiles the named program and leaves the assembly language output in a corresponding file with a <tt>.s</tt> suffix.</p></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-U</tt><span class="docEmphasis"><tt>name</tt></span></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-u -undefined=symbol</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis"><tt>name</tt></span> is the symbol name whose definition is removed from the preprocessor.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-v</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-v</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Enables verbose mode, sending a step-by-step description of the compilation process to <tt>stderr</tt>.</p></td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-V -version</tt></P></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>--version</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Displays the version numbers of the current compiler and linker (if the linker is executed).</p></td></tr><TR><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-w</tt></P></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-w</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Suppresses all warning messages.</p></TD></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Wc,-ansi_for_ scope,[on][off]</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-ffor-scope-fno-for-scope</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Enables or disables the standard scoping rules for init declarations in <tt>for</tt> statements.</P></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Wc,-koenig_ lookup,[on][off]</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Enables or disables standard argument-dependent lookup rules (also known as Koenig lookup).</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-W</tt><span class="docEmphasis"><tt>x</tt></span>, <tt>arg1 [,arg2,..,arg</tt><span class="docEmphasis"><tt>n]</tt></span></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-W</tt><span class="docEmphasis"><tt>x</tt></span>, <tt>arg1 [,arg2,..,arg</tt><span class="docEmphasis"><tt>n]</tt></span></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Passes the arguments <tt>arg1</tt> tHRough <tt>arg</tt><span class="docEmphasis"><tt>n</tt></span> to the subprocess <span class="docEmphasis"><tt>x</tt></span> of the compilation.</p></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Y</tt></p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">None</P></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Enables Native Language Support (NLS) of 8-bit, 16-bit, and 4-byte EUC characters in comments, string literals, and character constants.</p></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-z</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Default</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Disallows dereferencing of null pointers at runtime.</p></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Z</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Allows dereferencing of null pointers at runtime.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+help</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Invokes the initial menu window of the HP <tt>aC++</tt> online programmer's guide.</p></TD></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+ild</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Wl,-i</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Specifies incremental linking.</P></TD></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+noeh</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</P></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Disables exception handling.</p></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+nostl</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Eliminates references to the standard header files and libraries bundled with HP <tt>aC++</tt>.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+O[no]initcheck</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Wuninitialized -O</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">The initialization checking feature.</p></td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+sb</tt></P></td><TD class="docTableCell" align="left" valign="top"><p class="docText">None</p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Specifies unqualified char/short/int/long/long long bit fields as signed.</p></td></tr><TR><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>+tls=[static|dynamic</tt></P></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-ftls-model=</tt><span class="docEmphasis"><tt>model</tt></span></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Specifies whether references to thread local data items are to be performed according to the mode.</p></TD></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+ub</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Specifies unqualified char/short/int/long/long long bit fields as unsigned.</P></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+uc</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Specifying <tt>+uc</tt> causes an unqualified (plain) char data type to be treated as unsigned char.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+Warg1 [,arg2,..arg</tt><span class="docEmphasis"><tt>n]</tt></span></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Selectively suppresses any specified warning messages, where <tt>arg1</tt> tHRough <tt>arg</tt><span class="docEmphasis"><tt>n</tt></span> are valid compiler warning message numbers.</p></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+We</tt></p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Werror</tt></P></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Interprets all warning and future error messages as errors.</p></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>+Wearg1 [,arg2,..arg</tt><span class="docEmphasis"><tt>n]</tt></span></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Selectively interprets any specified warning or future error messages as errors. <tt>arg1</tt> through <tt>arg</tt><span class="docEmphasis"><tt>n</tt></span> are valid compiler warning message numbers.</p></td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+Wwarg1 [,arg2,..arg</tt><span class="docEmphasis"><tt>n]</tt></span></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Selectively treats compiler warnings as warnings. <tt>arg1</tt> through <tt>arg</tt><span class="docEmphasis"><tt>n</tt></span> are valid compiler message numbers.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Wl,+FPVZO</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">None</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Hardware trap FPEs.<a name="d0e62689"></a><a name="d0e62690"></a><a name="d0e62691"></a></p></TD></tr></table></P><br><blockquote><p class="docFootnote"><sup><a name="ch06fn14">[14]</a></sup> HP aC++ version A.05.50 Programmer's Guide (HP-UX 11i v2) (<a class="docLink" target="_blank" href="http://docs.hp.com/hpux/onlinedocs/4310/index.htm">http://docs.hp.com/hpux/onlinedocs/4310/index.htm</a>)</p></blockquote><blockquote><p class="docFootnote"><sup><a name="ch06fn15">[15]</a></sup> GNU Compiler Collections version 3.4.2 (last updated May 23, 2004)</p></blockquote><blockquote><p class="docFootnote"><sup><a name="ch06fn16">[16]</a></sup> GCC has incomplete support for C99. See <a class="docLink" target="_blank" href="http://gcc.gnu.org/gcc-3.4/c99status.html">http://gcc.gnu.org/gcc-3.4/c99status.html</a>.</p></blockquote>

<a name="ch06lev2sec12"></a>

<H4 id="title-IDA41RQ3" class="docSection2Title">6.3.3. <a name="iddle2453"></a><a name="iddle1447"></a><a name="iddle1181"></a><a name="iddle1503"></a>Template Instantiation in GNU g++</H4>
<p class="docText">According to the document &quot;Using the GNU Compiler Collection,&quot;<sup class="docFootnote"><a class="docLink" href="#ch06fn17">[17]</a></sup> the GNU <tt>g++</tt> compiler provides two automated approaches to template instantiation: the Borland and the Cfront model.<sup class="docFootnote"><a class="docLink" href="#ch06fn18">[18]</a></sup> On platforms other than the Linux on IA, <tt>g++</tt> implements neither automatic instantiation approach. For all applications that use template instantiation to be ported to Linux, the best approach is to modify the code to include template definitions to make them available at one or more points of instantiation; usually this is as simple as adding <tt>#include &lt;temp_methods.c&gt;</tt> to the end of each template header (see <a class="docLink" href="#ch06ex01">Examples 6-1</a>, <a class="docLink" href="#ch06ex02">6-2</a>, and <a class="docLink" href="#ch06ex03">6-3</a>).</P><blockquote><p class="docFootnote"><sup><a name="ch06fn17">[17]</a></sup> Last updated May 23, 2004, for GCC 3.4.2.</p></blockquote><blockquote><p class="docFootnote"><sup><a name="ch06fn18">[18]</a></sup> Refer to the GCC online manual at <a class="docLink" target="_blank" href="http://gcc.gnu.org/onlinedocs/">http://gcc.gnu.org/onlinedocs/</a> for definitions of Borland and Cfront models.</P></blockquote>
<a name="ch06ex01"></a><h5 id="title-IDAL5RQ3" class="docExampleTitle">Example 6-1. Listing of main.C</h5><p><table cellspacing="0" width="90%" border="1" cellpadding="5"><tr><TD>



<pre>#include "stack.h"

int
main()
{
    Stack&lt;int, 60&gt; s;
    int j;
    int i;

    s &gt;&gt; j;
    s &lt;&lt; j;
    i = j;
    return (0);
}
</pre><BR>

</td></tr></table></p>

<p class="docText"></p><a name="ch06ex02"></a><H5 id="title-IDA45RQ3" class="docExampleTitle">Example 6-2. Listing of stack.h</h5><p><table cellspacing="0" width="90%" border="1" cellpadding="5"><tr><TD>



<pre>#ifndef STACK_INCLUDED
#define STACK_INCLUDED

typedef enum{tr, fl} Bool;

template&lt;class Item, int size&gt; class Stack {
    public:
        int operator &lt;&lt; (Item item);
        int operator &gt;&gt; (Item&amp; item);
        Stack(Bool p=fl) {top = 0;}
    private:
        Item stack[size];
        int top;
};

#endif /* STACK_INCLUDED */
</pre><br>

</td></TR></table></p>
<a name="ch06ex03"></a><h5 id="title-IDASI1A4" class="docExampleTitle">Example 6-3. Listing of stack.C</h5><p><table cellspacing="0" width="90%" border="1" cellpadding="5"><tr><td>



<pre>#include "stack.h"

template&lt;class Item, int size&gt;
int Stack&lt;Item, size&gt;::operator &lt;&lt; (Item item) {
    if (top &gt;= size) return 0;
    stack[top++] = item;
    return 1;
}

template &lt;class Item, int size&gt;
int Stack&lt;Item, size&gt;::operator &gt;&gt; (Item&amp; item)
{
    if(top&lt;=0) return 0;
    item = stack[--top];
    return 1;
}
</pre><br>

</td></tr></table></p>
<p class="docText">When compiled on HP-UX with the <tt>aCC</tt> compiler, the files of main.C, stack.C, and stack.h produce an executable without compile errors when using the <tt>+inst_implicit_include</tt> flag:</p>
<div class="docText"><pre><a name="PLID6"></a><div class="v1"><a href="ch06lev1sec3.html#PLID6">[View full width]</a></div>$ aCC +inst_implicit_include<sup class="docFootnote"><a class="docLink" href="#ch06fn19">[19]</a></sup> -o test main.C
$ ./main
</pre></div><br><blockquote><p class="docFootnote"><sup><a name="ch06fn19">[19]</a></sup> Refer to &quot;Using Templates in HP aC++,&quot; September 27, 1997,
<img border="0" width="14" height="9" alt="" align="left" src="images/ccc.gif"> available from <a class="docLink" target="_blank" href="http://docs.hp.com">http://docs.hp.com</a>.</p></blockquote>
<p class="docText">When compiled on Linux using <tt>g++</tt>, it results in the following compiler error:</P>
<div class="docText"><pre>$ g++ -o main main.C
/tmp/ccicEJmr.o(.text+0x45): In function 'main':
: undefined reference to 'Stack&lt;int, 60&gt;::operator&gt;&gt;(int&amp;)'
/tmp/ccicEJmr.o(.text+0x5d): In function 'main':
: undefined reference to 'Stack&lt;int, 60&gt;::operator&lt;&lt;(int)'
collect2: ld returned 1 exit status
</pre></div><br>
<p class="docText">The problem here is that when Stack was instantiated, the definitions for operators <tt>&lt;&lt;</tt> and <tt>&gt;&gt;</tt> could not be found, and thus the error. The preceding <tt>g++</tt> compiler error is corrected by modifying stack.h to include stack.C, as shown in <a class="docLink" href="#ch06ex04">Example 6-4</a>.</p>
<a name="ch06ex04"></a><H5 id="title-IDACL1A4" class="docExampleTitle">Example 6-4. Listing of Modified stack.h</h5><P><table cellspacing="0" width="90%" border="1" cellpadding="5"><tr><TD>



<pre>#ifndef STACK_INCLUDED
#define STACK_INCLUDED

typedef enum{tr, fl} Bool;

template&lt;class Item, int size&gt; class Stack {
    public:
        int operator &lt;&lt; (Item item);
        int operator &gt;&gt; (Item&amp; item);
        Stack(Bool p=fl) {top = 0;}
    private:
        Item stack[size];
        int top;
};

#include "stack.C"             /* include stack.C */

#endif /* STACK_INCLUDED */
</pre><br>

</td></tr></table></p>
<p class="docText">Then compile with <tt>g++</tt>:</P>
<div class="docText"><pre>$ g++ -o main main.C
</pre></div><BR>
<p class="docText">As mentioned earlier, modifying the code to include template definitions makes these definitions available at one or more points of instantiation, avoiding the error encountered earlier.<a name="d0e62885"></a><a name="d0e62886"></a><a name="d0e62887"></a><a name="d0e62888"></a></P>

<a name="ch06lev2sec13"></a>
<h4 id="title-IDAXM1A4" class="docSection2Title">6.3.4. <a name="iddle1175"></a><a name="iddle1497"></a>Building 32- or 64-Bit Binaries</H4>
<p class="docText"><a class="docLink" href="#ch06table05">Table 6-5</a> compares compiler switch options for <a name="iddle1007"></a><a name="iddle1009"></a><a name="iddle1894"></a><a name="iddle1931"></a>HP-UX compilers and the equivalent switch on GNU for creating 32- and 64-bit binaries.<a name="d0e62944"></a><a name="d0e62945"></a><a name="d0e62946"></a><a name="d0e62947"></a><a name="d0e62948"></a><a name="d0e62949"></a></p>
<a name="ch06table05"></a><p><table cellspacing="0" FRAME="hsides" RULES="groups" cellpadding="5"><caption><h5 class="docTableTitle">Table 6-5. HP-UX and Linux Compiler Build Switches for Platform-Dependent Builds</h5></caption><colgroup align="left" span="4"><col width="50"><col width="150"><col width="150"><col width="150"></colgroup><thead><TR><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">HP Option</P></th><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">HP Description</p></th><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">GNU Option</p></th><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">GNU Description</p></th></tr></thead><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+DD32</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>32</tt> (generates ILP32 code and is the default)</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-m32</tt> (platforms other than IA32) Default on IA32</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>32</tt> (generates ILP32 code)</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+DD64</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>64</tt> (generates LP64 code)</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-m64</tt> (AMD x86-64 code)</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>64</tt> (generates LP64 and AMD x86-64 code)</p></TD></tr></table></P><br>
<p class="docText">Refer to <a class="docLink" href="ch03.html#ch03">Chapter 3</a>, &quot;Analysis,&quot; for more information about 32-to-64-bit migration.</p>

<a name="ch06lev2sec14"></a>
<h4 id="title-IDAUU3A4" class="docSection2Title">6.3.5. Compiler <a name="iddle1179"></a><a name="iddle1501"></a>Optimization and Performance Options</h4>
<p class="docText"><a class="docLink" href="#ch06table06">Table 6-6</a> compares compiler switch options for HP-UX and its equivalent switch on GNU for optimizing executables.<a name="d0e63087"></a><a name="d0e63088"></a></P>

<p class="docText"></P><a name="ch06table06"></a><P><table cellspacing="0" FRAME="hsides" RULES="groups" cellpadding="5"><caption><h5 class="docTableTitle">Table 6-6. HP-UX and Linux Compiler Optimization Switches</H5></caption><colgroup align="left" span="4"><col width="50"><col width="200"><col width="50"><col width="250"></colgroup><thead><tr><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">HP-UX Option</p></th><th class="bottomBorder thead" scope="col" align="left" valign="bottom"><p class="docText">HP-UX Description</p></th><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">GNU Level</p></th><th class="bottomBorder thead" scope="col" align="left" valign="bottom"><p class="docText">GNU Description</P></th></TR></thead><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+O0</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Constant folding and simple register assignment. Compiles fastest.</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-O0</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Does not optimize. This is the default.</P></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+O1</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Performs level 1 optimization only. This includes branch optimization, dead code elimination, faster register allocation, instruction scheduling, and peephole optimization. This is the default optimization level.</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-O<br>-O1</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Tries to reduce code size and execution time without performing optimization that takes a great deal of compilation time. Merges constants, optimizes jump instructions, transforms conditional jumps to branchless equivalents, and attempts to reorder instructions to optimize execution stalls.
</p></td></TR><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>+O2</tt> or <tt>-O</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Optimizations performed over entire functions in a single file. Optimizes loops to reduce pipeline stalls. Performs scalar replacement and analysis of data flow, memory usage, loops, and expressions. Can produce faster runtime code than level 1 if programs use loops extensively.</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-O2</tt></P></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">Optimizes better than <tt>-O</tt>. Performs optimization that does not require size-speed trade-off. Increases compilation time and application performance. Turns on all optimization flags specified in <tt>-O</tt>. Forces memory operands to be copied into registers before doing arithmetic on them. Scans jump instructions when target of jump is not reached by any other path. Performs loop optimization. Enables <tt>peephole2</tt> optimization. Aligns start of functions and branch targets.</p></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+O3</tt></p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">Full optimization across all Full optimization across all subprograms within a single file. Includes subprogram inlining. Can produce faster runtime code than level 2 on code that frequently calls small functions. Links faster than level 4.</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-O3</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Turns on all optimization specified in <tt>-O2</tt>. Integrates simply functions into their callers. Makes use of registers left over after register allocation.</p></td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>+O4</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Performs level 4 optimization. This includes level 3 optimization. Plus full optimizations across the entire application program. Note: Object files produced at this level are intended to be temporary. Hewlett-Packard reserves the right to change the format of these files without prior notice. There is no guarantee that intermediate object files will be compatible from one revision of the <a name="iddle1417"></a>compiler to the next.</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-Os</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Optimizes for size. Enables <tt>-O2</tt> optimization properties that do not increase code size.<a name="d0e63264"></a></p></td></tr></table></p><br>

<a name="ch06lev2sec15"></a>
<H4 id="title-IDACVIO3" class="docSection2Title">6.3.6. <a name="iddle1502"></a><a name="iddle1180"></a>Porting and Compiling Using GNU</h4>
<p class="docText">When compiling an application, several predefines can be used to turn features on or off, depending on the platform and environment that application will run on. The GNU <tt>gcc</tt> predefines some default definitions, and it is important to know what they are. Be aware that different installations of Linux may have different predefines for the GNU compiler.</p>
<p class="docText">To find out what <tt>gcc</tt> &quot;predefines&quot; during compile time, issue the following command from the command line:</P>
<div class="docText"><pre><span class="docEmphStrong">$ echo 'main(){printf("hello world\n");}' | gcc -v -E -</span>
Reading specs from /usr/lib/gcc-lib/i586-suse-linux/3.3.3/specs
Configured with: ../configure --enable-threads=posix --prefix=/usr
--with-local-prefix=/usr/local --infodir=/usr/share/info --mandir=/usr/share/man
--enable-languages=c, c++,f77, objc,java, ada --disable-checking --libdir=/usr/lib
--enable-libgcj --with-gxx-include-dir=/usr/include/g++ --with-slibdir=/lib
--with-system-zlib --enable-shared --enable-__cxa_atexit i586-suse-linux
Thread model: posix
gcc version 3.3.3 (SuSE Linux)
 /usr/lib/gcc-lib/i586-suse-linux/3.3.3/cc1 -E -quiet -v -D__GNUC__=3
-D__GNUC_MINOR__=3 -D__GNUC_PATCHLEVEL__=3 -
#include "..." search starts here:

#include &lt;...&gt; search starts here:
 /usr/local/include
 /usr/lib/gcc-lib/i586-suse-linux/3.3.3/include
 /usr/i586-suse-linux/include
 /usr/include
End of search list.
# 1 "&lt;stdin&gt;"
# 1 "&lt;built-in&gt;"
# 1 "&lt;command line&gt;"
# 1 "&lt;stdin&gt;"
main(){printf("hello world\n");}
</pre></div><br>
<p class="docText">In this particular example, the predefined variables are as follows:</P>
<div class="docText"><pre>-D__GNUC__=3 -D__GNUC_MINOR__=3 -D__GNUC_PATCHLEVEL__=3
</pre></div><br>
<p class="docText">To define default variables for this installation, the file usr/lib/gcc-lib/i586-suse-linux/3.3.3/specs can be edited to add more predefined variables. Another way to define variables during compile time is by using the <tt>-D&lt;variable_name&gt;</tt> switch to the appropriate build flags in the makefiles.<a name="d0e63330"></a><a name="d0e63331"></a></P>

<a name="ch06lev2sec16"></a>
<h4 id="title-IDAYXIO3" class="docSection2Title">6.3.7. <a name="iddle1864"></a>Namespace Selection on Linux Platform</h4>
<p class="docText">Linux header files and libraries offer support for several <a name="iddle1178"></a><a name="iddle1500"></a>namespaces for different types of standards compliance. They are described in <a class="docLink" href="#ch06table07">Table 6-7</a>.</p>
<a name="ch06table07"></a><p><table cellspacing="0" FRAME="hsides" RULES="groups" cellpadding="5"><caption><H5 class="docTableTitle">Table 6-7. Linux Namespace Table</H5></caption><colgroup align="left" span="2"><col width="200"><col width="300"></colgroup><thead><TR><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">Linux Definitions<sup class="docFootnote"><a class="docLink" href="#ch06fn20">[20]</a></sup></p></th><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">Description</P></th></tr></thead><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>__STRICT_ANSI__</tt></p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">ISO Standard C.</p></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>_ISOC99_SOURCE</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Extensions to ISO C89 from ISO C99.</P></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>_POSIX_SOURCE</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">IEEE Std 1003.1.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>_POSIX_C_SOURCE</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">If ==1, like _POSIX_SOURCE;</p></TD></tr><tr><TD class="docTableCell" align="left" valign="top">&nbsp;</td><TD class="docTableCell" align="left" valign="top"><p class="docText">if &gt;=2, add IEEE Std 1003.2;</p></TD></tr><tr><td class="docTableCell" align="left" valign="top">&nbsp;</td><TD class="docTableCell" align="left" valign="top"><p class="docText">if &gt;=199309L, add IEEE Std 1003.1b-1993;</P></TD></tr><TR><td class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top"><p class="docText">if &gt;=199506L, add IEEE Std 1003.1c-1995;</p></TD></TR><tr><td class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top"><p class="docText">if &gt;=200112L, all of IEEE 1003.1-2001.</P></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>_XOPEN_SOURCE</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Includes POSIX and XPG things. Set to 500 if Single UNIX Specification version 2 conformance is wanted, to 600 if SUSv3.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>_XOPEN_SOURCE_EXTENDED</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">XPG things and X/Open UNIX extensions.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>_LARGEFILE_SOURCE</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Some more functions for correct standard I/O.</P></td></TR><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>_LARGEFILE64_SOURCE</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Additional functionality from LFS for large files.</p></TD></TR><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>_FILE_OFFSET_BITS=N</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Select default filesystem interface.</p></td></TR><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>_BSD_SOURCE</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">ISO C, POSIX, and 4.3BSD things.</P></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>_SVID_SOURCE</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">ISO C, POSIX, and SVID things.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>_GNU_SOURCE</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">All of the above, plus GNU extensions.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>_REENTRANT</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Select additionally reentrant object.</P></td></TR><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>_ThrEAD_SAFE</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Same as <tt>_REENTRANT</tt>; often used by other systems.</P></TD></TR><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>_FORTIFY_SOURCE</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">If set to numeric value &gt; 0, additional security measures are defined, according to level.</p></TD></TR></table></p><br><blockquote><p class="docFootnote"><sup><a name="ch06fn20">[20]</a></sup> Taken from /usr/include/features.h</p></blockquote>
<p class="docText">Namespace definitions provide a way to check what level of support is provided on the Linux installation. For example, an application can check to see whether the installation conforms to SUSv3 by checking the value of <tt>_XOPEN_SOURCE</tt>. If it does not conform to SUSv3, it can execute a different path.<a name="d0e63632"></a><a name="d0e63633"></a><a name="d0e63634"></a></p>


<a href="9001536.html"><img src="images/pixel.jpg" alt="" width="1" height="1" border="0"></a></TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch06lev1sec2.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch06lev1sec4.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>