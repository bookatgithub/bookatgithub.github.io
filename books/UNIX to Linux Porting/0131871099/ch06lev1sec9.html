<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 6.9.&nbsp; Software Development Tools</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch06lev1sec8.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch06lev1sec10.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><TR><td valign="top"><a name="ch06lev1sec9"></a>
<H3 id="title-IDAGPIO3" class="docSection1Title">6.9. Software Development Tools</h3>
<p class="docText">The <tt>make</tt> development tool in Linux is <a name="iddle1506"></a>GNU Make. As of this writing, the latest version of GNU Make is version 3.8, which this section is based on. Porting the build environment from HP-UX to Linux means using the GNU Make as well as making sure project makefiles use syntax that the GNU Make understands.</P>
<p class="docText">Because both HP-UX<sup class="docFootnote"><a class="docLink" href="#ch06fn27">[27]</a></sup> and GNU Make conform to the POSIX standard, similarities between HP-UX and GNU makefile syntax abound. However, there are still some differences, which this section covers. The first differences to take note of are the command-line switches. <a class="docLink" href="#ch06table13">Table 6-13</a> shows a comparison between HP-UX and GNU Make command-line switches.<a name="d0e66425"></a><a name="d0e66426"></a></p><blockquote><p class="docFootnote"><sup><a name="ch06fn27">[27]</a></sup> HP-UX make also conforms to SVID2, SVID3, XPG2, XPG3, XPG4.</p></blockquote>
<a name="ch06table13"></a><p><table cellspacing="0" FRAME="hsides" RULES="groups" cellpadding="5"><caption><h5 class="docTableTitle">Table 6-13. HP-UX Make and GNU Make Comparison Table</H5></caption><colgroup align="left" span="3"><col width="100"><col width="200"><col width="200"></colgroup><thead><TR><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">HP-UX Flag</P></th><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">HP-UX make Description<sup class="docFootnote"><a class="docLink" href="#ch06fn28">[28]</a></sup></p></th><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">GNU Make Equivalents</P></th></tr></thead><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-b</tt> (default)</p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">Compatibility mode for version 7 makefiles.</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-b <br>-m</tt></P></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-B</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Turn off compatibility mode for version 7.</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">No equivalent</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-d</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Debug mode.</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-d</tt></p></td></TR><tr><TD class="docTableCell" align="left" valign="top">&nbsp;</td><TD class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>--debug[=options]</tt></p>
</td></TR><TR><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-e</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Environment variable assignments within makefiles.</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-e --environment-overrides</tt></P></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-f</tt> <span class="docEmphasis"><tt>makefile</tt></span></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Use <span class="docEmphasis"><tt>makefile</tt></span> as the makefile target.</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-f</tt> <span class="docEmphasis"><tt>makefile</tt></span> <tt>--file=</tt><span class="docEmphasis"><tt>file</tt></span> <tt>--makefile=</tt><span class="docEmphasis"><tt>file</tt></span></p></td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-i</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Ignore error codes returned by invoked commands.</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-i</tt><tt>--ignore-errors</tt></p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-k</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">When command returns nonzero status, abandon work but continue on other branches that do not depend on abandoned target.</P></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-k</tt><tt>--keep-going</tt></p></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-n</tt></p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">No execute mode; print commands, but do not execute.</P></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-n --just-print --dry-run --recon</tt></p></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-p</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Print the complete set of macro definitions and target descriptions.</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-p --print-data-base</tt></p></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-P</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Update in parallel more than onetarget at a time.</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">No equivalent</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-q</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Question mode. Make returns a zero or nonzero status code depending on whether the target file is or is not up-to-date. Targets are not updated with this option.</p></TD><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-q</tt>Return: 0 if target is up-to-date 1 if remaking required 2 if error encountered</p></TD></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-r</tt></P></td><td class="docTableCell" align="left" valign="top"><p class="docText">Clear suffix list and do not use built-in rules.</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-r --no-builtin-rules</tt></P></TD></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-s</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Silent mode.</P></TD><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-s --silent --quiet</tt></p>
</td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-S</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Terminate if an error occurs.</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-S --no-keep-going --stop</tt></p>
</td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-t</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Touch target files.</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-t</tt></p>
</td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>-u</tt></P></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Unconditional make, ignoring timestamps.</p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">None</p></td></tr><TR><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>-w</tt></P></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Suppress warning messages.</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">No equivalent <tt>-w</tt> flag used for printing message for current working directory</p></TD></TR></table></p><br><blockquote><p class="docFootnote"><sup><a name="ch06fn28">[28]</a></sup> HP-UX make man pages</p></blockquote>
<a name="ch06lev2sec23"></a>

<h4 id="title-IDAO3IO3" class="docSection2Title">6.9.1. Makefile Syntax</H4>
<a name="ch06lev3sec1"></a>
<h5 id="title-IDAX3IO3" class="docSection3Title">6.9.1.1. <a name="iddle1465"></a><a name="iddle1512"></a>Target for the <a name="iddle1361"></a>Form file((entry))</h5>
<p class="docText">Library dependencies of the form <tt>libname ((entry))</tt> are not supported by GNU Make. GNU Make supports <tt>libname(file.o)</tt>, where file.o is the file containing the symbol. This feature was not put into GNU Make because of the nonmodularity of putting knowledge into <tt>make</tt> of the internal format of archive file symbol tables.<a name="d0e66852"></a><a name="d0e66853"></a><a name="d0e66854"></a></p>

<a name="ch06lev3sec2"></a>
<H5 id="title-IDACALO3" class="docSection3Title">6.9.1.2. Use of :<a name="iddle1013"></a><a name="iddle1461"></a><a name="iddle1508"></a>=<a name="d0e66884"></a></h5>
<p class="docText">Values assigned to a variable can be overridden by a conditional macro definition. A conditional macro definition takes on the form <a name="iddle1279"></a><tt>target :=</tt> <span class="docEmphasis"><tt>variable</tt></span> <tt>= value</tt>.<a name="d0e66902"></a> When the target line associated with <tt>target</tt> is being processed, the macro value specified in the conditional macro definition is in effect. If <span class="docEmphasis"><tt>variable</tt></span> was previously defined, the new value of <span class="docEmphasis"><tt>variable</tt></span> overrides the previous definition. The new value of <span class="docEmphasis"><tt>variable</tt></span> takes effect when <tt>target</tt> or any dependents of <tt>target</tt> are being processed.<a name="d0e66927"></a><a name="d0e66928"></a></p>
<p class="docText"><span class="docEmphasis">HP-UX Make</span></P>
<p class="docText">Example:</p>
<div class="docText"><pre>CFLAGS = -O
foo_prog := CFLAGS = -g
foo_prog : foo1.o foo2.o bar.o    <span class="docEmphStrong">CFLAGS = -g will be in effect
                                  for foo_prog target and any
                                  dependents of the target
                                  processed.</span>
</pre></div><br>
<p class="docText"><span class="docEmphasis">GNU Make</span></p>
<p class="docText">In <a name="iddle1002"></a>GNU Make, := is used for variable assignments<a name="d0e66959"></a>. To override assigned values in GNU Make for target-specific variables, use the following syntax:</p>
<div class="docText"><pre>target := variable = value
target : foo1.o foo2.o bar.o     <span class="docEmphStrong">variable = value will be in</span>
                                 <span class="docEmphStrong">effect for target and any</span>
                                 <span class="docEmphStrong">command scripts that create</span>
                                 <span class="docEmphStrong">their prerequisites.</span>
</pre></div><br>

<a name="ch06lev3sec3"></a>
<h5 id="title-IDAMFLO3" class="docSection3Title">6.9.1.3. Use of $$@</h5>
<p class="docText">HP-UX <tt>make</tt> uses the <a name="iddle1460"></a><a name="iddle1507"></a><tt>$$@</tt> syntax, which is a System V <tt>make</tt> syntax, as part of the dependency list to refer to the current target.<a name="d0e67015"></a><a name="d0e67016"></a> The following subsection shows an example of how <tt>$$@</tt> is used in HP-UX makefiles.</p>
<p class="docText"><span class="docEmphasis">HP-UX Make</span></p>
<p class="docText"><tt>$(targets): $$@.o lib.a</tt></p>
<p class="docText"><span class="docEmphasis">GNU Make</span></p>
<p class="docText">The preceding syntax can be replaced in a GNU makefile by using the following syntax:</p>
<p class="docText"><tt>$(target): %: %.o lib.a</tt></p>

<a name="ch06lev3sec4"></a>

<H5 id="title-IDAYHLO3" class="docSection3Title">6.9.1.4. <a name="iddle1463"></a><a name="iddle1510"></a>Empty Rules</h5>
<p class="docText">In <a name="iddle1264"></a>HP-UX makefiles, you can specify a suffix rule with no commands (to override an implicit rule)<a name="d0e67076"></a>. This can be confusing and also meaningless to GNU Make because the command line looks empty (it contains a single tab character). To specify an empty suffix rule with GNU Make, put a semicolon after the dependency, as follows:<a name="d0e67078"></a><a name="d0e67079"></a></p>
<div class="docText"><pre>.c.a: ;
</pre></div><BR>

<a name="ch06lev3sec5"></a>
<h5 id="title-IDAIKLO3" class="docSection3Title">6.9.1.5. <a name="iddle1464"></a><a name="iddle1511"></a><a name="iddle2310"></a>Suffix Support</H5>
<p class="docText">HP-UX supports old-fashioned suffix rules, which GNU Make considers obsolete because pattern rules are more general and cleaner (see <a class="docLink" href="#ch06table14">Table 6-14</a>). GNU Make supports suffix rules for compatibility with older makefile syntax only.<a name="d0e67121"></a><a name="d0e67122"></a><a name="d0e67123"></a></p>
<p class="docText">Suffix rules come in two kinds: double-suffix and single-suffix.</P>
<p class="docText">A single-suffix rule looks like this:</p>
<div class="docText"><pre>.c .c~ .cxx .sh
</pre></div><br>
<p class="docText">The equivalent pattern rule recognized by GNU Make for the <tt>.c</tt> suffix rule is as follows:</p>
<div class="docText"><pre>% : %.c
</pre></div><br>
<p class="docText">A double-suffix rule looks like this:</P>
<div class="docText"><pre>.c.o .C.o .y.o
</pre></div><BR>
<p class="docText">The equivalent pattern rule for a <tt>.c.o</tt> suffix rule is as follows:</P>
<div class="docText"><pre>%.o : %.c
</pre></div><br>
<p class="docText">Suffix rules that handle System V makefiles to support SCCS files that contain <tt>~</tt> are not recognized by GNU Make. In HP-UX, the suffix rule <tt>.c~.o</tt> creates the file x.o from the SCCS file s.n.c. GNU Make handles SCCS and RCS files differently by applying two pattern rules for extraction from SCCS or RCS in combination with general rules of rule chaining. For more information, refer to the GNU Make reference.<sup class="docFootnote"><a class="docLink" href="#ch06fn29">[29]</a></sup></P><blockquote><p class="docFootnote"><sup><a name="ch06fn29">[29]</a></sup> <a class="docLink" target="_blank" href="http://www.gnu.org/software/make/manual/make.html">www.gnu.org/software/make/manual/make.html</a></p></blockquote>

<p class="docText"></p><a name="ch06table14"></a><p><table cellspacing="0" FRAME="hsides" RULES="groups" cellpadding="5"><caption><h5 class="docTableTitle">Table 6-14. Summary of Differences Between HP-UX Make and <a name="iddle1208"></a>GNU Make</H5></caption><colgroup align="left" span="3"><col width="150"><col width="175"><col width="175"></colgroup><thead><TR><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">Description</p></th><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">HP-UX<sup class="docFootnote"><a class="docLink" href="#ch06fn30">[30]</a></sup></p></th><th class="bottomBorder thead" scope="col" align="left" valign="top"><p class="docText">GNU Make</p></th></tr></thead><TR><td class="docTableCell" align="left" valign="top"><p class="docText">Library dependencies</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>libname ((symbol))</tt></p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>libname (file.o)</tt></p>
</td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText">Current target</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>$(targets) : $$@.o</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>$(target) : %: %.o</tt></p>
</td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText">Conditional macro</P></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>$(targets) := c_flags = -g</tt></p></TD><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>$(targets) &#8230; : c_flags = -g</tt></p>
</td></tr><TR><TD class="docTableCell" align="left" valign="top"><p class="docText">Empty rules</P></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>.c.a:</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><tt>.c.a: ;</tt></p>
</TD></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText">Suffix rules</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><tt>.c~.o:</tt></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Built in to GNU Make<a name="d0e67316"></a></P></td></tr></table></P><br><blockquote><p class="docFootnote"><sup><a name="ch06fn30">[30]</a></sup> Linux Porting guide for HP-UX 11.x on PA platforms and GNU Make manual</p></blockquote>


<a name="ch06lev2sec24"></a>
<h4 id="title-IDA2TLO3" class="docSection2Title">6.9.2. <a name="iddle1462"></a><a name="iddle1509"></a>Debuggers</h4>
<p class="docText">On all Linux systems, the default application debugger for non-Java programs is the GNU debugger<tt>gdb</tt> for short. For HP-UX developers, <tt>gdb</tt> is a familiar tool because HP-UX v11 supports a version of <tt>gdb</tt> that has been ported to the HP-UX platform.<a name="d0e67358"></a><a name="d0e67359"></a></p>
<p class="docText">Invoking <tt>gdb</tt> on Linux yields the following:</p>
<div class="docText"><pre>$ gdb
GNU gdb 6.1
Copyright 2004 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain conditions.
Type "show copying" to see the conditions. There is absolutely no warranty for
GDB. Type "show warranty" for details.
This GDB was configured as "i586-suse-linux".
</pre></div><br>
<p class="docText">Invoking <tt>gdb</tt> on HP-UX yields the following:</p>
<div class="docText"><pre>$ gdb
HP gdb 3.2 for PA-RISC 1.1 or 2.0 (narrow), HP-UX 11.00.
Copyright 1986 - 2001 Free Software Foundation, Inc.
Hewlett-Packard Wildebeest 3.2 (based on GDB) is covered by the
GNU General Public License. Type "show copying" to see the conditions to change
it and/or distribute copies. Type "show warranty" for warranty/support.
</pre></div><br>
<p class="docText">See <a class="docLink" href="ch07.html#ch07">Chapter 7</a>, &quot;Testing and Debugging,&quot; for more information about the GNU debugger.</p>


</TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch06lev1sec8.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch06lev1sec10.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>