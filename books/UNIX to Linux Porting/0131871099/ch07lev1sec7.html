<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 7.7.&nbsp; Threads trace Tool</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch07lev1sec6.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch07lev1sec8.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><TR><td valign="top"><a name="ch07lev1sec7"></a>
<H3 id="title-IDADCMM5" class="docSection1Title">7.7. Threads <a name="iddle1883"></a><a name="iddle2499"></a><a name="iddle2501"></a>trace Tool</h3>
<p class="docText">A tool to trace thread execution using the New POSIX Threads Library (NPTL) with as few intrusions as possible is available through an open-source project called <a name="iddle1881"></a><a name="iddle1884"></a>NPTL trace tool.<sup class="docFootnote"><a class="docLink" href="#ch07fn11">[11]</a></sup> The tool, designed to help developers of multithreaded applications, can generate a trace that describes the behavior of threads and provide help needed to understand complex situations such as race conditions, deadlocks, and lock contentions.<a name="d0e78814"></a><a name="d0e78815"></a><a name="d0e78816"></a><a name="d0e78817"></a><a name="d0e78818"></a></P><blockquote><p class="docFootnote"><sup><a name="ch07fn11">[11]</a></sup> <a class="docLink" target="_blank" href="http://nptltracetool.sourceforge.net">http://nptltracetool.sourceforge.net</a></p></blockquote>
<p class="docText">The <tt>trace</tt> tool starts when the application to be traced starts executing and stops as soon as the application stops. The trace produced can be viewed in text or graphical format. As of this writing, the tool is available only as a beta version (0.8.1). It currently traces 15 of the most common POSIX thread routines and four objects.<sup class="docFootnote"><a class="docLink" href="#ch07fn12">[12]</a></sup> Platforms currently supported by the <tt>trace</tt> tool are the IA32, IA64, and PowerPC architecture.</p><blockquote><p class="docFootnote"><sup><a name="ch07fn12">[12]</a></sup> Condition variables, mutexes, barriers, and threads</P></blockquote>
<p class="docText">The tool requires the user to download the <tt>glibc</tt> source and apply several patches to the NPTL library. These patches are included in the NPTL <tt>TRace</tt> tool distribution and add the necessary trace hooks needed to trace thread execution. Although the tool is in its early stages of development,<sup class="docFootnote"><a class="docLink" href="#ch07fn13">[13]</a></sup> it shows how the open-source community contributes to the advancement of Linux.</P><blockquote><p class="docFootnote"><sup><a name="ch07fn13">[13]</a></sup> Use with extreme care at this point.</p></blockquote>

</TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch07lev1sec6.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch07lev1sec8.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>