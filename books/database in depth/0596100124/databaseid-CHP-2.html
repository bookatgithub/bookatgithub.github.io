<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Chapter Two. Relations Versus Types</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body >
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="databaseid-CHP-1-SECT-9.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="databaseid-CHP-2-SECT-1.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><a name="databaseid-CHP-2"></a>
<h2 class="docChapterTitle">Chapter Two. Relations Versus Types</h2>
<p class="docText"><span class="docEmphStrong">The title of this chapter is Relations Versus Types</span>, but most of it has to do with types. The point is, the relational model certainly requires a supporting type system, but it has very little to say about the nature of that system. Why does it require it? Because relations (and relvars) are defined in terms of types; that is, <span class="docEmphasis">every attribute of every relation (and of every relvar) is defined to be of some type</span>. For example, attribute STATUS of the suppliers relvar S might be of type INTEGER. If it is, then every relation <span class="docEmphasis">s</span> that's a possible value for relvar S must also have a STATUS attribute of type INTEGER—which means in turn that every tuple in such a relation <span class="docEmphasis">s</span> must have a STATUS value that's an integer.</p>
<p class="docText">I'll be discussing such matters in more detail later in this chapter. For now, let me just say that—with certain important exceptions, which I'll also be discussing later—relational attributes can be defined on <span class="docEmphasis">any types whatsoever</span> (implying among other things that those types can be as complex as we like, as we'll see later as well). In particular, such attributes can be defined on either system-defined (that is, built-in) or user-defined types. For our running example, I'll assume the attributes have types as follows (note that some of the attributes have the same name as the types they're defined on and others don't):</P>
<pre>
    Suppliers              Parts                 Shipments

    SNO    : SNO           PNO    : PNO          SNO : SNO
    SNAME  : NAME          PNAME  : NAME         PNO : PNO
    STATUS : INTEGER       COLOR  : COLOR        QTY : QTY
    CITY   : CHAR          WEIGHT : WEIGHT
                           CITY   : CHAR</pre><br>

<p class="docText">I'll also assume, where it makes any difference, that types INTEGER (integers) and CHAR (character strings of arbitrary length) are system-defined and the others are user-defined.</p>
<p class="docText">By the way, SQL in particular does have a built-in type called INTEGER, as I'm sure you know. It also has a built-in type called CHAR, but (a) that type denotes fixed-length strings, not arbitrary-length ones, and (b) the length in question, <span class="docEmphasis">n</span> say, usually has to be specified along with the CHAR specification, like this: CHAR(<span class="docEmphasis">n</span>).<sup class="docFootnote"><a class="docLink" href="#databaseid-CHP-2-FNOTE-1">[*]</a></sup> (CHAR without such a length specification is shorthand for CHAR(1)—not a very useful default, it might be thought.) SQL also allows users to define their own types.</p><blockquote><p class="docFootnote"><sup><a name="databaseid-CHP-2-FNOTE-1">[*]</a></sup> SQL does have a varying-length character-string type, called VARCHAR, but even there a <span class="docEmphasis">maximum</span> length has to be specified.</p></blockquote>
<p class="docText">In the interests of historical accuracy, I should now say that when Codd first defined the relational model, he said relations were defined over <span class="docEmphasis">domains</span>, not types. In fact, however, domains and types are <span class="docEmphasis">exactly the same thing</span>. Now, you can take this claim as a position statement on my part, if you like, but I want to present arguments in the next two sections to support that position. I'll start with the relational model as Codd originally defined it; thus, I'll use the term domain<a name="IDX-CHP-2-0176"></a><a name="IDX-CHP-2-0177"></a>, not type, until further notice. There are two major topics I want to discuss, one per section:</P>
<dl class="docList"><BR><p><dt><span class="docPubcolor"><span class="docEmphasis">Domain-constrained comparisons and "domain check override"</span></span></dt></P>
<dd><p class="docList">I hope this part of the discussion will persuade you that domains really are types.</P></dd><BR><p><dt><span class="docPubcolor"><span class="docEmphasis">Data value atomicity and first normal form</span></span></dt></P>
<dd><p class="docList">And I hope this part will persuade you that those types can be arbitrarily complex.</P>
</dd>
</dl>

<UL></UL></TD></TR></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="databaseid-CHP-1-SECT-9.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="databaseid-CHP-2-SECT-1.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
</body>
</html>
