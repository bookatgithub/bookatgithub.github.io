<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>What's a Relation?</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body >
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="databaseid-CHP-3-SECT-2.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="databaseid-CHP-3-SECT-4.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><TD valign="top"><a name="databaseid-CHP-3-SECT-3"></a>
<H3 class="docSection1Title" >What's a Relation?</h3>
<a name="IDX-CHP-3-0268"></a><a name="IDX-CHP-3-0269"></a><a name="IDX-CHP-3-0270"></a>
<p class="docText">I'll use our usual suppliers relation<a name="IDX-CHP-3-0271"></a><a name="IDX-CHP-3-0272"></a><a name="IDX-CHP-3-0273"></a><a name="IDX-CHP-3-0274"></a><a name="IDX-CHP-3-0275"></a><a name="IDX-CHP-3-0276"></a> as a basis for examples in this section. Here's a picture:</p>
<a name="databaseid-CHP-3-FIG-u07"></a><p><center>
<h5 class="docFigureTitle"></H5>
<img border="0" alt=""  width="392" height="103" SRC="images/0596100124/figs/databaseid_03_u07.gif"></center></p><BR>
<p class="docText">And here's a definition:</p>
<blockquote><p class="docText"><span class="docEmphasis">Definition:</span> Let {<span class="docEmphasis">H</span>} be a tuple heading and let <span class="docEmphasis">t1, t2</span>, . . . <span class="docEmphasis">, tm</span> (<span class="docEmphasis">m</span> <img src=images/ent/U2265.GIF border=0> 0) be distinct tuples with heading {<span class="docEmphasis">H</span>}. The combination, <span class="docEmphasis">r</span> say, of {<span class="docEmphasis">H</span>} and the set of tuples {<span class="docEmphasis">t1, t2</span>, . . . <span class="docEmphasis">, tm</span>} is a <span class="docEmphasis">relation<a name="IDX-CHP-3-0277"></a> value</span> (or just a <span class="docEmphasis">relation</span> for short) over the attributes <span class="docEmphasis">A1, A2</span>, . . . <span class="docEmphasis">, An</span>, where <span class="docEmphasis">A1, A2</span>, . . . <span class="docEmphasis">, An</span> are the attributes in {<span class="docEmphasis">H</span>}. The <span class="docEmphasis">heading</span> of <span class="docEmphasis">r</span> is {<span class="docEmphasis">H</span>}; <span class="docEmphasis">r</span> has the same attributes (and hence the same attribute names and types) and the same degree as that heading does. The <span class="docEmphasis">body</span> of <span class="docEmphasis">r</span> is the set of tuples {<span class="docEmphasis">t1, t2</span>, . . . <span class="docEmphasis">, tm</span>}. The value <span class="docEmphasis">m</span> is the <span class="docEmphasis">cardinality</span> of <span class="docEmphasis">r</span>.</P></blockquote>
<p class="docText">I'll leave it as an exercise to interpret the suppliers relation in terms of the foregoing definition. However, I will at least explain why we call such things relations. Basically, each tuple in a relation represents an <span class="docEmphasis">n</span>-ary relationship, in the ordinary natural-language sense, among a set of <span class="docEmphasis">n</span> values (one value for each tuple attribute), and the full set of tuples in a given relation represents the full set of such relationships that happen to exist at some given time—and, mathematically speaking, that's a relation. Thus, the "explanation" often heard, to the effect that the relational model is so called because it lets us "relate one table to another," though accurate in a kind of secondary sense, really misses the basic point. The relational model is so called because it deals with certain abstractions that we can think of as "tables" but are known, formally, as relations in mathematics.</P>
<p class="docText">Now, a relation, like a tuple, is itself a value and has a type, and that type has a name<a name="IDX-CHP-3-0278"></a>. In <span class="docEmphStrong">Tutorial D</span>, such names take the form RELATION{<span class="docEmphasis">H</span>}, where {<span class="docEmphasis">H</span>} is the heading. Here's an example:</P>
<pre>
    RELATION { SNO SNO, SNAME NAME, STATUS INTEGER, CITY CHAR }</pre><BR>

<p class="docText">(The order in which the attributes are specified is arbitrary.) Also, every relation value is returned by some relation selector<a name="IDX-CHP-3-0279"></a> invocation—for example:</p>
<pre>
    RELATION {
       TUPLE { SNO SNO('S1'), SNAME NAME('Smith'),
                              STATUS 20, CITY 'London' } ,
       TUPLE { SNO SNO('S2'), SNAME NAME('Jones'),
                              STATUS 10, CITY 'Paris'  } ,
       TUPLE { SNO SNO('S3'), SNAME NAME('Blake'),
                              STATUS 30, CITY 'Paris'  } ,
       TUPLE { SNO SNO('S4'), SNAME NAME('Clark'),
                              STATUS 20, CITY 'London' } ,
       TUPLE { SNO SNO('S5'), SNAME NAME('Adams'),
                              STATUS 30, CITY 'Athens' } }</pre><br>

<p class="docText">The order in which the tuples are specified is arbitrary.</p>
<p class="docText">What support does SQL provide for the foregoing ideas? The answer is: not much. It doesn't really have anything analogous to the concept of a relation type<a name="IDX-CHP-3-0280"></a> at all; rather, an SQL table is considered to consist of <span class="docEmphasis">rows</span> (a <span class="docEmphasis">multiset</span> or <span class="docEmphasis">bag</span> of rows, to be precise) that are of a certain <span class="docEmphasis">row</span> type. (It does have something it calls <span class="docEmphasis">named table types</span>, but this construct is very different from our relation type, and I'm not going to discuss it here.) It follows that SQL doesn't really have anything analogous to the RELATION type generator, either. It does, however, have something called a <span class="docEmphasis">table value constructor</span> that's akin, somewhat, to a relation selector. Here's an example:</p>
<pre>
    VALUES ( 1, 2 ), ( 2, 1 ), ( 1, 1 ), ( 1, 2 )</pre><br>

<p class="docText">This expression evaluates to a table with four—not three!—rows and two columns (which have no names).</p>

<ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="databaseid-CHP-3-SECT-2.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="databaseid-CHP-3-SECT-4.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
</body>
</html>
