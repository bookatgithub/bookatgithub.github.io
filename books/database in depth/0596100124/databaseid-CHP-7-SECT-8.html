<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Exercises</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body >
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="databaseid-CHP-7-SECT-7.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="databaseid-CHP-8.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><TD valign="top"><a name="databaseid-CHP-7-SECT-8"></a>
<H3 class="docSection1Title">Exercises</H3>
<a name="databaseid-CHP-7-SECT-8.1"></a>
<H4 class="docSection2Title"></H4>
<a name="databaseid-CHP-7-SECT-8.1.1"></a>
<H5 class="docSection3Title">Exercise 7-1</h5>
<p class="docText">Give definitions, as precisely as you can, of <span class="docEmphasis">functional dependency</span> and <span class="docEmphasis">join dependency</span>.</p>

<a name="databaseid-CHP-7-SECT-8.1.2"></a>
<H5 class="docSection3Title">Exercise 7-2</H5>
<p class="docText">List all of the FDs, trivial as well as nontrivial, satisfied by our usual shipments relvar SP.</p>

<a name="databaseid-CHP-7-SECT-8.1.3"></a>
<h5 class="docSection3Title">Exercise 7-3</h5>
<p class="docText">The concept of FD relies on the notion of tuple equality: true or false?</p>

<a name="databaseid-CHP-7-SECT-8.1.4"></a>
<H5 class="docSection3Title">Exercise 7-4</h5>
<p class="docText">Prove Heath's theorem. Prove also that the converse of that theorem isn't valid.</P>

<a name="databaseid-CHP-7-SECT-8.1.5"></a>
<h5 class="docSection3Title">Exercise 7-5</H5>
<p class="docText">Nonloss decomposition means a relvar is decomposed into projections in such a way that we can recover the original relvar by joining those projections back together again. In fact, if projections <span class="docEmphasis">r1</span> and <span class="docEmphasis">r2</span> of relation <span class="docEmphasis">r</span> are such that every attribute of <span class="docEmphasis">r</span> appears in at least one of <span class="docEmphasis">r1</span> and <span class="docEmphasis">r2</span>, then joining <span class="docEmphasis">r1</span> and <span class="docEmphasis">r2</span> will always produce every tuple of <span class="docEmphasis">r</span>. Prove this assertion. (It follows from the foregoing that the problem with a lossy decomposition is that the join produces additional<span class="docEmphasis"></span>, "spurious" tuples. Since we have no way in general of knowing which tuples in the result are spurious and which genuine, we've lost information.)</P>

<a name="databaseid-CHP-7-SECT-8.1.6"></a>
<H5 class="docSection3Title">Exercise 7-6</H5>
<p class="docText">What's a superkey? What does it mean to say an FD is implied by a superkey? What does it mean to say a JD is implied by a superkey?</p>

<a name="databaseid-CHP-7-SECT-8.1.7"></a>
<h5 class="docSection3Title">Exercise 7-7</h5>
<p class="docText">Keys are supposed to be unique and irreducible. Now, the system is obviously capable of enforcing uniqueness; but what about irreducibility?</p>

<a name="databaseid-CHP-7-SECT-8.1.8"></a>
<h5 class="docSection3Title">Exercise 7-8</h5>
<p class="docText">What's (a) a trivial FD, (b) a trivial JD? Is the former a special case of the latter?</p>

<a name="databaseid-CHP-7-SECT-8.1.9"></a>
<h5 class="docSection3Title">Exercise 7-9</h5>
<p class="docText">Let <span class="docEmphasis">R</span> be a relvar of degree <span class="docEmphasis">n</span>. What's the maximum number of FDs that <span class="docEmphasis">R</span> can possibly satisfy (trivial as well as nontrivial)?</p>

<a name="databaseid-CHP-7-SECT-8.1.10"></a>
<h5 class="docSection3Title">Exercise 7-10</h5>
<p class="docText">Given that <span class="docEmphasis">A</span> and <span class="docEmphasis">B</span> in the FD <span class="docEmphasis">A</span> <img src=images/ent/U2192.GIF border=0> <span class="docEmphasis">B</span> are both <span class="docEmphasis">sets</span> of attributes, what happens if either is the <span class="docEmphasis">empty</span> set?</p>

<a name="databaseid-CHP-7-SECT-8.1.11"></a>
<h5 class="docSection3Title">Exercise 7-11</H5>
<p class="docText">Here's a predicate: on day <span class="docEmphasis">d</span> during period <span class="docEmphasis">p</span>, student <span class="docEmphasis">s</span> is attending lesson <span class="docEmphasis">l</span>, which is being taught by teacher <span class="docEmphasis">t</span> in classroom <span class="docEmphasis">c</span> (where <span class="docEmphasis">d</span> is a day of the week—Monday to Friday—and <span class="docEmphasis">p</span> is a period—1 to 8—within the day). Lessons are one period in duration and have a name that's unique with respect to all lessons taught in the week. Design a set of BCNF relvars for this database. Are your relvars in 5NF? 6NF? What are the keys?</p>

<a name="databaseid-CHP-7-SECT-8.1.12"></a>
<h5 class="docSection3Title">Exercise 7-12</h5>
<a name="IDX-CHP-7-0558"></a><a name="IDX-CHP-7-0559"></a>
<p class="docText">Most of the examples of nonloss decomposition in the body of the chapter showed a relvar being decomposed into exactly two projections. Is it ever necessary to decompose into three or more?</p>

<a name="databaseid-CHP-7-SECT-8.1.13"></a>
<H5 class="docSection3Title">Exercise 7-13</H5>
<p class="docText">Many database designers recommend the use of <span class="docEmphasis">artifical</span> or <span class="docEmphasis">surrogate</span><a name="IDX-CHP-7-0560"></a> keys in base relvars in place of what are sometimes called "natural" primary keys. For example, we might add an attribute—SPNO, say—to our usual shipments relvar (making sure it has the uniqueness property, of course) and then make {SPNO} a surrogate primary key for that relvar. (Note, however, that {SNO,PNO} would still be a key; it just wouldn't be the primary key any longer.) Thus, surrogate keys are keys in the usual relational sense, but (a) they always involve exactly one attribute and (b) their values serve <span class="docEmphasis">solely</span> as surrogates for the entities they stand for (that is, they serve merely to represent the fact that those entities exist—they carry absolutely no additional meaning or baggage of any kind). Ideally, those surrogate values would be system-generated, but whether they're system- or user-generated has nothing to do with the basic idea of surrogate keys as such. Are surrogate keys the same thing as tuple IDs? And do you think they're a good idea?</p>

<a name="databaseid-CHP-7-SECT-8.1.14"></a>
<H5 class="docSection3Title">Exercise 7-14</H5>
<p class="docText">(With acknowledgments to Hugh Darwen.) I decided to throw a party, so I drew up a list of people I wanted to invite and made some preliminary soundings. The response was good, but several people made their acceptance conditional on the acceptance of certain other invitees. For example, Bob and Cal both said they would come if Amy came; Hal said he would come if either Don and Eve both came or Fay came; Guy said he would come anyway; Joe said he would come if Bob and Amy both came; and so on. Design a database to show whose acceptance is based on whose.</P>

<a name="databaseid-CHP-7-SECT-8.1.15"></a>
<h5 class="docSection3Title">Exercise 7-15</H5>
<p class="docText">Design a database for the following. The entities to be represented are employees and programmers. Every programmer is an employee, but some employees aren't programmers. Employees have an employee number, name, and salary. Programmers have a (single) programming language skill. What difference would it make if programmers could have an arbitrary number of such skills?</P>

<a name="databaseid-CHP-7-SECT-8.1.16"></a>
<H5 class="docSection3Title">Exercise 7-16</H5>
<p class="docText">Let <span class="docEmphasis">A, B</span>,and <span class="docEmphasis">C</span> be subsets of the heading of relvar <span class="docEmphasis">R</span> such that the (set-theoretic) union of <span class="docEmphasis">A, B</span>, and <span class="docEmphasis">C</span> is equal to that heading. Let <span class="docEmphasis">AB</span> denote the (set-theoretic) union of <span class="docEmphasis">A</span> and <span class="docEmphasis">B</span>,and similarly for <span class="docEmphasis">AC</span>. Then <span class="docEmphasis">R</span> satisfies the <span class="docEmphasis">multi-valued dependencies</span> (MVDs):</P>
<pre>
  <span class="docEmphasis">
  A</span> <img src=images/ent/U2192.GIF border=0><img src=images/ent/U2192.GIF border=0> <span class="docEmphasis">B</span>
  <span class="docEmphasis">
  A</span> <img src=images/ent/U2192.GIF border=0><img src=images/ent/U2192.GIF border=0> <span class="docEmphasis">C</span>
</pre><BR>

<p class="docText">(where <span class="docEmphasis">A</span> <img src=images/ent/U2192.GIF border=0><img src=images/ent/U2192.GIF border=0> <span class="docEmphasis">B</span> is pronounced "<span class="docEmphasis">A</span> double arrow <span class="docEmphasis">B</span>" or "<span class="docEmphasis">A</span> multi-determines <span class="docEmphasis">B</span>" or "<span class="docEmphasis">B</span> is multi-dependent on <span class="docEmphasis">A</span>," and similarly for <span class="docEmphasis">A</span> <img src=images/ent/U2192.GIF border=0><img src=images/ent/U2192.GIF border=0> <span class="docEmphasis">C</span>) if and only if <span class="docEmphasis">R</span> satisfies the JD <img border="0" alt="" width="7" height="9" SRC="images/0596100124/figs/databaseid_in_07_01.gif">{<span class="docEmphasis">AB,AC</span>}. Show that if relvar <span class="docEmphasis">R</span> satisfies the MVDs <span class="docEmphasis">A</span> <img src=images/ent/U2192.GIF border=0><img src=images/ent/U2192.GIF border=0> <span class="docEmphasis">B</span> and <span class="docEmphasis">A</span> <img src=images/ent/U2192.GIF border=0><img src=images/ent/U2192.GIF border=0> <span class="docEmphasis">C</span>, then it satisfies the property that if it includes the pair of tuples <span class="docEmphasis">&lt;a,b1,c1&gt;</span> and <span class="docEmphasis">&lt;a,b2,c2&gt;</span>, then it also includes the pair of tuples <span class="docEmphasis">&lt;a,b1,c2&gt;</span> and <span class="docEmphasis">&lt;a,b2,c1&gt;</span>.</p>

<a name="databaseid-CHP-7-SECT-8.1.17"></a>
<h5 class="docSection3Title">Exercise 7-17</H5>
<p class="docText">Show that if <span class="docEmphasis">R</span> satisfies the FD <span class="docEmphasis">A</span> <img src=images/ent/U2192.GIF border=0> <span class="docEmphasis">B</span>, it also satisfies the MVD <span class="docEmphasis">A</span> <img src=images/ent/U2192.GIF border=0><img src=images/ent/U2192.GIF border=0> <span class="docEmphasis">B</span>.</P>

<a name="databaseid-CHP-7-SECT-8.1.18"></a>
<h5 class="docSection3Title">Exercise 7-18</h5>
<a name="IDX-CHP-7-0561"></a><a name="IDX-CHP-7-0562"></a>
<p class="docText">(Fagin's theorem<a name="IDX-CHP-7-0563"></a>.) Let <span class="docEmphasis">R</span> be as in <a class="docLink" href="#databaseid-CHP-7-SECT-8.1.16">Exercise 7-16</a>. Show that <span class="docEmphasis">R</span> can be nonloss-decomposed into its projections on <span class="docEmphasis">AB</span> and <span class="docEmphasis">AC</span> if and only if it satisfies the MVDs <span class="docEmphasis">A</span> <img src=images/ent/U2192.GIF border=0><img src=images/ent/U2192.GIF border=0> <span class="docEmphasis">B</span> and <span class="docEmphasis">A</span> <img src=images/ent/U2192.GIF border=0><img src=images/ent/U2192.GIF border=0> <span class="docEmphasis">C</span>.</p>

<a name="databaseid-CHP-7-SECT-8.1.19"></a>
<h5 class="docSection3Title">Exercise 7-19</H5>
<p class="docText">Show that if <span class="docEmphasis">K</span> is a key for <span class="docEmphasis">R</span>, then <span class="docEmphasis">K</span> <img src=images/ent/U2192.GIF border=0><img src=images/ent/U2192.GIF border=0> <span class="docEmphasis">A</span> is satisfied for all attributes <span class="docEmphasis">A</span> of <span class="docEmphasis">R</span>.</p>
<a name="databaseid-CHP-7-NOTE-26"></a><div class="docNote"><p class="docNormalTitle">NOTE</P><p><p class="docText">Here is a convenient place to introduce some more definitions. Recall that <span class="docEmphasis">R</span> is in 4NF if and only if every nontrivial MVD it satisfies is implied by some superkey. The MVD <span class="docEmphasis">A</span> <img src=images/ent/U2192.GIF border=0> <img src=images/ent/U2192.GIF border=0> <span class="docEmphasis">B</span> is <span class="docEmphasis">trivial</span><a name="IDX-CHP-7-0564"></a> if and only if <span class="docEmphasis">AB</span> is equal to the heading of <span class="docEmphasis">R</span> or <span class="docEmphasis">A</span> is a superset of <span class="docEmphasis">B</span>; it's <span class="docEmphasis">implied by a superkey</span> if and only if <span class="docEmphasis">A</span> is a superkey.</P></P></div>

<a name="databaseid-CHP-7-SECT-8.1.20"></a>
<H5 class="docSection3Title">Exercise 7-20</H5>
<p class="docText">Give an example of a relvar that's in BCNF and not 4NF.</p>

<a name="databaseid-CHP-7-SECT-8.1.21"></a>
<h5 class="docSection3Title">Exercise 7-21</h5>
<p class="docText">Design a database for the following. The entities to be represented are sales representatives, sales areas, and products. Each representative is responsible for sales in one or more areas; each area has one or more responsible representatives. Each representative is responsible for sales of one or more products, and each product has one or more responsible representatives. Each product is sold in each area; however, no two representatives sell the same product in the same area. Each representative sells the same set of products in each area for which that representative is responsible.</p>

<a name="databaseid-CHP-7-SECT-7.1.22"></a>
<h5 class="docSection3Title">Exercise 7-22</h5>
<p class="docText">Write a <span class="docEmphStrong">Tutorial D</span> CONSTRAINT statement to express the JD satisfied by relvar SPJ of <a class="docLink" href="databaseid-CHP-7-SECT-3.html#databaseid-CHP-7-FIG-5">Figure 7-5</a>.</p>

<a name="databaseid-CHP-7-SECT-8.1.23"></a>
<h5 class="docSection3Title">Exercise 7-23</h5>
<p class="docText">(Modified version of <a class="docLink" href="#databaseid-CHP-7-SECT-8.1.21">Exercises 7-27</a>.) Design a database for the following. The entities to be represented are sales representatives, sales areas, and products. Each representative is responsible for sales in one or more areas; each area has one or more responsible representatives. Each representative is responsible for sales of one or more products, and each product has one or more responsible representatives. Each product is sold in one or more areas, and each area has one or more products sold in it. Finally, if representative <span class="docEmphasis">r</span> is responsible for area <span class="docEmphasis">a</span>, product <span class="docEmphasis">p</span> is sold in area <span class="docEmphasis">a</span>, and representative <span class="docEmphasis">r</span> sells product <span class="docEmphasis">p</span>, then <span class="docEmphasis">r</span> sells <span class="docEmphasis">p</span> in <span class="docEmphasis">a</span>.</p>

<a name="databaseid-CHP-7-SECT-8.1.24"></a>
<h5 class="docSection3Title">Exercise 7-24</h5>
<p class="docText">Which of the following are true statements?</p>
<div style="font-weight:bold"><ol class="docList" type="a"><li><div style="font-weight:normal"><p class="docList">Every "all key" relvar is in BCNF.</P></div></li><li><div style="font-weight:normal"><p class="docList">Every "all key" relvar is in 5NF.</p></div></li><LI><div style="font-weight:normal"><p class="docList">Every binary relvar is in BCNF.</P></div></li></ol></div>

<a name="databaseid-CHP-7-SECT-8.1.25"></a>
<H5 class="docSection3Title">Exercise 7-25</H5>
<p class="docText">There's a lot of discussion in the industry at the time of writing about the possibility of <span class="docEmphasis">XML<a name="IDX-CHP-7-0565"></a> databases</span>. But XML documents are inherently hierarchic in nature. Do you think the criticisms of hierarchies in the body of the chapter apply to XML databases? Justify your answer.</P>

<a name="databaseid-CHP-7-SECT-8.1.26"></a>
<h5 class="docSection3Title">Exercise 7-26</H5>
<p class="docText">Draw E/R diagrams for the databases from <a class="docLink" href="#databaseid-CHP-7-SECT-8.1.11">Exercises 7-11</a>,<a class="docLink" href="#databaseid-CHP-7-SECT-8.1.14">7-14</a><a class="docLink" href="#databaseid-CHP-7-SECT-8.1.21">7-21</a>, and <a class="docLink" href="#databaseid-CHP-7-SECT-8.1.23">7-23</a>. What do you conclude from this exercise?</P>

<a name="databaseid-CHP-7-SECT-8.1.27"></a>
<H5 class="docSection3Title">Exercise 7-27</H5>
<a name="IDX-CHP-7-0566"></a><a name="IDX-CHP-7-0567"></a>
<p class="docText">A certain database includes two base relvars that look like this:</P>
<pre>
  FATHER_OF { X NAME, Y NAME } KEY { X }
  MOTHER_OF { X NAME, Y NAME } KEY { X }
</pre><BR>

<p class="docText">The predicates are <span class="docEmphasis">The father of X is Y</span> and <span class="docEmphasis">The mother of X is Y</span>, respectively. For simplicity, no constraints are defined, except for the two KEY constraints. Comment on this design.</p>

<a name="databaseid-CHP-7-SECT-8.1.28"></a>
<h5 class="docSection3Title">Exercise 7-28</H5>
<p class="docText">This chapter has been concerned with <span class="docEmphasis">data</span> design; in essence, I've discussed certain aspects of relational design, and there's a strong argument that you should do a clean relational design first, even if your target DBMS isn't relational at all. In the same kind of way, it's sometimes suggested that <span class="docEmphasis">transaction</span> or <span class="docEmphasis">query</span> design might be done by defining the transaction or query in terms of relational algebra first, and then mapping that definition into SQL (or whatever your target language is) as a follow-on activity afterward. What do you think of this strategy?</P>



<ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="databaseid-CHP-7-SECT-7.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="databaseid-CHP-8.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
</body>
</html>
