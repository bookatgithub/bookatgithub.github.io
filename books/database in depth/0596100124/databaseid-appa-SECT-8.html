<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Some Equivalences</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body >
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="databaseid-appa-SECT-7.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="databaseid-appa-SECT-9.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><TD valign="top"><a name="databaseid-appa-SECT-8"></a>
<H3 class="docSection1Title">Some Equivalences</h3>
<p class="docText">I'll finish up this appendix with a few remarks on certain equivalences that might have already occurred to you. First, recall the IS_EMPTY<a name="IDX-CHP-appa-0040"></a> operator, which I introduced in <a class="docLink" href="databaseid-CHP-5.html#databaseid-CHP-5">Chapter 5</a> and made much use of in <a class="docLink" href="databaseid-CHP-6.html#databaseid-CHP-6">Chapter 6</a>. Well, if the system supports that operator, there's no logical need for it to support the quantifiers, thanks to the following equivalences:</p>
<pre>
    EXISTS <span class="docEmphasis">x</span> ( <span class="docEmphasis">p</span>)  <img src=images/ent/U2261.GIF border=0>  NOT ( IS_EMPTY ( <span class="docEmphasis">x</span> WHERE <span class="docEmphasis">p</span> ) )
</pre><br>

<p class="docText">and:</p>
<pre>
    FORALL <span class="docEmphasis">x</span> ( <span class="docEmphasis">p</span> )  <img src=images/ent/U2261.GIF border=0>  IS_EMPTY ( <span class="docEmphasis">x</span> WHERE NOT ( <span class="docEmphasis">p</span>) )
</pre><BR>

<p class="docText">In fact, the SQL support for quantifiers, such as it is, is based on exactly the foregoing equivalences. To be specific, SQL supports an EXISTS <span class="docEmphasis">operator—</span> not really a quantifier as such, because it doesn't involve any bound variables—that's defined as follows: the operator invocation EXISTS(<span class="docEmphasis">tx</span>), where <span class="docEmphasis">tx</span> is a table expression, returns TRUE if and only if the table <span class="docEmphasis">t</span> denoted by the expression <span class="docEmphasis">tx</span> is nonempty.<sup class="docFootnote"><a class="docLink" href="#databaseid-APPA-FN-2">[*]</a></sup> By contrast, SQL doesn't support a FORALL operator, because (a) we don't need both EXISTS and FORALL, and (b) more to the point, syntax of the form FORALL(<span class="docEmphasis">tx</span>) where <span class="docEmphasis">tx</span> is a table expression really makes no sense. For example, what could an expression like FORALL (SELECT * FROM S) possibly mean?</p><blockquote><p class="docFootnote"><sup><a name="databaseid-APPA-FN-2">[*]</a></sup> There's a certain irony here, though. As we saw in <a class="docLink" href="databaseid-CHP-3.html#databaseid-CHP-3">Chapter 3</a>, because SQL supports nulls, it's based on what's called <span class="docEmphasis">three-valued logic</span> (instead of the conventional two-valued logic the relational model is based on). In three-valued logic, the existential quantifier can return three different results: TRUE, FALSE, and what's usually called UNKNOWN (as indeed it is, in SQL). But SQL's EXISTS operator always returns TRUE or FALSE, never UNKNOWN. As a consequence, (a) SQL's EXISTS is not a faithful implementation of the existential quantifier of three-valued logic, and (b) once again, SQL queries sometimes return the wrong answer.</P></blockquote>
<p class="docText">In a similar fashion, we don't absolutely need the quantifiers anyway if the system supports the aggregate operator COUNT. This is because of the following equivalences:</p>
<pre>
    EXISTS <span class="docEmphasis">x</span> ( <span class="docEmphasis">p</span> )  <img src=images/ent/U2261.GIF border=0>  COUNT ( <span class="docEmphasis">x</span> WHERE <span class="docEmphasis">p</span> ) &gt; 0
</pre><BR>

<p class="docText">and:</P>
<pre>
    FORALL <span class="docEmphasis">x</span> ( <span class="docEmphasis">p</span> )  <img src=images/ent/U2261.GIF border=0>  COUNT ( <span class="docEmphasis">x</span> WHERE <span class="docEmphasis">p</span> ) = COUNT ( <span class="docEmphasis">x</span> )
</pre><BR>

<p class="docText">Now, I'm certainly not a fan of the idea of replacing quantified expressions by expressions involving COUNT invocations—though sometimes we have to, if we're in a pure algebraic framework—but it would be wrong of me not to mention the possibility.</P>

<ul></ul></td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#e6e6e6">
<tr style="background-image: url(images/tile_back.gif);">
<td class="v2" align="left" width="30%">
<a href="databaseid-appa-SECT-7.html"><img src="images/previous.gif" width="70" height="19" border="0" align="absmiddle" alt="Previous Section"></a>
</td>
<td class="v2" align="center" width="40%">
<a href="main.html" style="color:white;text-decoration:none;text-underline:none">&nbsp;&lt;&nbsp;Day Day Up&nbsp;&gt;&nbsp;</a>
</td>
<td class="v2" align="right" width="30%">
<a href="databaseid-appa-SECT-9.html"><img src="images/next.gif" width="70" height="19" border="0" align="absmiddle" alt="Next Section"></a>
</td>
</tr>
</table>
</body>
</html>
